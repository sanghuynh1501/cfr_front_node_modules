{"ast":null,"code":"import \"antd/es/collapse/style\";\nimport _Collapse from \"antd/es/collapse\";\nimport \"antd/es/drawer/style\";\nimport _Drawer from \"antd/es/drawer\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/conference2/collab-panel/index.jsx\";\n\nimport React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport './index.less';\nimport ParticipantsCollapse from './Participants';\nimport ChatCollapse from './ChatCollapse';\nimport PollCollapse from './PollCollapse';\nimport PublicView from './PollCollapse/PublicView';\nimport AttendanceManagementCollapse from './AttendanceManagementCollapse';\nimport QnACollapse from './QnACollapse/';\nimport QnAManagementCollapse from './QnAManagementCollapse';\nimport { checkPermission, _tabs } from '@constants';\nimport ShareFileCollapse from './ShareFileCollapse';\nvar CollaboratePanel = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollaboratePanel, _React$PureComponent);\n\n  var _super = _createSuper(CollaboratePanel);\n\n  function CollaboratePanel() {\n    var _this;\n\n    _classCallCheck(this, CollaboratePanel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.container = React.createRef();\n\n    _this.handleCloseMessages = function () {\n      var _this$props$conferenc = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc.isShowParticipants,\n          isShowPoll = _this$props$conferenc.isShowPoll,\n          isShowPollManagement = _this$props$conferenc.isShowPollManagement,\n          isShowAttendancesManagement = _this$props$conferenc.isShowAttendancesManagement,\n          setState = _this$props$conferenc.setState,\n          currentTab = _this$props$conferenc.currentTab,\n          isShowQnAManagement = _this$props$conferenc.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowPoll && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowMessages: false,\n              currentTab: currentTab === _tabs.CHAT ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowMessages: false,\n              currentTab: currentTab === _tabs.CHAT ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleClosePoll = function () {\n      var _this$props$conferenc2 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc2.isShowParticipants,\n          isShowMessages = _this$props$conferenc2.isShowMessages,\n          isShowPollManagement = _this$props$conferenc2.isShowPollManagement,\n          isShowAttendancesManagement = _this$props$conferenc2.isShowAttendancesManagement,\n          setState = _this$props$conferenc2.setState,\n          currentTab = _this$props$conferenc2.currentTab,\n          isShowQnAManagement = _this$props$conferenc2.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc2.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowPoll: false,\n              currentTab: currentTab === _tabs.POLL ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowPoll: false,\n              currentTab: currentTab === _tabs.POLL ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleClosePollManagement = function () {\n      var _this$props$conferenc3 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc3.isShowParticipants,\n          isShowMessages = _this$props$conferenc3.isShowMessages,\n          isShowPoll = _this$props$conferenc3.isShowPoll,\n          isShowAttendancesManagement = _this$props$conferenc3.isShowAttendancesManagement,\n          setState = _this$props$conferenc3.setState,\n          currentTab = _this$props$conferenc3.currentTab,\n          isShowQnAManagement = _this$props$conferenc3.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc3.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPoll && !isShowAttendancesManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowPollManagement: false,\n              currentTab: currentTab === _tabs.POLL_MANAGEMENT ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowPollManagement: false,\n              currentTab: currentTab === _tabs.POLL_MANAGEMENT ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleCloseParticipants = function () {\n      var _this$props$conferenc4 = _this.props.conferenceState,\n          isShowPollManagement = _this$props$conferenc4.isShowPollManagement,\n          isShowMessages = _this$props$conferenc4.isShowMessages,\n          isShowPoll = _this$props$conferenc4.isShowPoll,\n          isShowAttendancesManagement = _this$props$conferenc4.isShowAttendancesManagement,\n          setState = _this$props$conferenc4.setState,\n          currentTab = _this$props$conferenc4.currentTab,\n          isShowQnAManagement = _this$props$conferenc4.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc4.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowMessages && !isShowPoll && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowParticipants: false,\n              currentTab: currentTab === _tabs.PARTICIPANT ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowParticipants: false,\n              currentTab: currentTab === _tabs.PARTICIPANT ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleCloseAttendancesManagement = function () {\n      var _this$props$conferenc5 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc5.isShowParticipants,\n          isShowMessages = _this$props$conferenc5.isShowMessages,\n          isShowPoll = _this$props$conferenc5.isShowPoll,\n          isShowPollManagement = _this$props$conferenc5.isShowPollManagement,\n          setState = _this$props$conferenc5.setState,\n          currentTab = _this$props$conferenc5.currentTab,\n          isShowQnAManagement = _this$props$conferenc5.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc5.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPoll && !isShowPollManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowAttendancesManagement: false,\n              currentTab: currentTab === _tabs.ATTENDANCE_MANAGEMENT ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowAttendancesManagement: false,\n              currentTab: currentTab === _tabs.ATTENDANCE_MANAGEMENT ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleCloseQnAManagement = function () {\n      var _this$props$conferenc6 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc6.isShowParticipants,\n          isShowMessages = _this$props$conferenc6.isShowMessages,\n          isShowPoll = _this$props$conferenc6.isShowPoll,\n          isShowPollManagement = _this$props$conferenc6.isShowPollManagement,\n          setState = _this$props$conferenc6.setState,\n          currentTab = _this$props$conferenc6.currentTab,\n          isShowAttendancesManagement = _this$props$conferenc6.isShowAttendancesManagement,\n          isShowQnA = _this$props$conferenc6.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPoll && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowQnAManagement: false,\n              currentTab: currentTab === _tabs.QNA_MANAGEMENT ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowQnAManagement: false,\n              currentTab: currentTab === _tabs.QNA_MANAGEMENT ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleCloseQnA = function () {\n      var _this$props$conferenc7 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc7.isShowParticipants,\n          isShowMessages = _this$props$conferenc7.isShowMessages,\n          isShowPoll = _this$props$conferenc7.isShowPoll,\n          isShowPollManagement = _this$props$conferenc7.isShowPollManagement,\n          setState = _this$props$conferenc7.setState,\n          currentTab = _this$props$conferenc7.currentTab,\n          isShowAttendancesManagement = _this$props$conferenc7.isShowAttendancesManagement,\n          isShowQnAManagement = _this$props$conferenc7.isShowQnAManagement;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPoll && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnAManagement) {\n            setState({\n              isPanelOpen: false,\n              isShowQnA: false,\n              currentTab: currentTab === _tabs.QNA ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowQnA: false,\n              currentTab: currentTab === _tabs.QNA ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleCloseShareFile = function () {\n      var _this$props$conferenc8 = _this.props.conferenceState,\n          isShowParticipants = _this$props$conferenc8.isShowParticipants,\n          isShowMessages = _this$props$conferenc8.isShowMessages,\n          isShowPoll = _this$props$conferenc8.isShowPoll,\n          isShowPollManagement = _this$props$conferenc8.isShowPollManagement,\n          setState = _this$props$conferenc8.setState,\n          currentTab = _this$props$conferenc8.currentTab,\n          isShowAttendancesManagement = _this$props$conferenc8.isShowAttendancesManagement,\n          isShowQnAManagement = _this$props$conferenc8.isShowQnAManagement,\n          isShowQnA = _this$props$conferenc8.isShowQnA;\n      return /*#__PURE__*/React.createElement(_Icon, {\n        type: \"close\",\n        onClick: function onClick(event) {\n          event.stopPropagation();\n\n          if (!isShowParticipants && !isShowMessages && !isShowPoll && !isShowPollManagement && !isShowAttendancesManagement && !isShowQnAManagement && !isShowQnA) {\n            setState({\n              isPanelOpen: false,\n              isShowShareFile: false,\n              currentTab: currentTab === _tabs.SHARE_FILE ? '' : currentTab\n            });\n          } else {\n            setState({\n              isShowShareFile: false,\n              currentTab: currentTab === _tabs.SHARE_FILE ? '' : currentTab\n            });\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 7\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CollaboratePanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          conferenceState = _this$props.conferenceState,\n          _this$props$conferenc9 = _this$props.conferenceState,\n          myPermissions = _this$props$conferenc9.myPermissions,\n          currentUserId = _this$props$conferenc9.myInfo._id,\n          pollsInfo = _this$props$conferenc9.pollsInfo;\n      var votedYet = pollsInfo.length ? pollsInfo.map(function (e) {\n        return e.userVotes.map(function (i) {\n          return i.user._id;\n        });\n      }).flat(1).includes(currentUserId) : false;\n      var publicPollState = votedYet && conferenceState.isPanelOpen && conferenceState.isShowPoll && conferenceState.isShowPollResult && conferenceState.currentTab === _tabs.POLL;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Drawer, {\n        placement: \"right\",\n        closable: false,\n        mask: false,\n        onClose: function onClose() {\n          return conferenceState.setState({\n            isPanelOpen: false\n          });\n        },\n        visible: conferenceState.isPanelOpen,\n        keyboard: false // visible\n        ,\n        style: {\n          zIndex: 10,\n          transform: 'translateX(0)'\n        },\n        getContainer: function getContainer() {\n          return _this2.container.current;\n        },\n        className: \"collaborate-panel-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Drawer, {\n        placement: \"right\",\n        closable: false,\n        mask: false,\n        visible: publicPollState,\n        className: \"publicViewDrawer\",\n        keyboard: false,\n        width: \"380\",\n        style: {\n          right: publicPollState ? 380 : 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(PublicView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(_Collapse, {\n        accordion: true,\n        activeKey: conferenceState.currentTab,\n        onChange: function onChange(key) {\n          return conferenceState.setState({\n            currentTab: key ? key : ''\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }\n      }, conferenceState.isShowParticipants && /*#__PURE__*/React.createElement(_Collapse.Panel, {\n        key: _tabs.PARTICIPANT,\n        header: \"Participants\",\n        extra: this.handleCloseParticipants(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ParticipantsCollapse, {\n        mutateSetPinnedUser: this.props.mutateSetPinnedUser,\n        currentTab: conferenceState.currentTab,\n        doesParticipantHasAudio: this.props.doesParticipantHasAudio,\n        doesParticipantHasVideo: this.props.doesParticipantHasVideo,\n        tracksOfThisParticipant: this.props.tracksOfThisParticipant,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowShareFile && /*#__PURE__*/React.createElement(_Collapse.Panel, {\n        key: _tabs.SHARE_FILE,\n        header: \"Sharing files\",\n        extra: this.handleCloseShareFile(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ShareFileCollapse, {\n        currentTab: conferenceState.currentTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowMessages && /*#__PURE__*/React.createElement(_Collapse.Panel, {\n        key: _tabs.CHAT,\n        header: \"Messages\",\n        extra: this.handleCloseMessages(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ChatCollapse, {\n        currentTab: conferenceState.currentTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowPoll && /*#__PURE__*/React.createElement(_Collapse.Panel, {\n        key: _tabs.POLL,\n        header: \"Poll\",\n        extra: this.handleClosePoll(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(PollCollapse, {\n        currentTab: conferenceState.currentTab,\n        pollManagement: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowPollManagement && checkPermission(myPermissions, 'VOTE_CREATE') && /*#__PURE__*/React.createElement(_Collapse.Panel, {\n        key: _tabs.POLL_MANAGEMENT,\n        header: \"Poll Management\",\n        extra: this.handleClosePollManagement(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(PollCollapse, {\n        currentTab: conferenceState.currentTab,\n        pollManagement: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowAttendancesManagement &&\n      /*#__PURE__*/\n      // && checkPermission(myPermissions, 'VOTE_CREATE')\n      React.createElement(_Collapse.Panel, {\n        key: _tabs.ATTENDANCE_MANAGEMENT,\n        header: \"Attendance Management\",\n        extra: this.handleCloseAttendancesManagement(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(AttendanceManagementCollapse, {\n        currentTab: conferenceState.currentTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowQnAManagement &&\n      /*#__PURE__*/\n      // && checkPermission(myPermissions, 'VOTE_CREATE')\n      React.createElement(_Collapse.Panel, {\n        key: _tabs.QNA_MANAGEMENT,\n        header: \"Q&A Management\",\n        extra: this.handleCloseQnAManagement(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(QnAManagementCollapse, {\n        currentTab: conferenceState.currentTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 17\n        }\n      })), conferenceState.isShowQnA &&\n      /*#__PURE__*/\n      // && checkPermission(myPermissions, 'VOTE_CREATE')\n      React.createElement(_Collapse.Panel, {\n        key: _tabs.QNA,\n        header: \"Q&A\",\n        extra: this.handleCloseQnA(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(QnACollapse, {\n        currentTab: conferenceState.currentTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 17\n        }\n      })))));\n    }\n  }]);\n\n  return CollaboratePanel;\n}(React.PureComponent), _temp)) || _class) || _class);\nexport default CollaboratePanel;","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/conference2/collab-panel/index.jsx"],"names":["React","inject","observer","ParticipantsCollapse","ChatCollapse","PollCollapse","PublicView","AttendanceManagementCollapse","QnACollapse","QnAManagementCollapse","checkPermission","_tabs","ShareFileCollapse","CollaboratePanel","stores","container","createRef","handleCloseMessages","props","conferenceState","isShowParticipants","isShowPoll","isShowPollManagement","isShowAttendancesManagement","setState","currentTab","isShowQnAManagement","isShowQnA","event","stopPropagation","isPanelOpen","isShowMessages","CHAT","handleClosePoll","POLL","handleClosePollManagement","POLL_MANAGEMENT","handleCloseParticipants","PARTICIPANT","handleCloseAttendancesManagement","ATTENDANCE_MANAGEMENT","handleCloseQnAManagement","QNA_MANAGEMENT","handleCloseQnA","QNA","handleCloseShareFile","isShowShareFile","SHARE_FILE","myPermissions","currentUserId","myInfo","_id","pollsInfo","votedYet","length","map","e","userVotes","i","user","flat","includes","publicPollState","isShowPollResult","zIndex","transform","current","right","key","mutateSetPinnedUser","doesParticipantHasAudio","doesParticipantHasVideo","tracksOfThisParticipant","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Drawer, Collapse, Icon } from 'antd'\nimport { inject, observer } from 'mobx-react'\nimport './index.less'\n\nimport ParticipantsCollapse from './Participants'\nimport ChatCollapse from './ChatCollapse'\nimport PollCollapse from './PollCollapse'\nimport PublicView from './PollCollapse/PublicView'\nimport AttendanceManagementCollapse from './AttendanceManagementCollapse'\nimport QnACollapse from './QnACollapse/'\nimport QnAManagementCollapse from './QnAManagementCollapse'\nimport { checkPermission, _tabs } from '@constants'\nimport ShareFileCollapse from './ShareFileCollapse'\n\n@inject(({ stores }) => stores)\n@observer\nclass CollaboratePanel extends React.PureComponent {\n  container = React.createRef()\n\n  handleCloseMessages = () => {\n    const {\n      isShowParticipants,\n      isShowPoll,\n      isShowPollManagement,\n      isShowAttendancesManagement,\n      setState,\n      currentTab,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowMessages: false,\n              currentTab: currentTab === _tabs.CHAT ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowMessages: false,\n              currentTab: currentTab === _tabs.CHAT ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleClosePoll = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPollManagement,\n      isShowAttendancesManagement,\n      setState,\n      currentTab,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowPoll: false,\n              currentTab: currentTab === _tabs.POLL ? '' : currentTab\n            })\n          } else {\n            setState({ isShowPoll: false, currentTab: currentTab === _tabs.POLL ? '' : currentTab })\n          }\n        }}\n      />\n    )\n  }\n\n  handleClosePollManagement = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPoll,\n      isShowAttendancesManagement,\n      setState,\n      currentTab,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowPollManagement: false,\n              currentTab: currentTab === _tabs.POLL_MANAGEMENT ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowPollManagement: false,\n              currentTab: currentTab === _tabs.POLL_MANAGEMENT ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleCloseParticipants = () => {\n    const {\n      isShowPollManagement,\n      isShowMessages,\n      isShowPoll,\n      isShowAttendancesManagement,\n      setState,\n      currentTab,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowParticipants: false,\n              currentTab: currentTab === _tabs.PARTICIPANT ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowParticipants: false,\n              currentTab: currentTab === _tabs.PARTICIPANT ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleCloseAttendancesManagement = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPoll,\n      isShowPollManagement,\n      setState,\n      currentTab,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowAttendancesManagement: false,\n              currentTab: currentTab === _tabs.ATTENDANCE_MANAGEMENT ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowAttendancesManagement: false,\n              currentTab: currentTab === _tabs.ATTENDANCE_MANAGEMENT ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleCloseQnAManagement = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPoll,\n      isShowPollManagement,\n      setState,\n      currentTab,\n      isShowAttendancesManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowQnAManagement: false,\n              currentTab: currentTab === _tabs.QNA_MANAGEMENT ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowQnAManagement: false,\n              currentTab: currentTab === _tabs.QNA_MANAGEMENT ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleCloseQnA = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPoll,\n      isShowPollManagement,\n      setState,\n      currentTab,\n      isShowAttendancesManagement,\n      isShowQnAManagement\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowQnA: false,\n              currentTab: currentTab === _tabs.QNA ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowQnA: false,\n              currentTab: currentTab === _tabs.QNA ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  handleCloseShareFile = () => {\n    const {\n      isShowParticipants,\n      isShowMessages,\n      isShowPoll,\n      isShowPollManagement,\n      setState,\n      currentTab,\n      isShowAttendancesManagement,\n      isShowQnAManagement,\n      isShowQnA\n    } = this.props.conferenceState\n    return (\n      <Icon\n        type='close'\n        onClick={event => {\n          event.stopPropagation()\n          if (\n            !isShowParticipants &&\n            !isShowMessages &&\n            !isShowPoll &&\n            !isShowPollManagement &&\n            !isShowAttendancesManagement &&\n            !isShowQnAManagement &&\n            !isShowQnA\n          ) {\n            setState({\n              isPanelOpen: false,\n              isShowShareFile: false,\n              currentTab: currentTab === _tabs.SHARE_FILE ? '' : currentTab\n            })\n          } else {\n            setState({\n              isShowShareFile: false,\n              currentTab: currentTab === _tabs.SHARE_FILE ? '' : currentTab\n            })\n          }\n        }}\n      />\n    )\n  }\n\n  render() {\n    const {\n      conferenceState,\n      conferenceState: {\n        myPermissions,\n        myInfo: { _id: currentUserId },\n        pollsInfo\n      }\n    } = this.props\n\n    const votedYet = pollsInfo.length\n      ? pollsInfo\n        .map(e => e.userVotes.map(i => i.user._id))\n        .flat(1)\n        .includes(currentUserId)\n      : false\n\n    const publicPollState =\n      votedYet &&\n      conferenceState.isPanelOpen &&\n      conferenceState.isShowPoll &&\n      conferenceState.isShowPollResult &&\n      conferenceState.currentTab === _tabs.POLL\n\n    return (\n      <div ref={this.container}>\n        <Drawer\n          placement='right'\n          closable={false}\n          mask={false}\n          onClose={() => conferenceState.setState({ isPanelOpen: false })}\n          visible={conferenceState.isPanelOpen}\n          keyboard={false}\n          // visible\n          style={{ zIndex: 10, transform: 'translateX(0)' }}\n          getContainer={() => this.container.current}\n          className='collaborate-panel-wrapper'\n        >\n          <Drawer\n            placement='right'\n            closable={false}\n            mask={false}\n            visible={publicPollState}\n            className='publicViewDrawer'\n            keyboard={false}\n            width='380'\n            style={{\n              right: publicPollState ? 380 : 0\n            }}\n          >\n            <PublicView />\n          </Drawer>\n\n          <Collapse\n            accordion\n            activeKey={conferenceState.currentTab}\n            onChange={key => conferenceState.setState({ currentTab: key ? key : '' })}\n          >\n            {conferenceState.isShowParticipants && (\n              <Collapse.Panel key={_tabs.PARTICIPANT} header='Participants' extra={this.handleCloseParticipants()}>\n                <ParticipantsCollapse\n                  mutateSetPinnedUser={this.props.mutateSetPinnedUser}\n                  currentTab={conferenceState.currentTab}\n                  doesParticipantHasAudio={this.props.doesParticipantHasAudio}\n                  doesParticipantHasVideo={this.props.doesParticipantHasVideo}\n                  tracksOfThisParticipant={this.props.tracksOfThisParticipant}\n                />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowShareFile && (\n              <Collapse.Panel key={_tabs.SHARE_FILE} header='Sharing files' extra={this.handleCloseShareFile()}>\n                <ShareFileCollapse\n                  currentTab={conferenceState.currentTab}\n                />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowMessages && (\n              <Collapse.Panel key={_tabs.CHAT} header='Messages' extra={this.handleCloseMessages()}>\n                <ChatCollapse currentTab={conferenceState.currentTab} />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowPoll && (\n              <Collapse.Panel key={_tabs.POLL} header='Poll' extra={this.handleClosePoll()}>\n                <PollCollapse currentTab={conferenceState.currentTab} pollManagement={false} />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowPollManagement && checkPermission(myPermissions, 'VOTE_CREATE') && (\n              <Collapse.Panel\n                key={_tabs.POLL_MANAGEMENT}\n                header='Poll Management'\n                extra={this.handleClosePollManagement()}\n              >\n                <PollCollapse currentTab={conferenceState.currentTab} pollManagement={true} />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowAttendancesManagement && (\n              // && checkPermission(myPermissions, 'VOTE_CREATE')\n              <Collapse.Panel\n                key={_tabs.ATTENDANCE_MANAGEMENT}\n                header='Attendance Management'\n                extra={this.handleCloseAttendancesManagement()}\n              >\n                <AttendanceManagementCollapse currentTab={conferenceState.currentTab} />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowQnAManagement && (\n              // && checkPermission(myPermissions, 'VOTE_CREATE')\n              <Collapse.Panel\n                key={_tabs.QNA_MANAGEMENT}\n                header='Q&A Management'\n                extra={this.handleCloseQnAManagement()}\n              >\n                <QnAManagementCollapse currentTab={conferenceState.currentTab} />\n              </Collapse.Panel>\n            )}\n\n            {conferenceState.isShowQnA && (\n              // && checkPermission(myPermissions, 'VOTE_CREATE')\n              <Collapse.Panel key={_tabs.QNA} header='Q&A' extra={this.handleCloseQnA()}>\n                <QnACollapse currentTab={conferenceState.currentTab} />\n              </Collapse.Panel>\n            )}\n          </Collapse>\n        </Drawer>\n      </div>\n    )\n  }\n}\n\nexport default CollaboratePanel\n"]},"metadata":{},"sourceType":"module"}