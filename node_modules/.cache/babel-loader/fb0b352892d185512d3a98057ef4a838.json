{"ast":null,"code":"import \"antd/es/breadcrumb/style\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/groupDetail2/GroupInfo.jsx\";\n\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport chervonRightIcon from \"@misc/images/chervon-right.svg\";\nimport { withRouter, Link } from 'react-router-dom';\nimport ModalEditNode from '../groups2/components/ModalEditNode';\nimport ListAdminNode from './components/ListAdminNode';\nimport ListMemberNode from './components/ListMemberNode';\nimport ModalInviteMember from './components/ModalInviteMember';\nimport './index.less';\nimport { inject, observer } from 'mobx-react';\nimport { isSupperAdmin, hasPermissionInNode } from '@utils';\nimport { PER } from '@constants';\nvar GroupInfo = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), withRouter(_class = _dec(_class = observer(_class = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(GroupInfo, _React$PureComponent);\n\n  var _super = _createSuper(GroupInfo);\n\n  function GroupInfo() {\n    _classCallCheck(this, GroupInfo);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GroupInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          node = _this$props.node,\n          _this$props$node = _this$props.node,\n          name = _this$props$node.name,\n          descriptions = _this$props$node.descriptions,\n          queryNode = _this$props.queryNode,\n          i18n = _this$props.i18n,\n          myInfo = _this$props.globalState.myInfo;\n      var profiles = myInfo === null || myInfo === void 0 ? void 0 : myInfo.profiles;\n      var profileNode = profiles.find(function (profile) {\n        var _profile$node;\n\n        return (profile === null || profile === void 0 ? void 0 : (_profile$node = profile.node) === null || _profile$node === void 0 ? void 0 : _profile$node._id) === node._id;\n      });\n      var isAllowEditUserInNode = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_UPDATE_USER);\n      var isAllowAssignRole = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_ASSIGN_ROLE);\n      var isAllowKickUser = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_KICK_USER);\n      var admins = node.users.filter(function (user) {\n        return user.profiles.some(function (profile) {\n          var _profile$role, _profile$role2, _profile$node2;\n\n          return ((profile === null || profile === void 0 ? void 0 : (_profile$role = profile.role) === null || _profile$role === void 0 ? void 0 : _profile$role.code) === 'R_NODE_ADMIN' || (profile === null || profile === void 0 ? void 0 : (_profile$role2 = profile.role) === null || _profile$role2 === void 0 ? void 0 : _profile$role2.code) === 'R_NODE_MOD') && (profile === null || profile === void 0 ? void 0 : (_profile$node2 = profile.node) === null || _profile$node2 === void 0 ? void 0 : _profile$node2._id) === node._id;\n        });\n      });\n      var members = node.users.filter(function (user) {\n        return user.profiles.some(function (profile) {\n          var _profile$role3, _profile$node3;\n\n          return (profile === null || profile === void 0 ? void 0 : (_profile$role3 = profile.role) === null || _profile$role3 === void 0 ? void 0 : _profile$role3.code) === 'R_NODE_USER' && (profile === null || profile === void 0 ? void 0 : (_profile$node3 = profile.node) === null || _profile$node3 === void 0 ? void 0 : _profile$node3._id) === node._id;\n        });\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-detail-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Breadcrumb, {\n        separator: /*#__PURE__*/React.createElement(\"img\", {\n          src: chervonRightIcon,\n          alt: \"icon\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 32\n          }\n        }),\n        className: \"breadcrumb-template\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, i18n.t('group.allGroup'))), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      }, name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"detail-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"columnBtnHolder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_EDIT) ? /*#__PURE__*/React.createElement(ModalEditNode, {\n        node: node,\n        queryNode: queryNode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }\n      }) : '', isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_INVITE_USER) ? /*#__PURE__*/React.createElement(ModalInviteMember, {\n        node: node,\n        queryNode: queryNode,\n        currentUsers: node.users,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }\n      }) : ''))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, descriptions))), /*#__PURE__*/React.createElement(ListAdminNode, {\n        node: node,\n        admins: admins,\n        queryNode: queryNode,\n        isAllowEditUserInNode: isAllowEditUserInNode,\n        isAllowAssignRole: isAllowAssignRole,\n        isAllowKickUser: isAllowKickUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(ListMemberNode, {\n        node: node,\n        members: members,\n        queryNode: queryNode,\n        isAllowEditUserInNode: isAllowEditUserInNode,\n        isAllowAssignRole: isAllowAssignRole,\n        isAllowKickUser: isAllowKickUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return GroupInfo;\n}(React.PureComponent)) || _class) || _class) || _class);\nexport default withTranslation()(GroupInfo);","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/groupDetail2/GroupInfo.jsx"],"names":["React","withTranslation","withRouter","Link","ModalEditNode","ListAdminNode","ListMemberNode","ModalInviteMember","inject","observer","isSupperAdmin","hasPermissionInNode","PER","GroupInfo","stores","props","node","name","descriptions","queryNode","i18n","myInfo","globalState","profiles","profileNode","find","profile","_id","isAllowEditUserInNode","P_NODE_UPDATE_USER","isAllowAssignRole","P_NODE_ASSIGN_ROLE","isAllowKickUser","P_NODE_KICK_USER","admins","users","filter","user","some","role","code","members","chervonRightIcon","t","P_NODE_EDIT","P_NODE_INVITE_USER","PureComponent"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,eAAhC;;AAEA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AAGA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,OAAO,cAAP;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,SAASC,aAAT,EAAwBC,mBAAxB,QAAmD,QAAnD;AACA,SAASC,GAAT,QAAoB,YAApB;IAMMC,S,WAFLL,MAAM,CAAC;AAAA,MAAGM,MAAH,QAAGA,MAAH;AAAA,SAAgBA,MAAhB;AAAA,CAAD,C,EADNZ,U,wBAEAO,Q;;;;;;;;;;;;;6BAEU;AAAA,wBAcH,IAdG,CAELM,KAFK;AAAA,UAGHC,IAHG,eAGHA,IAHG;AAAA,yCAIHA,IAJG;AAAA,UAKDC,IALC,oBAKDA,IALC;AAAA,UAMDC,YANC,oBAMDA,YANC;AAAA,UAQHC,SARG,eAQHA,SARG;AAAA,UASHC,IATG,eASHA,IATG;AAAA,UAWDC,MAXC,eAUHC,WAVG,CAWDD,MAXC;AAgBP,UAAME,QAAQ,GAAGF,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAEE,QAAzB;AACA,UAAMC,WAAW,GAAGD,QAAQ,CAACE,IAAT,CAAc,UAAAC,OAAO;AAAA;;AAAA,eAAI,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEV,IAAT,gEAAeW,GAAf,MAAuBX,IAAI,CAACW,GAAhC;AAAA,OAArB,CAApB;AAEA,UAAMC,qBAAqB,GAAGlB,aAAa,CAACa,QAAD,CAAb,IAA2BZ,mBAAmB,CAACa,WAAD,EAAcZ,GAAG,CAACiB,kBAAlB,CAA5E;AACA,UAAMC,iBAAiB,GAAGpB,aAAa,CAACa,QAAD,CAAb,IAA2BZ,mBAAmB,CAACa,WAAD,EAAcZ,GAAG,CAACmB,kBAAlB,CAAxE;AACA,UAAMC,eAAe,GAAGtB,aAAa,CAACa,QAAD,CAAb,IAA2BZ,mBAAmB,CAACa,WAAD,EAAcZ,GAAG,CAACqB,gBAAlB,CAAtE;AAEA,UAAMC,MAAM,GAAGlB,IAAI,CAACmB,KAAL,CAAWC,MAAX,CAAkB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACd,QAAL,CAAce,IAAd,CAAmB,UAAAZ,OAAO;AAAA;;AAAA,iBAAI,CAAC,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEa,IAAT,gEAAeC,IAAf,MAAwB,cAAxB,IAA0C,CAAAd,OAAO,SAAP,IAAAA,OAAO,WAAP,8BAAAA,OAAO,CAAEa,IAAT,kEAAeC,IAAf,MAAwB,YAAnE,KAAoF,CAAAd,OAAO,SAAP,IAAAA,OAAO,WAAP,8BAAAA,OAAO,CAAEV,IAAT,kEAAeW,GAAf,MAAuBX,IAAI,CAACW,GAApH;AAAA,SAA1B,CAAJ;AAAA,OAAtB,CAAf;AACA,UAAMc,OAAO,GAAGzB,IAAI,CAACmB,KAAL,CAAWC,MAAX,CAAkB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACd,QAAL,CAAce,IAAd,CAAmB,UAAAZ,OAAO;AAAA;;AAAA,iBAAI,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,8BAAAA,OAAO,CAAEa,IAAT,kEAAeC,IAAf,MAAwB,aAAxB,IAAyC,CAAAd,OAAO,SAAP,IAAAA,OAAO,WAAP,8BAAAA,OAAO,CAAEV,IAAT,kEAAeW,GAAf,MAAuBX,IAAI,CAACW,GAAzE;AAAA,SAA1B,CAAJ;AAAA,OAAtB,CAAhB;AACA,0BACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAY,QAAA,SAAS,eAAE;AAAK,UAAA,GAAG,EAAEe,gBAAV;AAA4B,UAAA,GAAG,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAvB;AAAkE,QAAA,SAAS,EAAC,qBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,gCAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmBtB,IAAI,CAACuB,CAAL,CAAO,gBAAP,CAAnB,CADF,CADF,eAIE,gCAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkB1B,IAAlB,CAJF,CADF,eAQE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,IAAL,CADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEGP,aAAa,CAACa,QAAD,CAAb,IAA2BZ,mBAAmB,CAACa,WAAD,EAAcZ,GAAG,CAACgC,WAAlB,CAA9C,gBACC,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAE5B,IAArB;AAA2B,QAAA,SAAS,EAAEG,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAEG,EAJN,EAMGT,aAAa,CAACa,QAAD,CAAb,IAA2BZ,mBAAmB,CAACa,WAAD,EAAcZ,GAAG,CAACiC,kBAAlB,CAA9C,gBACC,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAE7B,IAAzB;AAA+B,QAAA,SAAS,EAAEG,SAA1C;AAAqD,QAAA,YAAY,EAAEH,IAAI,CAACmB,KAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAEG,EARN,CADF,CAFF,CADF,eAiBE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOjB,YAAP,CADF,CAjBF,CARF,eA6BE,oBAAC,aAAD;AACE,QAAA,IAAI,EAAEF,IADR;AAEE,QAAA,MAAM,EAAEkB,MAFV;AAGE,QAAA,SAAS,EAAEf,SAHb;AAIE,QAAA,qBAAqB,EAAES,qBAJzB;AAKE,QAAA,iBAAiB,EAAEE,iBALrB;AAME,QAAA,eAAe,EAAEE,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA7BF,eAsCE,oBAAC,cAAD;AACE,QAAA,IAAI,EAAEhB,IADR;AAEE,QAAA,OAAO,EAAEyB,OAFX;AAGE,QAAA,SAAS,EAAEtB,SAHb;AAIE,QAAA,qBAAqB,EAAES,qBAJzB;AAKE,QAAA,iBAAiB,EAAEE,iBALrB;AAME,QAAA,eAAe,EAAEE,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCF,CADF;AAiDD;;;;EA3EqBhC,KAAK,CAAC8C,a;AA8E9B,eAAe7C,eAAe,GAAGY,SAAH,CAA9B","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport chervonRightIcon from '@misc/images/chervon-right.svg'\nimport { withRouter, Link } from 'react-router-dom'\nimport { Breadcrumb } from 'antd'\n\nimport ModalEditNode from '../groups2/components/ModalEditNode'\nimport ListAdminNode from './components/ListAdminNode'\nimport ListMemberNode from './components/ListMemberNode'\nimport ModalInviteMember from './components/ModalInviteMember'\nimport './index.less'\nimport { inject, observer } from 'mobx-react'\nimport { isSupperAdmin, hasPermissionInNode } from '@utils'\nimport { PER } from '@constants'\n\n\n@withRouter\n@inject(({ stores }) => stores)\n@observer\nclass GroupInfo extends React.PureComponent {\n  render() {\n    const {\n      props: {\n        node,\n        node: {\n          name,\n          descriptions\n        },\n        queryNode,\n        i18n,\n        globalState: {\n          myInfo\n        }\n      }\n    } = this\n\n    const profiles = myInfo?.profiles\n    const profileNode = profiles.find(profile => profile?.node?._id === node._id)\n\n    const isAllowEditUserInNode = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_UPDATE_USER)\n    const isAllowAssignRole = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_ASSIGN_ROLE)\n    const isAllowKickUser = isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_KICK_USER)\n\n    const admins = node.users.filter(user => user.profiles.some(profile => (profile?.role?.code === 'R_NODE_ADMIN' || profile?.role?.code === 'R_NODE_MOD') && profile?.node?._id === node._id))\n    const members = node.users.filter(user => user.profiles.some(profile => profile?.role?.code === 'R_NODE_USER' && profile?.node?._id === node._id))\n    return (\n      <div className='wrapper-detail-group'>\n        <Breadcrumb separator={<img src={chervonRightIcon} alt='icon' />} className='breadcrumb-template'>\n          <Breadcrumb.Item>\n            <Link to='/group'>{i18n.t('group.allGroup')}</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{name}</Breadcrumb.Item>\n        </Breadcrumb>\n\n        <div className='detail-group-item'>\n          <div className='header'>\n            <h3>{name}</h3>\n            <div className='group-button'>\n              <span className='columnBtnHolder'\n              >\n                {isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_EDIT) ? (\n                  <ModalEditNode node={node} queryNode={queryNode} />\n                ) : ''}\n\n                {isSupperAdmin(profiles) || hasPermissionInNode(profileNode, PER.P_NODE_INVITE_USER) ? (\n                  <ModalInviteMember node={node} queryNode={queryNode} currentUsers={node.users} />\n                ) : ''}\n\n              </span>\n            </div>\n          </div>\n          <div className='content'>\n            <span>{descriptions}</span>\n          </div>\n        </div>\n        <ListAdminNode\n          node={node}\n          admins={admins}\n          queryNode={queryNode}\n          isAllowEditUserInNode={isAllowEditUserInNode}\n          isAllowAssignRole={isAllowAssignRole}\n          isAllowKickUser={isAllowKickUser}\n        />\n\n        <ListMemberNode\n          node={node}\n          members={members}\n          queryNode={queryNode}\n          isAllowEditUserInNode={isAllowEditUserInNode}\n          isAllowAssignRole={isAllowAssignRole}\n          isAllowKickUser={isAllowKickUser}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withTranslation()(GroupInfo)\n"]},"metadata":{},"sourceType":"module"}