{"ast":null,"code":"import \"antd/es/tooltip/style\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/profile/index.jsx\";\n\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { inject, observer } from 'mobx-react';\nimport { withRouter } from 'react-router-dom';\nimport { client, Q_MY_INFO } from '@graphql';\nimport { returnError, newNotification } from '@utils';\nimport './index.less';\nimport { AvatarComponent } from '@components';\nimport FormEditInfo from './FormEditInfo';\nimport FormChangePassword from './FormChangePassword';\nimport ModalChangeAvatar from './ModalChangeAvatar';\nimport FormChangePMI from './FormChangePMI';\nimport ModalDeleteAvatar from './ModalDeleteAvatar';\nimport ButtonMoreNodes from '../components/ButtonMoreNodes/ButtonMoreNodes';\nvar Profile = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), withRouter(_class = _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Profile, _React$PureComponent);\n\n  var _super = _createSuper(Profile);\n\n  function Profile() {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      visibleEditInfo: false,\n      visibleEditPassword: false,\n      visibleChangeAvatar: false,\n      visibleDeleteAvatar: false,\n      visiblePopover: false,\n      imageUrl: null,\n      visibleEditPMI: false\n    };\n\n    _this.handleOpenChangeAvatar = function () {\n      return _this.setState(function (_preState) {\n        return {\n          visiblePopover: false,\n          visibleChangeAvatar: true\n        };\n      });\n    };\n\n    _this.handleCloseChangeAvatar = function () {\n      return _this.setState(function (_preState) {\n        return {\n          visibleChangeAvatar: false\n        };\n      });\n    };\n\n    _this.handleOpenDeleteAvatar = function () {\n      return _this.setState({\n        visibleDeleteAvatar: true,\n        visiblePopover: false\n      });\n    };\n\n    _this.handleCloseDeleteAvatar = function () {\n      return _this.setState({\n        visibleDeleteAvatar: false\n      });\n    };\n\n    _this.getImageUrl = function (imageUrl) {\n      return _this.setState({\n        imageUrl: imageUrl\n      });\n    };\n\n    _this.handleToggleEditInfo = function () {\n      return _this.setState(function (_preState) {\n        return {\n          visibleEditInfo: !_preState.visibleEditInfo\n        };\n      });\n    };\n\n    _this.handleToggleEditPassword = function () {\n      return _this.setState(function (_preState) {\n        return {\n          visibleEditPassword: !_preState.visibleEditPassword\n        };\n      });\n    };\n\n    _this.handleToggleEditPMI = function () {\n      return _this.setState(function (_preState) {\n        return {\n          visibleEditPMI: !_preState.visibleEditPMI\n        };\n      });\n    };\n\n    _this.handlePopoverVisibleChange = function (e) {\n      _this.setState({\n        visiblePopover: e\n      });\n    };\n\n    _this.generatePMILink = function (e) {\n      var _this$props$globalSta;\n\n      return e.split('/').slice(0, -1).concat(['conference', (_this$props$globalSta = _this.props.globalState.myInfo) === null || _this$props$globalSta === void 0 ? void 0 : _this$props$globalSta.personalMeetingCode]).join('/');\n    };\n\n    _this.handleCopyLink = function (e) {\n      var el = document.createElement('textarea');\n      el.value = _this.generatePMILink(e);\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      return newNotification(_this.props.i18n.t('copyTextSuccess'), 'success', {\n        container: 'top-right'\n      });\n    };\n\n    _this.queryMyInfo = function () {\n      return client.query({\n        query: Q_MY_INFO,\n        fetchPolicy: 'network-only'\n      }).then(function (_ref2) {\n        var myInfo = _ref2.data.myInfo;\n\n        if (myInfo) {\n          _this.props.globalState.setMyInfo(myInfo);\n        }\n      }).catch(function (error) {\n        return returnError('myInfo', {\n          error: error,\n          errorMessage: _this.props.i18n.t('notification.queryInfoError')\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _globalState$myInfo,\n          _globalState$myInfo$p,\n          _globalState$myInfo$p2,\n          _globalState$myInfo$p3;\n\n      var _this$props = this.props,\n          globalState = _this$props.globalState,\n          i18n = _this$props.i18n,\n          myInfo = _this$props.globalState.myInfo;\n      var queryMyInfo = this.queryMyInfo;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"detail-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Row, {\n        style: {\n          paddingTop: '0px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avatar-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(AvatarComponent, Object.assign({}, globalState.myInfo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avatar-action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.handleOpenChangeAvatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }, i18n.t('common.change')), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        style: {\n          display: globalState.myInfo && globalState.myInfo.imageUrl ? 'inline-block' : 'none'\n        },\n        onClick: this.handleOpenDeleteAvatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, i18n.t('common.delete'))))), this.state.visibleEditInfo ? /*#__PURE__*/React.createElement(_Col, {\n        span: 17,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"edit-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormEditInfo, {\n        user: globalState.myInfo,\n        handleToggleEditInfo: this.handleToggleEditInfo,\n        queryMyInfo: queryMyInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 19\n        }\n      }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 14,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"profile-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }, globalState.myInfo ? \"\".concat(globalState.myInfo.firstname, \" \").concat(globalState.myInfo.lastname) : '')), /*#__PURE__*/React.createElement(_Col, {\n        span: 4,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this.handleToggleEditInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, i18n.t('common.edit'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }\n      }, i18n.t('user.personalMeetingId'), \":\"), this.state.visibleEditPMI ? /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormChangePMI, {\n        user: globalState === null || globalState === void 0 ? void 0 : globalState.myInfo,\n        handleToggleEditPMI: this.handleToggleEditPMI,\n        refetch: queryMyInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 14,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'column'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 23\n        }\n      }, globalState.myInfo ? globalState.myInfo.personalMeetingCode : ''), /*#__PURE__*/React.createElement(_Tooltip, {\n        placement: \"right\",\n        title: i18n.t('common.copyLink'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick(e) {\n          return _this2.handleCopyLink(window.location.href);\n        },\n        className: \"clickableSpan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, this.generatePMILink(window.location.href))))), /*#__PURE__*/React.createElement(_Col, {\n        span: 4,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this.handleToggleEditPMI,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }, i18n.t('common.edit'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }\n      }, \"Email:\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      }, globalState.myInfo ? globalState.myInfo.email : '')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }\n      }, i18n.t('user.userType'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, ((_globalState$myInfo = globalState.myInfo) === null || _globalState$myInfo === void 0 ? void 0 : (_globalState$myInfo$p = _globalState$myInfo.profiles) === null || _globalState$myInfo$p === void 0 ? void 0 : _globalState$myInfo$p.length) ? (_globalState$myInfo$p2 = globalState.myInfo.profiles.find(function (profile) {\n        return !profile.node;\n      })) === null || _globalState$myInfo$p2 === void 0 ? void 0 : (_globalState$myInfo$p3 = _globalState$myInfo$p2.role) === null || _globalState$myInfo$p3 === void 0 ? void 0 : _globalState$myInfo$p3.name : '')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, i18n.t('user.account'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }\n      }, globalState.myInfo ? globalState.myInfo.username : '')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }\n      }, i18n.t('common.password'), \":\"), this.state.visibleEditPassword ? /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormChangePassword, Object.assign({}, globalState.myInfo, {\n        handleToggleEditPassword: this.handleToggleEditPassword,\n        queryMyInfo: queryMyInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 14,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }\n      }, \"***********\")), /*#__PURE__*/React.createElement(_Col, {\n        span: 4,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this.handleToggleEditPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }\n      }, i18n.t('common.edit'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }\n      }, i18n.t('user.phoneNumber'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }\n      }, globalState.myInfo ? globalState.myInfo.phoneNumber : 'Not update')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }\n      }, i18n.t('user.allNodes'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ButtonMoreNodes, {\n        profiles: myInfo === null || myInfo === void 0 ? void 0 : myInfo.profiles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(ModalChangeAvatar, Object.assign({}, globalState.myInfo, {\n        visible: this.state.visibleChangeAvatar,\n        handleClose: this.handleCloseChangeAvatar,\n        queryMyInfo: queryMyInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(ModalDeleteAvatar, Object.assign({}, globalState.myInfo, {\n        visible: this.state.visibleDeleteAvatar,\n        handleClose: this.handleCloseDeleteAvatar,\n        queryMyInfo: queryMyInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n\n  return Profile;\n}(React.PureComponent), _temp)) || _class) || _class) || _class);\nexport default withTranslation()(Profile);","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/profile/index.jsx"],"names":["React","withTranslation","inject","observer","withRouter","client","Q_MY_INFO","returnError","newNotification","AvatarComponent","FormEditInfo","FormChangePassword","ModalChangeAvatar","FormChangePMI","ModalDeleteAvatar","ButtonMoreNodes","Profile","stores","state","visibleEditInfo","visibleEditPassword","visibleChangeAvatar","visibleDeleteAvatar","visiblePopover","imageUrl","visibleEditPMI","handleOpenChangeAvatar","setState","_preState","handleCloseChangeAvatar","handleOpenDeleteAvatar","handleCloseDeleteAvatar","getImageUrl","handleToggleEditInfo","handleToggleEditPassword","handleToggleEditPMI","handlePopoverVisibleChange","e","generatePMILink","split","slice","concat","props","globalState","myInfo","personalMeetingCode","join","handleCopyLink","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","i18n","t","container","queryMyInfo","query","fetchPolicy","then","data","setMyInfo","catch","error","errorMessage","paddingTop","display","firstname","lastname","justifyContent","window","location","href","email","profiles","length","find","profile","node","role","name","username","phoneNumber","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { inject, observer } from 'mobx-react'\nimport { Row, Col, Tooltip } from 'antd'\nimport { withRouter } from 'react-router-dom'\n\nimport { client, Q_MY_INFO } from '@graphql'\nimport { returnError, newNotification } from '@utils'\n\nimport './index.less'\n\nimport { AvatarComponent } from '@components'\n\nimport FormEditInfo from './FormEditInfo'\nimport FormChangePassword from './FormChangePassword'\nimport ModalChangeAvatar from './ModalChangeAvatar'\nimport FormChangePMI from './FormChangePMI'\nimport ModalDeleteAvatar from './ModalDeleteAvatar'\nimport ButtonMoreNodes from '../components/ButtonMoreNodes/ButtonMoreNodes'\n@withRouter\n@inject(({ stores }) => stores)\n@observer\nclass Profile extends React.PureComponent {\n  state = {\n    visibleEditInfo: false,\n    visibleEditPassword: false,\n    visibleChangeAvatar: false,\n    visibleDeleteAvatar: false,\n    visiblePopover: false,\n    imageUrl: null,\n    visibleEditPMI: false\n  }\n\n  handleOpenChangeAvatar = () =>\n    this.setState(_preState => ({\n      visiblePopover: false,\n      visibleChangeAvatar: true\n    }))\n\n  handleCloseChangeAvatar = () =>\n    this.setState(_preState => ({\n      visibleChangeAvatar: false\n    }))\n\n  handleOpenDeleteAvatar = () => this.setState({ visibleDeleteAvatar: true, visiblePopover: false })\n\n  handleCloseDeleteAvatar = () => this.setState({ visibleDeleteAvatar: false })\n\n  getImageUrl = imageUrl => this.setState({ imageUrl })\n\n  handleToggleEditInfo = () =>\n    this.setState(_preState => ({\n      visibleEditInfo: !_preState.visibleEditInfo\n    }))\n\n  handleToggleEditPassword = () =>\n    this.setState(_preState => ({\n      visibleEditPassword: !_preState.visibleEditPassword\n    }))\n\n  handleToggleEditPMI = () =>\n    this.setState(_preState => ({\n      visibleEditPMI: !_preState.visibleEditPMI\n    }))\n\n  handlePopoverVisibleChange = e => {\n    this.setState({ visiblePopover: e })\n  }\n\n  generatePMILink = e =>\n    e\n      .split('/')\n      .slice(0, -1)\n      .concat([\n        'conference',\n        this.props.globalState.myInfo?.personalMeetingCode\n      ])\n      .join('/')\n\n  handleCopyLink = e => {\n    const el = document.createElement('textarea')\n    el.value = this.generatePMILink(e)\n    document.body.appendChild(el)\n    el.select()\n    document.execCommand('copy')\n    document.body.removeChild(el)\n\n    return newNotification(this.props.i18n.t('copyTextSuccess'), 'success', {\n      container: 'top-right'\n    })\n  }\n\n  queryMyInfo = () =>\n    client\n      .query({ query: Q_MY_INFO, fetchPolicy: 'network-only' })\n      .then(({ data: { myInfo } }) => {\n        if (myInfo) {\n          this.props.globalState.setMyInfo(myInfo)\n        }\n      })\n      .catch(error =>\n        returnError('myInfo', {\n          error,\n          errorMessage: this.props.i18n.t('notification.queryInfoError')\n        })\n      )\n\n  render() {\n    const {\n      globalState,\n      i18n,\n      globalState: { myInfo }\n    } = this.props\n    const { queryMyInfo } = this\n\n    return (\n      <>\n        <div className='detail-user'>\n          <Row style={{ paddingTop: '0px' }}>\n            <Col span={6} className='title'>\n              <div className='avatar-wrapper'>\n                <AvatarComponent {...globalState.myInfo} />\n                <div className='avatar-action'>\n                  <button type='button' onClick={this.handleOpenChangeAvatar}>\n                    {i18n.t('common.change')}\n                  </button>\n                  <button\n                    type='button'\n                    style={{\n                      display: globalState.myInfo && globalState.myInfo.imageUrl ? 'inline-block' : 'none'\n                    }}\n                    onClick={this.handleOpenDeleteAvatar}\n                  >\n                    {i18n.t('common.delete')}\n                  </button>\n                </div>\n              </div>\n            </Col>\n            {this.state.visibleEditInfo ? (\n              <Col span={17}>\n                <div className='edit-wrapper'>\n                  <FormEditInfo\n                    user={globalState.myInfo}\n                    handleToggleEditInfo={this.handleToggleEditInfo}\n                    queryMyInfo={queryMyInfo}\n                  />\n                </div>\n              </Col>\n            ) : (\n                <>\n                  <Col span={14}>\n                    <span className='profile-name'>\n                      {globalState.myInfo ? `${globalState.myInfo.firstname} ${globalState.myInfo.lastname}` : ''}\n                    </span>\n                  </Col>\n                  <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                    <button type='button' className='btn-edit' onClick={this.handleToggleEditInfo}>\n                      {i18n.t('common.edit')}\n                    </button>\n                  </Col>\n                </>\n              )}\n          </Row>\n\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('user.personalMeetingId')}:\n            </Col>\n            {this.state.visibleEditPMI ? (\n              <Col span={18} className='content'>\n                <FormChangePMI\n                  user={globalState?.myInfo}\n                  handleToggleEditPMI={this.handleToggleEditPMI}\n                  refetch={queryMyInfo}\n                />\n              </Col>\n            ) : (\n                <>\n                  <Col span={14} className='content'>\n                    <div>\n                      <span\n                        style={{\n                          display: 'flex',\n                          justifyContent: 'column'\n                        }}\n                      >\n                        {globalState.myInfo ? globalState.myInfo.personalMeetingCode : ''}\n                      </span>\n                      <Tooltip placement='right' title={i18n.t('common.copyLink')}>\n                        <span onClick={e => this.handleCopyLink(window.location.href)} className='clickableSpan'>\n                          {this.generatePMILink(window.location.href)}\n                        </span>\n                      </Tooltip>\n                    </div>\n                  </Col>\n                  <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                    <button type='button' className='btn-edit' onClick={this.handleToggleEditPMI}>\n                      {i18n.t('common.edit')}\n                    </button>\n                  </Col>\n                </>\n              )}\n          </Row>\n\n          <Row>\n            <Col span={6} className='title'>\n              Email:\n            </Col>\n            <Col span={18} className='content'>\n              {globalState.myInfo ? globalState.myInfo.email : ''}\n            </Col>\n          </Row>\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('user.userType')}:\n            </Col>\n            <Col span={18} className='content'>\n              {globalState.myInfo?.profiles?.length ? globalState.myInfo.profiles.find(profile => !profile.node)?.role?.name : ''}\n\n            </Col>\n          </Row>\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('user.account')}:\n            </Col>\n            <Col span={18} className='content'>\n              {globalState.myInfo ? globalState.myInfo.username : ''}\n            </Col>\n          </Row>\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('common.password')}:\n            </Col>\n            {this.state.visibleEditPassword ? (\n              <Col span={18} className='content'>\n                <FormChangePassword\n                  {...globalState.myInfo}\n                  handleToggleEditPassword={this.handleToggleEditPassword}\n                  queryMyInfo={queryMyInfo}\n                />\n              </Col>\n            ) : (\n                <>\n                  <Col span={14} className='content'>\n                    <span>***********</span>\n                  </Col>\n                  <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                    <button type='button' className='btn-edit' onClick={this.handleToggleEditPassword}>\n                      {i18n.t('common.edit')}\n                    </button>\n                  </Col>\n                </>\n              )}\n          </Row>\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('user.phoneNumber')}:\n            </Col>\n            <Col span={18} className='content'>\n              {globalState.myInfo ? globalState.myInfo.phoneNumber : 'Not update'}\n            </Col>\n          </Row>\n\n          <Row>\n            <Col span={6} className='title'>\n              {i18n.t('user.allNodes')}:\n          </Col>\n            <Col span={18} className='content'>\n              <ButtonMoreNodes profiles={myInfo?.profiles} />\n            </Col>\n          </Row>\n\n          <ModalChangeAvatar\n            {...globalState.myInfo}\n            visible={this.state.visibleChangeAvatar}\n            handleClose={this.handleCloseChangeAvatar}\n            queryMyInfo={queryMyInfo}\n          />\n\n          <ModalDeleteAvatar\n            {...globalState.myInfo}\n            visible={this.state.visibleDeleteAvatar}\n            handleClose={this.handleCloseDeleteAvatar}\n            queryMyInfo={queryMyInfo}\n          />\n        </div>\n      </>\n    )\n  }\n}\n\nexport default withTranslation()(Profile)\n"]},"metadata":{},"sourceType":"module"}