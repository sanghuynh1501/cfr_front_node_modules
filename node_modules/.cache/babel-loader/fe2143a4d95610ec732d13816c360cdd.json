{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/radio/style\";\nimport _Radio from \"antd/es/radio\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/time-picker/style\";\nimport _TimePicker from \"antd/es/time-picker\";\nimport \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport \"antd/es/checkbox/style\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/webinars/EditWebinar.jsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport './CreateWebinar.less';\nimport { client, M_UPDATE_WEBINAR } from '@graphql';\nimport { returnError, newNotification } from '@utils';\nvar Option = _Select.Option;\nvar options = {\n  QnA: 'A',\n  practiceSession: 'B',\n  authenticatedOnly: 'C',\n  automaticallyRecord: 'D'\n};\n\nvar FormEditWebinar = /*#__PURE__*/function (_React$Component) {\n  _inherits(FormEditWebinar, _React$Component);\n\n  var _super = _createSuper(FormEditWebinar);\n\n  function FormEditWebinar() {\n    var _this;\n\n    _classCallCheck(this, FormEditWebinar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      alwaysAvailable: false\n    };\n\n    _this.convertTime = function (date) {\n      var newDate = new Date(date._d.getFullYear(), date._d.getMonth(), date._d.getDate());\n      return newDate.getTime();\n    };\n\n    _this.convertDate = function (date, time) {\n      var newDate = new Date(date._d.getFullYear(), date._d.getMonth(), date._d.getDate(), time._d.getHours(), time._d.getMinutes(), time._d.getSeconds());\n      return newDate.getTime();\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      if (_this.state.alwaysAvailable) _this.props.form.setFieldsValue({\n        date: null,\n        time: null\n      });\n\n      _this.props.form.validateFields(function (err, values) {\n        var startAt = values.date && values.time ? _this.convertDate(values.date, values.time) : null;\n        var QnA = values['default-option'].indexOf('A') !== -1;\n        var practiceSession = values['default-option'].indexOf('B') !== -1;\n        var authenticatedOnly = values['default-option'].indexOf('C') !== -1;\n        var automaticallyRecord = values['default-option'].indexOf('D') !== -1; //MUTATION CREATE CONFERENCE\n\n        client.mutate({\n          mutation: M_UPDATE_WEBINAR,\n          variables: {\n            webinarId: _this.props.webinarSelect._id,\n            newWebinarUpdate: {\n              name: values.name,\n              password: values.password || '',\n              startAt: startAt - _this.convertTime(values.date),\n              startDate: _this.convertTime(values.date),\n              defaultParticipantRole: values.role,\n              hostVideo: values['radio-host'] === 'A',\n              panelistsVideo: values['radio-panelists'] === 'A',\n              QnA: QnA,\n              practiceSession: practiceSession,\n              authenticatedOnly: authenticatedOnly,\n              automaticallyRecord: automaticallyRecord\n            }\n          }\n        }).then(function (_ref) {\n          var updateWebinar = _ref.data.updateWebinar;\n\n          _this.props.form.resetFields();\n\n          if (updateWebinar) {\n            _this.props.refetch();\n\n            _this.props.backToDefault();\n\n            newNotification('Create Webinar Success', 'success', {\n              container: 'top-right'\n            });\n          }\n        }).catch(function (error) {\n          return returnError('Get Link', {\n            error: error,\n            errorMessage: 'Cannot create conference, try again later!'\n          }, {\n            container: 'top-center'\n          });\n        });\n      });\n    };\n\n    _this.changeSeclect = function (_ref2) {\n      var QnA = _ref2.QnA,\n          practiceSession = _ref2.practiceSession,\n          authenticatedOnly = _ref2.authenticatedOnly,\n          automaticallyRecord = _ref2.automaticallyRecord;\n      return [options[QnA ? 'QnA' : null], options[practiceSession ? 'practiceSession' : null], options[authenticatedOnly ? 'authenticatedOnly' : null], options[automaticallyRecord ? 'automaticallyRecord' : null]].filter(function (e) {\n        return e !== undefined;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FormEditWebinar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          getFieldDecorator = _this$props.form.getFieldDecorator,\n          webinarSelect = _this$props.webinarSelect;\n      return /*#__PURE__*/React.createElement(_Form, {\n        ref: \"form\",\n        className: \"form-create-webinar\",\n        style: {\n          width: '60%'\n        },\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, \"Edit a Webinar\"), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Webinar Name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('name', {\n        initialValue: webinarSelect.name || ' ',\n        rules: [{\n          required: true,\n          message: 'Topic!'\n        }]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        style: {\n          width: '100%'\n        },\n        placeholder: \"The Webinar 8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 14\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Checkbox, {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            alwaysAvailable: e.target.checked\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }, \"Always available\")), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Start Date\",\n        style: {\n          flex: 1,\n          marginRight: '0.5rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('date', {\n        initialValue: moment(moment(webinarSelect.startAt).format('YYYY/MM/DD'), 'YYYY/MM/DD')\n      })( /*#__PURE__*/React.createElement(_DatePicker, {\n        disabled: this.state.alwaysAvailable,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 14\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Start Time\",\n        style: {\n          flex: 1,\n          marginLeft: '0.5rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('time', {\n        initialValue: moment(moment(webinarSelect.startAt).format('HH:mm:ss'), 'HH:mm:ss')\n      })( /*#__PURE__*/React.createElement(_TimePicker, {\n        disabled: this.state.alwaysAvailable,\n        defaultOpenValue: moment('00:00:00', 'HH:mm:ss'),\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('password')( /*#__PURE__*/React.createElement(_Input, {\n        type: \"password\",\n        style: {\n          width: '100%'\n        },\n        placeholder: \"12345678\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 8,\n        style: {\n          lineHeight: '40px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, \"Video\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Host\",\n        style: {\n          padding: '0px 0px 0px 5px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }, getFieldDecorator('radio-host', {\n        initialValue: webinarSelect.hostVideo ? 'A' : 'B'\n      })( /*#__PURE__*/React.createElement(_Radio.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Radio, {\n        value: \"A\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }\n      }, \"On\"), /*#__PURE__*/React.createElement(_Radio, {\n        value: \"B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 19\n        }\n      }, \"Off\")))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Panelists\",\n        style: {\n          padding: '0px 0px 0px 5px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }, getFieldDecorator('radio-panelists', {\n        initialValue: webinarSelect.panelistsVideo ? 'A' : 'B'\n      })( /*#__PURE__*/React.createElement(_Radio.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Radio, {\n        value: \"A\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 19\n        }\n      }, \"On\"), /*#__PURE__*/React.createElement(_Radio, {\n        value: \"B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 19\n        }\n      }, \"Off\")))))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"Webinar Options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('default-option', {\n        initialValue: this.changeSeclect(webinarSelect)\n      })( /*#__PURE__*/React.createElement(_Checkbox.Group, {\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Checkbox, {\n        value: \"A\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }\n      }, \"Q&A\"), /*#__PURE__*/React.createElement(_Checkbox, {\n        value: \"B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }\n      }, \"Enable Practice Session\"), /*#__PURE__*/React.createElement(_Checkbox, {\n        value: \"C\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }\n      }, \"Only authenticated users can join\"), /*#__PURE__*/React.createElement(_Checkbox, {\n        value: \"D\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }\n      }, \"Record the webinar automatically\")))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"User Role\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }\n      }, getFieldDecorator('role', {\n        initialValue: webinarSelect.defaultParticipantRole\n      })( /*#__PURE__*/React.createElement(_Select, {\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Option, {\n        value: \"MODERATOR\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }\n      }, \"Owner\"), /*#__PURE__*/React.createElement(Option, {\n        value: \"PARTICIPANT\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }\n      }, \"Participants\")))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        style: {\n          flex: 1,\n          marginRight: '0.5rem',\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(_Form.Item, {\n        style: {\n          flex: 1,\n          marginLeft: '0.5rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        style: {\n          width: '10rem',\n          height: '38px',\n          borderRadius: '8px',\n          fontWeight: '600px'\n        },\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }\n      }, \"Save\"))));\n    }\n  }]);\n\n  return FormEditWebinar;\n}(React.Component);\n\nexport default _Form.create({\n  name: 'normal_login'\n})(withTranslation()(FormEditWebinar));","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/webinars/EditWebinar.jsx"],"names":["React","withTranslation","moment","client","M_UPDATE_WEBINAR","returnError","newNotification","Option","options","QnA","practiceSession","authenticatedOnly","automaticallyRecord","FormEditWebinar","state","alwaysAvailable","convertTime","date","newDate","Date","_d","getFullYear","getMonth","getDate","getTime","convertDate","time","getHours","getMinutes","getSeconds","handleSubmit","e","preventDefault","props","form","setFieldsValue","validateFields","err","values","startAt","indexOf","mutate","mutation","variables","webinarId","webinarSelect","_id","newWebinarUpdate","name","password","startDate","defaultParticipantRole","role","hostVideo","panelistsVideo","then","updateWebinar","data","resetFields","refetch","backToDefault","container","catch","error","errorMessage","changeSeclect","filter","undefined","getFieldDecorator","width","initialValue","rules","required","message","setState","target","checked","flex","marginRight","format","marginLeft","lineHeight","padding","display","flexDirection","justifyContent","height","borderRadius","fontWeight","Component","create"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport {\n  Form,\n  Input,\n  Select,\n  TimePicker,\n  DatePicker,\n  Button,\n  Checkbox,\n  Radio,\n  Col,\n  Row\n} from 'antd'\nimport moment from 'moment'\nimport './CreateWebinar.less'\n\n\nimport { client, M_UPDATE_WEBINAR } from '@graphql'\nimport { returnError, newNotification } from '@utils'\n\nconst { Option } = Select\n\nconst options = {\n  QnA: 'A',\n  practiceSession: 'B',\n  authenticatedOnly: 'C',\n  automaticallyRecord: 'D'\n}\n\nclass FormEditWebinar extends React.Component {\n  state = {\n    alwaysAvailable: false,\n  }\n\n  convertTime = (date) => {\n    const newDate = new Date(\n      date._d.getFullYear(),\n      date._d.getMonth(),\n      date._d.getDate(),\n    )\n    return newDate.getTime()\n  }\n\n  convertDate = (date, time) => {\n    const newDate = new Date(\n      date._d.getFullYear(),\n      date._d.getMonth(),\n      date._d.getDate(),\n      time._d.getHours(),\n      time._d.getMinutes(),\n      time._d.getSeconds()\n    )\n    return newDate.getTime()\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.state.alwaysAvailable)\n      this.props.form.setFieldsValue({ date: null, time: null })\n    this.props.form.validateFields((err, values) => {\n      const startAt =\n        values.date && values.time\n          ? this.convertDate(values.date, values.time)\n          : null\n\n      const QnA = values['default-option'].indexOf('A') !== -1\n      const practiceSession = values['default-option'].indexOf('B') !== -1\n      const authenticatedOnly = values['default-option'].indexOf('C') !== -1\n      const automaticallyRecord = values['default-option'].indexOf('D') !== -1\n      //MUTATION CREATE CONFERENCE\n      client\n        .mutate({\n          mutation: M_UPDATE_WEBINAR,\n          variables: {\n            webinarId: this.props.webinarSelect._id,\n            newWebinarUpdate: {\n              name: values.name,\n              password: values.password || '',\n              startAt: startAt - this.convertTime(values.date),\n              startDate: this.convertTime(values.date),\n              defaultParticipantRole: values.role,\n              hostVideo: values['radio-host'] === 'A',\n              panelistsVideo: values['radio-panelists'] === 'A',\n              QnA,\n              practiceSession,\n              authenticatedOnly,\n              automaticallyRecord\n            }\n          }\n        })\n        .then(({ data: { updateWebinar } }) => {\n          this.props.form.resetFields()\n          if (updateWebinar) {\n            this.props.refetch()\n            this.props.backToDefault()\n            newNotification('Create Webinar Success', 'success', { container: 'top-right' })\n          }\n        })\n        .catch(error =>\n          returnError(\n            'Get Link',\n            {\n              error,\n              errorMessage: 'Cannot create conference, try again later!'\n            },\n            { container: 'top-center' }\n          )\n        )\n    })\n  }\n\n\n  changeSeclect = ({ QnA, practiceSession, authenticatedOnly, automaticallyRecord }) => {\n    return [\n      options[QnA ? 'QnA' : null],\n      options[practiceSession ? 'practiceSession' : null],\n      options[authenticatedOnly ? 'authenticatedOnly' : null],\n      options[automaticallyRecord ? 'automaticallyRecord' : null]\n    ].filter(e => e !== undefined)\n  }\n\n  render() {\n    const {\n      props: {\n        form: { getFieldDecorator },\n        webinarSelect\n      }\n    } = this\n\n    return (\n      <Form\n        ref='form'\n        className='form-create-webinar'\n        style={{ width: '60%' }}\n        onSubmit={this.handleSubmit}\n      >\n        <h3>Edit a Webinar</h3>\n\n        <Form.Item label='Webinar Name'>\n          {getFieldDecorator('name', {\n            initialValue: webinarSelect.name || ' ',\n            rules: [\n              {\n                required: true,\n                message: 'Topic!'\n              }\n            ]\n          })(<Input style={{ width: '100%' }} placeholder='The Webinar 8' />)}\n        </Form.Item>\n\n        <Form.Item label='Default'>\n          <Checkbox onChange={(e) => this.setState({ alwaysAvailable: e.target.checked })}>Always available</Checkbox>\n        </Form.Item>\n\n        <Form.Item label='Start Date' style={{ flex: 1, marginRight: '0.5rem' }}>\n          {getFieldDecorator('date', {\n            initialValue: moment(moment(webinarSelect.startAt).format('YYYY/MM/DD'), 'YYYY/MM/DD')\n          })(<DatePicker disabled={this.state.alwaysAvailable} />)}\n        </Form.Item>\n\n        <Form.Item label='Start Time' style={{ flex: 1, marginLeft: '0.5rem' }}>\n          {getFieldDecorator('time', {\n            initialValue: moment(moment(webinarSelect.startAt).format('HH:mm:ss'), 'HH:mm:ss')\n          })(\n            <TimePicker\n              disabled={this.state.alwaysAvailable}\n              defaultOpenValue={moment('00:00:00', 'HH:mm:ss')}\n              style={{ width: '100%' }}\n            />\n          )}\n        </Form.Item>\n\n        <Form.Item label='Password'>\n          {getFieldDecorator('password')(\n            <Input type='password' style={{ width: '100%' }} placeholder='12345678' />\n          )}\n        </Form.Item>\n\n        <Row>\n          <Col span={8} style={{ lineHeight: '40px' }}>Video</Col>\n          <Col span={16}>\n            <Form.Item label=\"Host\" style={{ padding: '0px 0px 0px 5px' }}>\n              {getFieldDecorator('radio-host', {\n                initialValue: webinarSelect.hostVideo ? 'A' : 'B'\n              })(\n                <Radio.Group>\n                  <Radio value=\"A\">On</Radio>\n                  <Radio value=\"B\">Off</Radio>\n                </Radio.Group>,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Panelists\" style={{ padding: '0px 0px 0px 5px' }}>\n              {getFieldDecorator('radio-panelists', {\n                initialValue: webinarSelect.panelistsVideo ? 'A' : 'B'\n              })(\n                <Radio.Group>\n                  <Radio value=\"A\">On</Radio>\n                  <Radio value=\"B\">Off</Radio>\n                </Radio.Group>,\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Form.Item label=\"Webinar Options\">\n          {getFieldDecorator('default-option', {\n            initialValue: this.changeSeclect(webinarSelect)\n          })(\n            <Checkbox.Group style={{ width: '100%' }}>\n              <Checkbox value=\"A\">Q&A</Checkbox>\n              <Checkbox value=\"B\">Enable Practice Session</Checkbox>\n              <Checkbox value=\"C\">Only authenticated users can join</Checkbox>\n              <Checkbox value=\"D\">Record the webinar automatically</Checkbox>\n            </Checkbox.Group>,\n          )}\n        </Form.Item>\n\n        <Form.Item label='User Role'>\n          {getFieldDecorator('role', { initialValue: webinarSelect.defaultParticipantRole })(\n            <Select style={{ width: '100%' }}>\n              <Option value='MODERATOR'>Owner</Option>\n              <Option value='PARTICIPANT'>Participants</Option>\n            </Select>\n          )}\n        </Form.Item>\n\n        <div\n          style={{ display: 'flex', flexDirection: 'row' }}\n        >\n          <Form.Item style={{ flex: 1, marginRight: '0.5rem', display: 'flex', justifyContent: 'flex-end' }}>\n\n            {/* <Button\n              onClick={backToDefault}\n              className='login-form-button'\n              style={{ width: '10rem' }}\n            >\n              Huỷ\n            </Button> */}\n          </Form.Item>\n          <Form.Item style={{ flex: 1, marginLeft: '0.5rem' }}>\n            <Button\n              type='primary'\n              style={{ width: '10rem', height: '38px', borderRadius: '8px', fontWeight: '600px' }}\n              htmlType='submit'\n              className='login-form-button'\n            >\n              Save\n          </Button>\n          </Form.Item>\n        </div>\n\n      </Form>\n    )\n  }\n}\n\nexport default Form.create({ name: 'normal_login' })(withTranslation()(FormEditWebinar))\n"]},"metadata":{},"sourceType":"module"}