{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/radio/style\";\nimport _Radio from \"antd/es/radio\";\nimport \"antd/es/checkbox/style\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport \"antd/es/time-picker/style\";\nimport _TimePicker from \"antd/es/time-picker\";\nimport \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/conferences/CreateConference.jsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { client, M_CREATE_CONFERENCE } from '@graphql';\nimport { returnError, newNotification, parseError } from '@utils';\nimport { _confType } from '@constants';\nvar Option = _Select.Option;\n\nvar FormCreateConference = /*#__PURE__*/function (_React$Component) {\n  _inherits(FormCreateConference, _React$Component);\n\n  var _super = _createSuper(FormCreateConference);\n\n  function FormCreateConference() {\n    var _this;\n\n    _classCallCheck(this, FormCreateConference);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      durationType: 0,\n      showPassword: false,\n      moment: moment()\n    };\n\n    _this.handleChangeDurationType = function (e) {\n      _this.setState({\n        isDurationDate: e\n      });\n    };\n\n    _this.convertTime = function (date, time) {\n      var newDate = new Date(date._d.getFullYear(), date._d.getMonth(), date._d.getDate(), time._d.getHours(), time._d.getMinutes(), time._d.getSeconds());\n      return newDate.getTime();\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        // CREATE CONFERENCE\n        if (!err) {\n          var startAt = _this.convertTime(values.startDate, values.startTime);\n\n          var duration = (values.hour * 3600 + values.minute * 60) * 1000;\n          client.mutate({\n            mutation: M_CREATE_CONFERENCE,\n            variables: {\n              newConference: {\n                name: values.name,\n                description: values.description,\n                password: values.password || '',\n                startAt: startAt,\n                duration: duration,\n                videoHostDefault: values.hostVideo,\n                videoParticipantDefault: values.participantVideo\n              }\n            }\n          }).then(function (_ref) {\n            var createConference = _ref.data.createConference;\n\n            _this.props.form.resetFields();\n\n            if (createConference) {\n              _this.props.handleShowDetail(createConference);\n\n              var type;\n              var now = +new Date();\n\n              if (startAt + duration < now) {\n                type = _confType.PREVIOUS;\n              } else if (startAt > now) {\n                type = _confType.UPCOMING;\n              } else {\n                type = _confType.ONGOING;\n              }\n\n              _this.props.refetch(type);\n\n              newNotification(_this.props.i18n.t('notification.createMeetingSuccess'), 'success', {\n                container: 'top-right'\n              });\n            }\n          }).catch(function (errors) {\n            returnError('Error', {\n              errorMessage: _this.props.i18n.t(parseError(errors))\n            }, {\n              container: 'top-right'\n            });\n          });\n        }\n      });\n    };\n\n    _this.handleSwitchPassword = function (e) {\n      _this.setState({\n        showPassword: e.target.checked\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FormCreateConference, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          i18n = _this$props.i18n,\n          getFieldDecorator = _this$props.form.getFieldDecorator,\n          backToDefault = _this$props.backToDefault;\n      var children = [];\n\n      for (var i = 1; i <= 24; i++) {\n        children.push( /*#__PURE__*/React.createElement(Option, {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }\n        }, i));\n      }\n\n      return /*#__PURE__*/React.createElement(_Form, {\n        onSubmit: this.handleSubmit,\n        className: \"form-create-conference\",\n        ref: \"form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"groupInput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        required: false,\n        label: i18n.t('meeting.topic'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, getFieldDecorator('name', {\n        rules: [{\n          required: true,\n          message: i18n.t('require.requireTopic')\n        }]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        placeholder: i18n.t('meeting.myMeeting'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 16\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, {\n        required: false,\n        label: i18n.t('meeting.description'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, getFieldDecorator('description')( /*#__PURE__*/React.createElement(_Input.TextArea, {\n        placeholder: i18n.t('meeting.enterDescription'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 47\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"groupInput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: i18n.t('meeting.when'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '300px'\n        },\n        className: \"datePickerWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, getFieldDecorator('startDate', {\n        rules: [{\n          required: true\n        }],\n        initialValue: this.state.moment\n      })( /*#__PURE__*/React.createElement(_DatePicker, {\n        placeholder: \"Select Date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 22\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }\n      }, getFieldDecorator('startTime', {\n        rules: [{\n          required: true\n        }],\n        initialValue: this.state.moment\n      })( /*#__PURE__*/React.createElement(_TimePicker, {\n        placeholder: \"Select hour\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 22\n        }\n      })))))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: i18n.t('meeting.duration'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '300px'\n        },\n        className: \"durationWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, getFieldDecorator('hour', {\n        initialValue: '1'\n      })( /*#__PURE__*/React.createElement(_Select, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 78\n        }\n      }, children))), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, i18n.t('meeting.hour'))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, getFieldDecorator('minute', {\n        initialValue: '0'\n      })( /*#__PURE__*/React.createElement(_Select, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Option, {\n        key: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 23\n        }\n      }, \"0\"), /*#__PURE__*/React.createElement(Option, {\n        key: \"15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }, \"15\"), /*#__PURE__*/React.createElement(Option, {\n        key: \"30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, \"30\"), /*#__PURE__*/React.createElement(Option, {\n        key: \"45\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, \"45\")))), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }, i18n.t('meeting.minute')))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"groupInput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: i18n.t('common.password'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '70%'\n        },\n        className: \"passwordWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Checkbox, {\n        onChange: this.handleSwitchPassword,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, i18n.t('require.requestPassword'))), this.state.showPassword && /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: i18n.t('require.requirePasswordCfr')\n        }]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        style: {\n          width: '100%'\n        },\n        placeholder: \"12345678\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 22\n        }\n      })))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"groupInput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        className: \"videoOption\",\n        label: \"Video\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '50%'\n        },\n        className: \"videoOptionWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: i18n.t('meeting.host'),\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }\n      }, getFieldDecorator('hostVideo', {\n        initialValue: false\n      })( /*#__PURE__*/React.createElement(_Radio.Group, {\n        name: \"radiogroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(_Radio, {\n        value: true,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }\n      }, i18n.t('meeting.on')), /*#__PURE__*/React.createElement(_Radio, {\n        value: false,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }\n      }, i18n.t('meeting.off'))))), /*#__PURE__*/React.createElement(_Form.Item, {\n        label: i18n.t('meeting.participant'),\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, getFieldDecorator('participantVideo', {\n        initialValue: false\n      })( /*#__PURE__*/React.createElement(_Radio.Group, {\n        name: \"radiogroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(_Radio, {\n        value: true,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }\n      }, i18n.t('meeting.on')), /*#__PURE__*/React.createElement(_Radio, {\n        value: false,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }\n      }, i18n.t('meeting.off')))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btnWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"btn-create\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }\n      }, i18n.t('common.save'))), /*#__PURE__*/React.createElement(_Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        className: \"btn-cancel\",\n        ghost: true,\n        onClick: backToDefault,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }\n      }, i18n.t('common.cancel')))));\n    }\n  }]);\n\n  return FormCreateConference;\n}(React.Component);\n\nexport default _Form.create({\n  name: 'normal_login'\n})(withTranslation()(FormCreateConference));","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/conferences/CreateConference.jsx"],"names":["React","withTranslation","moment","client","M_CREATE_CONFERENCE","returnError","newNotification","parseError","_confType","Option","FormCreateConference","state","durationType","showPassword","handleChangeDurationType","e","setState","isDurationDate","convertTime","date","time","newDate","Date","_d","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getTime","handleSubmit","preventDefault","props","form","validateFields","err","values","startAt","startDate","startTime","duration","hour","minute","mutate","mutation","variables","newConference","name","description","password","videoHostDefault","hostVideo","videoParticipantDefault","participantVideo","then","createConference","data","resetFields","handleShowDetail","type","now","PREVIOUS","UPCOMING","ONGOING","refetch","i18n","t","container","catch","errors","errorMessage","handleSwitchPassword","target","checked","getFieldDecorator","backToDefault","children","i","push","rules","required","message","width","initialValue","Component","create"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { Form, Input, Select, TimePicker, DatePicker, Button, Radio, Checkbox } from 'antd'\nimport moment from 'moment'\n\nimport { client, M_CREATE_CONFERENCE } from '@graphql'\nimport { returnError, newNotification, parseError } from '@utils'\nimport { _confType } from '@constants'\n\nconst { Option } = Select\n\nclass FormCreateConference extends React.Component {\n  state = {\n    durationType: 0,\n    showPassword: false,\n    moment: moment()\n  }\n\n  handleChangeDurationType = e => {\n    this.setState({ isDurationDate: e })\n  }\n\n  convertTime = (date, time) => {\n    const newDate = new Date(\n      date._d.getFullYear(),\n      date._d.getMonth(),\n      date._d.getDate(),\n      time._d.getHours(),\n      time._d.getMinutes(),\n      time._d.getSeconds()\n    )\n    return newDate.getTime()\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props.form.validateFields((err, values) => {\n      // CREATE CONFERENCE\n      if (!err) {\n        const startAt = this.convertTime(values.startDate, values.startTime)\n        const duration = (values.hour * 3600 + values.minute * 60) * 1000\n\n        client\n          .mutate({\n            mutation: M_CREATE_CONFERENCE,\n            variables: {\n              newConference: {\n                name: values.name,\n                description: values.description,\n                password: values.password || '',\n                startAt,\n                duration,\n                videoHostDefault: values.hostVideo,\n                videoParticipantDefault: values.participantVideo\n              }\n            }\n          })\n          .then(({ data: { createConference } }) => {\n            this.props.form.resetFields()\n            if (createConference) {\n              this.props.handleShowDetail(createConference)\n\n              let type\n              const now = +new Date()\n\n              if (startAt + duration < now) {\n                type = _confType.PREVIOUS\n              } else if (startAt > now) {\n                type = _confType.UPCOMING\n              } else {\n                type = _confType.ONGOING\n              }\n\n              this.props.refetch(type)\n              newNotification(this.props.i18n.t('notification.createMeetingSuccess'), 'success', {\n                container: 'top-right'\n              })\n            }\n          })\n          .catch(errors => {\n            returnError(\n              'Error',\n              { errorMessage: this.props.i18n.t(parseError(errors)) },\n              { container: 'top-right' }\n            )\n          })\n      }\n    })\n  }\n\n  handleSwitchPassword = e => {\n    this.setState({ showPassword: e.target.checked })\n  }\n\n  render() {\n    const {\n      i18n,\n      form: { getFieldDecorator },\n      backToDefault\n    } = this.props\n\n    const children = []\n    for (let i = 1; i <= 24; i++) {\n      children.push(<Option key={i}>{i}</Option>)\n    }\n\n    return (\n      <Form onSubmit={this.handleSubmit} className='form-create-conference' ref='form'>\n        <div className='groupInput'>\n          <Form.Item required={false} label={i18n.t('meeting.topic')}>\n            {getFieldDecorator('name', {\n              rules: [{ required: true, message: i18n.t('require.requireTopic') }]\n            })(<Input placeholder={i18n.t('meeting.myMeeting')} />)}\n          </Form.Item>\n          <Form.Item required={false} label={i18n.t('meeting.description')}>\n            {getFieldDecorator('description')(<Input.TextArea placeholder={i18n.t('meeting.enterDescription')} />)}\n          </Form.Item>\n        </div>\n\n        <div className='groupInput'>\n          <Form.Item label={i18n.t('meeting.when')}>\n            <div style={{ width: '300px' }} className='datePickerWrapper'>\n              <div>\n                <Form.Item>\n                  {getFieldDecorator('startDate', {\n                    rules: [{ required: true }],\n                    initialValue: this.state.moment\n                  })(<DatePicker placeholder='Select Date' />)}\n                </Form.Item>\n              </div>\n              <div>\n                <Form.Item>\n                  {getFieldDecorator('startTime', {\n                    rules: [{ required: true }],\n                    initialValue: this.state.moment\n                  })(<TimePicker placeholder='Select hour' />)}\n                </Form.Item>\n              </div>\n            </div>\n          </Form.Item>\n          <Form.Item label={i18n.t('meeting.duration')}>\n            <div style={{ width: '300px' }} className='durationWrapper'>\n              <div>\n                <Form.Item>{getFieldDecorator('hour', { initialValue: '1' })(<Select>{children}</Select>)}</Form.Item>\n                <span>{i18n.t('meeting.hour')}</span>\n              </div>\n\n              <div>\n                <Form.Item>\n                  {getFieldDecorator('minute', { initialValue: '0' })(\n                    <Select>\n                      <Option key='0'>0</Option>\n                      <Option key='15'>15</Option>\n                      <Option key='30'>30</Option>\n                      <Option key='45'>45</Option>\n                    </Select>\n                  )}\n                </Form.Item>\n                <span>{i18n.t('meeting.minute')}</span>\n              </div>\n            </div>\n          </Form.Item>\n        </div>\n        <div className='groupInput'>\n          <Form.Item label={i18n.t('common.password')}>\n            <div style={{ width: '70%' }} className='passwordWrapper'>\n              <div>\n                <Checkbox onChange={this.handleSwitchPassword} className='title'>\n                  {i18n.t('require.requestPassword')}\n                </Checkbox>\n              </div>\n              {this.state.showPassword && (\n                <Form.Item>\n                  {getFieldDecorator('password', {\n                    rules: [{ required: true, message: i18n.t('require.requirePasswordCfr') }]\n                  })(<Input style={{ width: '100%' }} placeholder='12345678' />)}\n                </Form.Item>\n              )}\n            </div>\n          </Form.Item>\n        </div>\n\n        <div className='groupInput'>\n          <Form.Item className='videoOption' label='Video'>\n            <div style={{ width: '50%' }} className='videoOptionWrapper'>\n              <Form.Item label={i18n.t('meeting.host')} className='title'>\n                {getFieldDecorator('hostVideo', {\n                  initialValue: false\n                })(\n                  <Radio.Group name='radiogroup'>\n                    <Radio value={true} className='title'>\n                      {i18n.t('meeting.on')}\n                    </Radio>\n                    <Radio value={false} className='title'>\n                      {i18n.t('meeting.off')}\n                    </Radio>\n                  </Radio.Group>\n                )}\n              </Form.Item>\n              <Form.Item label={i18n.t('meeting.participant')} className='title'>\n                {getFieldDecorator('participantVideo', {\n                  initialValue: false\n                })(\n                  <Radio.Group name='radiogroup'>\n                    <Radio value={true} className='title'>\n                      {i18n.t('meeting.on')}\n                    </Radio>\n                    <Radio value={false} className='title'>\n                      {i18n.t('meeting.off')}\n                    </Radio>\n                  </Radio.Group>\n                )}\n              </Form.Item>\n            </div>\n          </Form.Item>\n        </div>\n\n        <div className='btnWrapper'>\n          <Form.Item>\n            <Button type='primary' htmlType='submit' className='btn-create'>\n              {i18n.t('common.save')}\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button type='primary' className='btn-cancel' ghost onClick={backToDefault}>\n              {i18n.t('common.cancel')}\n            </Button>\n          </Form.Item>\n        </div>\n      </Form>\n    )\n  }\n}\n\nexport default Form.create({ name: 'normal_login' })(withTranslation()(FormCreateConference))\n"]},"metadata":{},"sourceType":"module"}