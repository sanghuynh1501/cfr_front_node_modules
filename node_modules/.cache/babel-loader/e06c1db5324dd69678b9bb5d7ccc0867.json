{"ast":null,"code":"import \"antd/es/skeleton/style\";\nimport _Skeleton from \"antd/es/skeleton\";\nimport _objectWithoutProperties from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/router/index.jsx\";\n\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { ErrorBoundary, BounceLoader } from '@components';\nimport { noAuthenRoutes, authenRoutesDashboard, freeRoutes, routesPath } from '@router';\nimport NotFound from '@pages/404';\nimport LayoutDashboard from '@pages/dashboard/LayoutDashboard';\nimport AuthenRoutes from '@components/AuthenRoutes';\nimport AuthenRouteWrapper from '@components/AuthenRoutes/Wrapper';\nimport { authenRoutesOther } from './routes';\nimport { inject, observer } from 'mobx-react';\nexport * from './routes';\nvar RouterComponent = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), _dec(_class = observer(_class = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(RouterComponent, _React$PureComponent);\n\n  var _super = _createSuper(RouterComponent);\n\n  function RouterComponent() {\n    _classCallCheck(this, RouterComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RouterComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var globalState = this.props.globalState;\n      var currentUrl = window.location.href;\n      var matchs = currentUrl.match(/\\/cfr\\/([A-Za-z]+)/i);\n\n      if (!globalState.isAuth && matchs && matchs.length === 2 && matchs[1]) {\n        var path = '/' + matchs[1];\n        var reg = new RegExp(\"^\\\\\".concat(path), 'i');\n\n        if (authenRoutesDashboard.some(function (route) {\n          return reg.test(route.path);\n        }) || authenRoutesOther.some(function (route) {\n          return reg.test(route.path);\n        })) {\n          globalState.setRedirectTo('/' + currentUrl.match(/\\/cfr\\/(.*)/i)[1]);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Router, {\n        basename: \"/cfr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(React.Suspense, {\n        fallback: /*#__PURE__*/React.createElement(BounceLoader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 35\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ErrorBoundary, {\n        fallback: /*#__PURE__*/React.createElement(NotFound, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 36\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, freeRoutes.map(function (_ref2, index) {\n        var component = _ref2.component,\n            routeProps = _objectWithoutProperties(_ref2, [\"component\"]);\n\n        return /*#__PURE__*/React.createElement(Route, Object.assign({\n          key: index.toString()\n        }, routeProps, {\n          render: function render() {\n            var Component = React.lazy(function () {\n              return import(\"../pages/\".concat(component));\n            });\n            return /*#__PURE__*/React.createElement(Component, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 28\n              }\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }\n        }));\n      }), globalState.isAuth && authenRoutesOther.map(function (_ref3, index) {\n        var component = _ref3.component,\n            routeProps = _objectWithoutProperties(_ref3, [\"component\"]);\n\n        return /*#__PURE__*/React.createElement(Route, Object.assign({\n          key: index.toString()\n        }, routeProps, {\n          render: function render() {\n            var Component = React.lazy(function () {\n              return import(\"../pages/\".concat(component));\n            });\n            return /*#__PURE__*/React.createElement(Component, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 30\n              }\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }\n        }));\n      }), globalState.isAuth && /*#__PURE__*/React.createElement(LayoutDashboard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(React.Suspense, {\n        fallback: /*#__PURE__*/React.createElement(_Skeleton, {\n          active: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 45\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(AuthenRouteWrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, authenRoutesDashboard.map(function (route, index) {\n        return /*#__PURE__*/React.createElement(AuthenRoutes, {\n          key: index.toString(),\n          route: route,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }\n        });\n      })))), !globalState.isAuth && noAuthenRoutes.map(function (_ref4, index) {\n        var component = _ref4.component,\n            routeProps = _objectWithoutProperties(_ref4, [\"component\"]);\n\n        return /*#__PURE__*/React.createElement(Route, Object.assign({\n          key: index.toString()\n        }, routeProps, {\n          render: function render() {\n            var Component = React.lazy(function () {\n              return import(\"../pages/\".concat(component));\n            });\n            return /*#__PURE__*/React.createElement(Component, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 30\n              }\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 19\n          }\n        }));\n      }), !globalState.isAuth && /*#__PURE__*/React.createElement(Redirect, {\n        to: routesPath.login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 39\n        }\n      }), /*#__PURE__*/React.createElement(Redirect, {\n        to: routesPath.notfound,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return RouterComponent;\n}(React.PureComponent)) || _class) || _class);\nexport default RouterComponent;","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/router/index.jsx"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","ErrorBoundary","BounceLoader","noAuthenRoutes","authenRoutesDashboard","freeRoutes","routesPath","NotFound","LayoutDashboard","AuthenRoutes","AuthenRouteWrapper","authenRoutesOther","inject","observer","RouterComponent","stores","globalState","props","currentUrl","window","location","href","matchs","match","isAuth","length","path","reg","RegExp","some","route","test","setRedirectTo","map","index","component","routeProps","toString","Component","lazy","login","notfound","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\nimport { Skeleton } from 'antd'\n\nimport { ErrorBoundary, BounceLoader } from '@components'\nimport { noAuthenRoutes, authenRoutesDashboard, freeRoutes, routesPath } from '@router'\nimport NotFound from '@pages/404'\nimport LayoutDashboard from '@pages/dashboard/LayoutDashboard'\nimport AuthenRoutes from '@components/AuthenRoutes'\nimport AuthenRouteWrapper from '@components/AuthenRoutes/Wrapper'\nimport { authenRoutesOther } from './routes'\nimport { inject, observer } from 'mobx-react'\nexport * from './routes'\n\n@inject(({ stores }) => stores)\n@observer\nclass RouterComponent extends React.PureComponent {\n  render() {\n    const { globalState } = this.props\n\n    const currentUrl = window.location.href\n    const matchs = currentUrl.match(/\\/cfr\\/([A-Za-z]+)/i)\n    if (!globalState.isAuth && matchs && matchs.length === 2 && matchs[1]) {\n      const path = '/' + matchs[1]\n      const reg = new RegExp(`^\\\\${path}`, 'i')\n      if (\n        authenRoutesDashboard.some(route => reg.test(route.path)) ||\n        authenRoutesOther.some(route => reg.test(route.path))\n      ) {\n        globalState.setRedirectTo('/' + currentUrl.match(/\\/cfr\\/(.*)/i)[1])\n      }\n    }\n\n    return (\n      <Router basename='/cfr'>\n        <React.Suspense fallback={<BounceLoader />}>\n          <ErrorBoundary fallback={<NotFound />}>\n            <Switch>\n              {freeRoutes.map(({ component, ...routeProps }, index) => (\n                <Route\n                  key={index.toString()}\n                  {...routeProps}\n                  render={() => {\n                    const Component = React.lazy(() => import(`../pages/${component}`))\n                    return <Component />\n                  }}\n                />\n              ))}\n\n              {globalState.isAuth &&\n                authenRoutesOther.map(({ component, ...routeProps }, index) => (\n                  <Route\n                    key={index.toString()}\n                    {...routeProps}\n                    render={() => {\n                      const Component = React.lazy(() => import(`../pages/${component}`))\n                      return <Component />\n                    }}\n                  />\n                ))}\n\n              {globalState.isAuth && (\n                <LayoutDashboard>\n                  <React.Suspense fallback={<Skeleton active />}>\n                    <AuthenRouteWrapper>\n                      {authenRoutesDashboard.map((route, index) => (\n                        <AuthenRoutes key={index.toString()} route={route} />\n                      ))}\n                    </AuthenRouteWrapper>\n                  </React.Suspense>\n                </LayoutDashboard>\n              )}\n\n              {!globalState.isAuth &&\n                noAuthenRoutes.map(({ component, ...routeProps }, index) => (\n                  <Route\n                    key={index.toString()}\n                    {...routeProps}\n                    render={() => {\n                      const Component = React.lazy(() => import(`../pages/${component}`))\n                      return <Component />\n                    }}\n                  />\n                ))}\n              {!globalState.isAuth && <Redirect to={routesPath.login} />}\n              <Redirect to={routesPath.notfound} />\n            </Switch>\n          </ErrorBoundary>\n        </React.Suspense>\n      </Router>\n    )\n  }\n}\n\nexport default RouterComponent\n"]},"metadata":{},"sourceType":"module"}