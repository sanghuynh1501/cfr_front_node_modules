{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/switch/style\";\nimport _Switch from \"antd/es/switch\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/conference2/collab-panel/AttendanceManagementCollapse/index.jsx\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { returnError } from '@utils';\nimport { M_CREATE_ATTENDANCE, client, M_END_ATTENDANCE } from '@graphql';\nimport CurrentAttendanceView from './CurrentAttendanceView';\nimport PreviousAttendancesView from './PreviousAttendancesView';\nvar AttendanceManagementCollapse = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inherits(AttendanceManagementCollapse, _Component);\n\n  var _super = _createSuper(AttendanceManagementCollapse);\n\n  function AttendanceManagementCollapse(props) {\n    var _this;\n\n    _classCallCheck(this, AttendanceManagementCollapse);\n\n    _this = _super.call(this, props);\n\n    _this.handleCreateAttendance = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          _id = _assertThisInitialize.props.conferenceState.conference._id;\n\n      var duration = null;\n      client.mutate({\n        mutation: M_CREATE_ATTENDANCE,\n        variables: {\n          newAttendanceInput: {\n            conferenceId: _id,\n            duration: duration\n          }\n        }\n      }).then(function (_ref2) {\n        var createAttendance = _ref2.data.createAttendance;\n\n        if (createAttendance) {}\n      }).catch(function (error) {\n        returnError('createAttendance', {\n          error: error,\n          errorMessage: 'Please try again later!'\n        });\n      });\n    };\n\n    _this.handleEndAttendance = function () {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          attendanceInfo = _assertThisInitialize2.props.conferenceState.attendanceInfo;\n\n      client.mutate({\n        mutation: M_END_ATTENDANCE,\n        variables: {\n          attendanceId: attendanceInfo._id\n        }\n      }).then(function (_ref3) {\n        var endAttendance = _ref3.data.endAttendance;\n\n        if (endAttendance) {}\n      }).catch(function (error) {\n        return returnError('endAttendance', {\n          error: error,\n          errorMessage: 'Please try again later!'\n        });\n      });\n    };\n\n    _this.state = {\n      displayByUser: false\n    };\n    return _this;\n  }\n\n  _createClass(AttendanceManagementCollapse, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          conferenceState = _this$props.conferenceState,\n          _this$props$conferenc = _this$props.conferenceState,\n          attendanceInfo = _this$props$conferenc.attendanceInfo,\n          conferenceUsers = _this$props$conferenc.conferenceUsers,\n          displayByUser = this.state.displayByUser;\n      var selectedTabs = [conferenceState.isShowPoll, conferenceState.isShowPollManagement, conferenceState.isShowParticipants, conferenceState.isShowMessages, conferenceState.isShowAttendancesManagement, conferenceState.isShowQnAManagement, conferenceState.isShowQnA].filter(function (e) {\n        return e;\n      }).length;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attendance-management-container\",\n        style: {\n          height: \"calc(100vh - \".concat(selectedTabs * 20 + 1, \"px)\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, \"Danh s\\xE1ch \\u0111i\\u1EC3m danh:\"), /*#__PURE__*/React.createElement(_Switch, {\n        onChange: function onChange(displayByUser) {\n          return _this2.setState({\n            displayByUser: displayByUser\n          });\n        },\n        checkedChildren: /*#__PURE__*/React.createElement(_Icon, {\n          type: \"user\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 30\n          }\n        }),\n        unCheckedChildren: /*#__PURE__*/React.createElement(_Icon, {\n          type: \"calendar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 32\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }, attendanceInfo ? /*#__PURE__*/React.createElement(CurrentAttendanceView, {\n        conferenceUsers: conferenceUsers,\n        attendanceInfo: attendanceInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }) : /*#__PURE__*/React.createElement(PreviousAttendancesView, {\n        displayByUser: displayByUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, attendanceInfo ? /*#__PURE__*/React.createElement(_Button, {\n        onClick: this.handleEndAttendance,\n        type: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, \"K\\u1EBFt Th\\xFAc\") : /*#__PURE__*/React.createElement(_Button, {\n        onClick: this.handleCreateAttendance,\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, \"B\\u1EAFt \\u0110\\u1EA7u\")));\n    }\n  }]);\n\n  return AttendanceManagementCollapse;\n}(Component), _temp)) || _class) || _class);\nexport default AttendanceManagementCollapse;","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/conference2/collab-panel/AttendanceManagementCollapse/index.jsx"],"names":["React","Component","inject","observer","returnError","M_CREATE_ATTENDANCE","client","M_END_ATTENDANCE","CurrentAttendanceView","PreviousAttendancesView","AttendanceManagementCollapse","stores","props","handleCreateAttendance","_id","conferenceState","conference","duration","mutate","mutation","variables","newAttendanceInput","conferenceId","then","createAttendance","data","catch","error","errorMessage","handleEndAttendance","attendanceInfo","attendanceId","endAttendance","state","displayByUser","conferenceUsers","selectedTabs","isShowPoll","isShowPollManagement","isShowParticipants","isShowMessages","isShowAttendancesManagement","isShowQnAManagement","isShowQnA","filter","e","length","height","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { inject, observer } from 'mobx-react'\nimport { Button, Switch, Icon } from 'antd'\nimport { returnError } from '@utils'\nimport { M_CREATE_ATTENDANCE, client, M_END_ATTENDANCE } from '@graphql'\n\nimport CurrentAttendanceView from './CurrentAttendanceView'\nimport PreviousAttendancesView from './PreviousAttendancesView'\n\n@inject(({ stores }) => stores)\n@observer\nclass AttendanceManagementCollapse extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      displayByUser: false\n    }\n  }\n\n  handleCreateAttendance = () => {\n    const {\n      props: {\n        conferenceState: {\n          conference: { _id }\n        }\n      }\n    } = this\n\n    const duration = null\n\n    client\n      .mutate({\n        mutation: M_CREATE_ATTENDANCE,\n        variables: {\n          newAttendanceInput: {\n            conferenceId: _id,\n            duration\n          }\n        }\n      })\n      .then(({ data: { createAttendance } }) => {\n        if (createAttendance) {\n        }\n      })\n      .catch(error => {\n        returnError('createAttendance', {\n          error,\n          errorMessage: 'Please try again later!'\n        })\n      })\n  }\n\n  handleEndAttendance = () => {\n    const {\n      props: {\n        conferenceState: { attendanceInfo }\n      }\n    } = this\n    client\n      .mutate({\n        mutation: M_END_ATTENDANCE,\n        variables: {\n          attendanceId: attendanceInfo._id\n        }\n      })\n      .then(({ data: { endAttendance } }) => {\n        if (endAttendance) {\n        }\n      })\n      .catch(error =>\n        returnError('endAttendance', {\n          error,\n          errorMessage: 'Please try again later!'\n        })\n      )\n  }\n\n  render() {\n    const {\n      props: {\n        conferenceState,\n        conferenceState: { attendanceInfo, conferenceUsers }\n      },\n      state: { displayByUser }\n    } = this\n\n    const selectedTabs = [\n      conferenceState.isShowPoll,\n      conferenceState.isShowPollManagement,\n      conferenceState.isShowParticipants,\n      conferenceState.isShowMessages,\n      conferenceState.isShowAttendancesManagement,\n      conferenceState.isShowQnAManagement,\n      conferenceState.isShowQnA\n    ].filter(e => e).length\n\n    return (\n      <div className='attendance-management-container' style={{ height: `calc(100vh - ${selectedTabs * 20 + 1}px)` }}>\n        <div className='header'>\n          <div className='title'>Danh sách điểm danh:</div>\n          <Switch\n            onChange={displayByUser => this.setState({ displayByUser })}\n            checkedChildren={<Icon type='user' />}\n            unCheckedChildren={<Icon type='calendar' />}\n          />\n        </div>\n\n        <div className='body'>\n          {attendanceInfo ? (\n            <CurrentAttendanceView conferenceUsers={conferenceUsers} attendanceInfo={attendanceInfo} />\n          ) : (\n            <PreviousAttendancesView displayByUser={displayByUser} />\n          )}\n        </div>\n\n        <div className='footer'>\n          {attendanceInfo ? (\n            <Button onClick={this.handleEndAttendance} type='danger'>\n              Kết Thúc\n            </Button>\n          ) : (\n            <Button onClick={this.handleCreateAttendance} type='primary'>\n              Bắt Đầu\n            </Button>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\nexport default AttendanceManagementCollapse\n"]},"metadata":{},"sourceType":"module"}