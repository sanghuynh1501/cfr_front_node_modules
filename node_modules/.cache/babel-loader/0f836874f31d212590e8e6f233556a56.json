{"ast":null,"code":"import _defineProperty from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/forgotPassword/index.js\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport './index.less';\nimport { client, M_FORGOT_PASSWORD } from '@graphql';\nimport FormForgotPassword from './FormForgotPassword';\nimport logo from \"@misc/logo/asset9.svg\";\nimport errorIcon from \"@misc/images/toolbar/error.svg\";\nvar STATUS = {\n  INPUT: 'INPUT',\n  SENDING: 'SENDING',\n  ERROR: 'ERROR',\n  SUCCESS: 'SUCCESS'\n};\n\nvar ForgotPassword = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ForgotPassword, _React$PureComponent);\n\n  var _super = _createSuper(ForgotPassword);\n\n  function ForgotPassword() {\n    var _this;\n\n    _classCallCheck(this, ForgotPassword);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      status: STATUS.INPUT,\n      email: ''\n    };\n\n    _this.handleForgotPassword = function (email) {\n      _this.setState({\n        status: STATUS.SENDING\n      });\n\n      client.mutate({\n        mutation: M_FORGOT_PASSWORD,\n        variables: {\n          email: email\n        }\n      }).then(function (_ref) {\n        var forgotPassword = _ref.data.forgotPassword;\n\n        if (forgotPassword) {\n          _this.setState({\n            status: STATUS.SUCCESS,\n            email: email\n          });\n        }\n      }).catch(function (error) {\n        _this.setState({\n          status: STATUS.ERROR\n        });\n      });\n    };\n\n    _this.backInput = function () {\n      _this.setState({\n        status: STATUS.INPUT\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ForgotPassword, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _renderElement;\n\n      var i18n = this.props.i18n;\n      var renderElement = (_renderElement = {}, _defineProperty(_renderElement, STATUS.INPUT, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"forgot-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.titleForgot')), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.descriptionForgot')), /*#__PURE__*/React.createElement(FormForgotPassword, {\n        handleForgotPassword: this.handleForgotPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }))), _defineProperty(_renderElement, STATUS.SENDING, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-sending\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-lodding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, i18n.t('verify.beingVerified')))), _defineProperty(_renderElement, STATUS.ERROR, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: errorIcon,\n        alt: \"icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, i18n.t('verify.confirmFailed')), /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        onClick: this.backInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.inputEmail')))), _defineProperty(_renderElement, STATUS.SUCCESS, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.titleReset')), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.descriptionForgotSuccess1'), \" \", this.state.email, i18n.t('forgotPassword.descriptionForgotSuccess2')), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.descriptionForgotSuccess3')), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, i18n.t('forgotPassword.descriptionForgotSuccess4'), /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        onClick: function onClick() {\n          return _this2.handleForgotPassword(_this2.state.email);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, i18n.t('forgotPassword.tryAgain'))))), _renderElement);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-forgot-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logo,\n        alt: \"logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }), renderElement[this.state.status]);\n    }\n  }]);\n\n  return ForgotPassword;\n}(React.PureComponent);\n\nexport default withTranslation()(ForgotPassword);","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/forgotPassword/index.js"],"names":["React","withTranslation","client","M_FORGOT_PASSWORD","FormForgotPassword","STATUS","INPUT","SENDING","ERROR","SUCCESS","ForgotPassword","state","status","email","handleForgotPassword","setState","mutate","mutation","variables","then","forgotPassword","data","catch","error","backInput","i18n","props","renderElement","t","errorIcon","logo","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { Button } from 'antd'\nimport './index.less'\n\nimport { client, M_FORGOT_PASSWORD } from '@graphql'\n\nimport FormForgotPassword from './FormForgotPassword'\n\nimport logo from '@misc/logo/asset9.svg'\nimport errorIcon from '@misc/images/toolbar/error.svg'\n\nconst STATUS = {\n  INPUT: 'INPUT',\n  SENDING: 'SENDING',\n  ERROR: 'ERROR',\n  SUCCESS: 'SUCCESS'\n}\n\nclass ForgotPassword extends React.PureComponent {\n  state = {\n    status: STATUS.INPUT,\n    email: ''\n  }\n\n  handleForgotPassword = email => {\n    this.setState({ status: STATUS.SENDING })\n\n    client\n      .mutate({\n        mutation: M_FORGOT_PASSWORD,\n        variables: {\n          email\n        }\n      })\n      .then(({ data: { forgotPassword } }) => {\n        if (forgotPassword) {\n          this.setState({ status: STATUS.SUCCESS, email: email })\n        }\n      })\n      .catch(error => {\n        this.setState({ status: STATUS.ERROR })\n      })\n  }\n\n  backInput = () => {\n    this.setState({ status: STATUS.INPUT })\n  }\n\n  render() {\n    const { i18n } = this.props\n\n    const renderElement = {\n      [STATUS.INPUT]: (\n        <div className='forgot-password'>\n          <p className='title'>{i18n.t('forgotPassword.titleForgot')}</p>\n          <p className='description'>{i18n.t('forgotPassword.descriptionForgot')}</p>\n          <FormForgotPassword handleForgotPassword={this.handleForgotPassword} />\n        </div>\n      ),\n      [STATUS.SENDING]: (\n        <div className='wrapper-sending'>\n          <div className='loading'></div>\n      <p className='text-lodding'>{i18n.t('verify.beingVerified')}</p>\n        </div>\n      ),\n      [STATUS.ERROR]: (\n        <div className='wrapper-error'>\n          <img src={errorIcon} alt='icon' />\n          <p>{i18n.t('verify.confirmFailed')}</p>\n          <Button type='primary' onClick={this.backInput}>\n            {i18n.t('forgotPassword.inputEmail')}\n          </Button>\n        </div>\n      ),\n      [STATUS.SUCCESS]: (\n        <div className='wrapper-success'>\n          <p className='title'>{i18n.t('forgotPassword.titleReset')}</p>\n          <p className='description'>\n            {i18n.t('forgotPassword.descriptionForgotSuccess1')} {this.state.email}{i18n.t('forgotPassword.descriptionForgotSuccess2')}\n          </p>\n          <p>{i18n.t('forgotPassword.descriptionForgotSuccess3')}</p>\n          <p>{i18n.t('forgotPassword.descriptionForgotSuccess4')}\n            <Button type='primary' onClick={() => this.handleForgotPassword(this.state.email)}>{i18n.t('forgotPassword.tryAgain')}</Button>\n          </p>\n        </div>\n      )\n    }\n\n    return (\n      <div className='wrapper-forgot-password'>\n        <img src={logo} alt='logo' />\n        {renderElement[this.state.status]}\n      </div>\n    )\n  }\n}\n\nexport default withTranslation()(ForgotPassword)\n"]},"metadata":{},"sourceType":"module"}