{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\n\nvar _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/conferenceDetail/GetLink.jsx\";\n\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router-dom';\nimport './GetLink.less';\nimport { client, Q_GET_DIRECT_JOIN_TOKEN } from '@graphql';\nimport { newNotification, returnError } from '@utils';\nimport copyIcon from \"@misc/images/copy.svg\";\nvar Option = _Select.Option;\n\nvar GetLink = withRouter(_class = (_temp = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(GetLink, _React$PureComponent);\n\n  var _super = _createSuper(GetLink);\n\n  function GetLink() {\n    var _this;\n\n    _classCallCheck(this, GetLink);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      visible: false,\n      selectUser: '',\n      magicLink: ''\n    };\n\n    _this.showModal = function () {\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.handleOk = function (e) {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleCancel = function () {\n      _this.setState({\n        visible: false,\n        selectUser: '',\n        magicLink: ''\n      });\n    };\n\n    _this.handleChangeSelect = function (value) {\n      _this.setState({\n        selectUser: value\n      });\n    };\n\n    _this.handleGetLinkConference = function () {\n      var conferenceCode = _this.props.conferenceCode;\n      var magicLink = \"\".concat(window.location.origin, \"/cfr/conference/\").concat(conferenceCode);\n      navigator.clipboard.writeText(magicLink).then(function () {\n        newNotification(_this.props.i18n.t('notification.copyTextSuccess'), 'success', {\n          container: 'top-right'\n        });\n      }).catch(function (err) {\n        newNotification(_this.props.i18n.t('notification.copyTextError'), 'error', {\n          container: 'top-right'\n        });\n      });\n    };\n\n    _this.handleGetLink = function () {\n      //MUTATION: CREATE CONFERENCE\n      client.mutate({\n        mutation: Q_GET_DIRECT_JOIN_TOKEN,\n        variables: {\n          conferenceId: _this.props.conferenceId,\n          userId: _this.state.selectUser\n        }\n      }).then(function (_ref) {\n        var getDirectJoinToken = _ref.data.getDirectJoinToken;\n\n        if (getDirectJoinToken) {\n          var magicLink = \"\".concat(window.location.origin, \"/cfr/verify/\").concat(getDirectJoinToken);\n          navigator.clipboard.writeText(magicLink).then(function () {\n            newNotification(_this.props.i18n.t('notification.copyTextSuccess'), 'success', {\n              container: 'top-right'\n            });\n          }).catch(function (err) {\n            newNotification(_this.props.i18n.t('notification.copyTextError'), 'error', {\n              container: 'top-right'\n            });\n          });\n\n          _this.setState(function (_preState) {\n            return {\n              magicLink: magicLink\n            };\n          });\n        }\n      }).catch(function (error) {\n        return returnError('Get Link', {\n          error: error,\n          errorMessage: _this.props.i18n.t('notification.getLinkError')\n        }, {\n          container: 'top-right'\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GetLink, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          conferenceUser = _this$props.conferenceUser,\n          i18n = _this$props.i18n,\n          conferenceCode = _this$props.conferenceCode;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"magic-link-button\",\n        onClick: this.showModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, i18n.t('meeting.getLink')), /*#__PURE__*/React.createElement(_Modal, {\n        className: \"common-modal\",\n        title: i18n.t('meeting.conferenceLink'),\n        visible: this.state.visible,\n        onCancel: this.handleCancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, \"\\u0110\\u01B0\\u1EDDng d\\u1EABn ph\\xF2ng h\\u1ECDp:\"), /*#__PURE__*/React.createElement(_Row, {\n        gutter: 8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      }, \"\".concat(window.location.origin, \"/cfr/confernce/\").concat(conferenceCode))), /*#__PURE__*/React.createElement(_Col, {\n        span: 4,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: copyIcon,\n        style: {\n          width: '20px',\n          cursor: 'pointer'\n        },\n        alt: \"icon\",\n        onClick: this.handleGetLinkConference,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }, i18n.t('meeting.getLinkUser')), /*#__PURE__*/React.createElement(_Row, {\n        gutter: 8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Select, {\n        style: {\n          width: '100%'\n        },\n        placeholder: i18n.t('require.pleaseSelect'),\n        value: this.state.selectUser,\n        onChange: this.handleChangeSelect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }, conferenceUser ? conferenceUser.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(Option, {\n          value: item.user._id,\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }\n        }, \"\".concat(item.user.firstname, \" \").concat(item.user.lastname));\n      }) : null)), /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        style: {\n          width: '100%'\n        },\n        onClick: this.handleGetLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      }, \"Get Link\"))), /*#__PURE__*/React.createElement(_Input, {\n        style: {\n          marginTop: '20px'\n        },\n        placeholder: \"Basic usage\",\n        value: this.state.magicLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        onClick: this.handleOk,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, i18n.t('common.add')), /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        ghost: true,\n        onClick: this.handleCancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }, i18n.t('common.cancel')))));\n    }\n  }]);\n\n  return GetLink;\n}(React.PureComponent), _temp)) || _class;\n\nexport default withTranslation()(GetLink);","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/conferenceDetail/GetLink.jsx"],"names":["React","withTranslation","withRouter","client","Q_GET_DIRECT_JOIN_TOKEN","newNotification","returnError","Option","GetLink","state","visible","selectUser","magicLink","showModal","setState","handleOk","e","handleCancel","handleChangeSelect","value","handleGetLinkConference","conferenceCode","props","window","location","origin","navigator","clipboard","writeText","then","i18n","t","container","catch","err","handleGetLink","mutate","mutation","variables","conferenceId","userId","getDirectJoinToken","data","_preState","error","errorMessage","conferenceUser","display","justifyContent","copyIcon","width","cursor","map","item","index","user","_id","firstname","lastname","marginTop","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Modal, Col, Row, Select, Button, Input } from 'antd'\nimport { withTranslation } from 'react-i18next'\nimport { withRouter } from 'react-router-dom'\nimport './GetLink.less'\n\nimport { client, Q_GET_DIRECT_JOIN_TOKEN } from '@graphql'\nimport { newNotification, returnError } from '@utils'\n\nimport copyIcon from '@misc/images/copy.svg'\n\nconst { Option } = Select\n\n@withRouter\nclass GetLink extends React.PureComponent {\n  state = {\n    visible: false,\n    selectUser: '',\n    magicLink: ''\n  }\n\n  showModal = () => {\n    this.setState({ visible: true })\n  }\n\n  handleOk = e => {\n    this.setState({ visible: false })\n  }\n\n  handleCancel = () => {\n    this.setState({ visible: false, selectUser: '', magicLink: '' })\n  }\n\n  handleChangeSelect = (value) => {\n    this.setState({ selectUser: value })\n  }\n\n  handleGetLinkConference = () => {\n    const { conferenceCode } = this.props\n    const magicLink = `${window.location.origin}/cfr/conference/${conferenceCode}`\n    navigator.clipboard.writeText(magicLink)\n      .then(() => {\n        newNotification(this.props.i18n.t('notification.copyTextSuccess'), 'success', { container: 'top-right' })\n      })\n      .catch(err => {\n        newNotification(this.props.i18n.t('notification.copyTextError'), 'error', { container: 'top-right' })\n      });\n  }\n\n  handleGetLink = () => {\n    //MUTATION: CREATE CONFERENCE\n    client\n      .mutate({\n        mutation: Q_GET_DIRECT_JOIN_TOKEN,\n        variables: {\n          conferenceId: this.props.conferenceId,\n          userId: this.state.selectUser\n        }\n      })\n      .then(({ data: { getDirectJoinToken } }) => {\n        if (getDirectJoinToken) {\n          const magicLink = `${window.location.origin}/cfr/verify/${getDirectJoinToken}`\n          navigator.clipboard.writeText(magicLink)\n            .then(() => {\n              newNotification(this.props.i18n.t('notification.copyTextSuccess'), 'success', { container: 'top-right' })\n            })\n            .catch(err => {\n              newNotification(this.props.i18n.t('notification.copyTextError'), 'error', { container: 'top-right' })\n            });\n          this.setState(_preState => ({\n            magicLink\n          }))\n        }\n      })\n      .catch(error => returnError(\n        'Get Link',\n        {\n          error,\n          errorMessage: this.props.i18n.t('notification.getLinkError')\n        },\n        { container: 'top-right' }\n      ))\n  }\n\n  render() {\n    const { conferenceUser, i18n, conferenceCode } = this.props\n    return (\n      <>\n        <button className='magic-link-button' onClick={this.showModal}>\n          {i18n.t('meeting.getLink')}\n        </button>\n        <Modal\n          className='common-modal'\n          title={i18n.t('meeting.conferenceLink')}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n        >\n          <p>Đường dẫn phòng họp:</p>\n          <Row gutter={8}>\n            <Col span={20}>\n              <p>{`${window.location.origin}/cfr/confernce/${conferenceCode}`}</p>\n            </Col>\n            <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n              <img\n                src={copyIcon}\n                style={{ width: '20px', cursor: 'pointer' }}\n                alt='icon'\n                onClick={this.handleGetLinkConference}\n              />\n            </Col>\n          </Row>\n          <p>{i18n.t('meeting.getLinkUser')}</p>\n          <Row gutter={8}>\n            <Col span={18}>\n              <Select\n                style={{ width: '100%' }}\n                placeholder={i18n.t('require.pleaseSelect')}\n                value={this.state.selectUser}\n                onChange={this.handleChangeSelect}\n              >\n                {\n                  conferenceUser ? conferenceUser.map((item, index) => (\n                    <Option value={item.user._id} key={index}>\n                      {`${item.user.firstname} ${item.user.lastname}`}\n                    </Option>\n                  )) : null\n                }\n              </Select>\n            </Col>\n            <Col span={6}>\n              <Button\n                type=\"primary\"\n                style={{ width: '100%' }}\n                onClick={this.handleGetLink}\n              >\n                Get Link\n              </Button>\n            </Col>\n          </Row>\n          <Input style={{ marginTop: '20px' }} placeholder=\"Basic usage\" value={this.state.magicLink} />\n          <div className='wrapper-button'>\n            <Button type='primary' onClick={this.handleOk}>\n              {i18n.t('common.add')}\n            </Button>\n            <Button type='primary' ghost onClick={this.handleCancel}>\n              {i18n.t('common.cancel')}\n            </Button>\n          </div>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default withTranslation()(GetLink)\n"]},"metadata":{},"sourceType":"module"}