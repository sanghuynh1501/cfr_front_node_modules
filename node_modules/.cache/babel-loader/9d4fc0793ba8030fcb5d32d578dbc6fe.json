{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _regeneratorRuntime from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/conference2/modals/ModalNotificationOpenManyTab.jsx\";\n\nimport React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport './ModalNotificationOpenManyTab.less';\nimport { client, M_KICK_ALL_SESSIONS_ONLINE } from '@graphql';\nimport { returnError, parseError } from '@utils';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router-dom';\nvar ModalNotificationOpenManyTab = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ModalNotificationOpenManyTab, _React$PureComponent);\n\n  var _super = _createSuper(ModalNotificationOpenManyTab);\n\n  function ModalNotificationOpenManyTab() {\n    var _this;\n\n    _classCallCheck(this, ModalNotificationOpenManyTab);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.handleOk = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var i18n;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              i18n = _this.props.i18n;\n              client.query({\n                query: M_KICK_ALL_SESSIONS_ONLINE,\n                variables: {\n                  conferenceCode: _this.props.conferenceCode\n                },\n                fetchPolicy: 'no-cache'\n              }).then(function (_ref3) {\n                var kickAllSessionOnline = _ref3.data.kickAllSessionOnline;\n\n                if (!kickAllSessionOnline) {\n                  throw new Error();\n                }\n\n                _this.props.handleJoin();\n              }).catch(function (error) {\n                returnError('Kill all session online', {\n                  error: error,\n                  errorMessage: i18n.t(parseError(error))\n                }, {\n                  container: 'top-right'\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.handleLeave = function () {\n      var _this$props = _this.props,\n          history = _this$props.history,\n          handleCancel = _this$props.handleCancel;\n      handleCancel();\n      history.push('/leave');\n    };\n\n    return _this;\n  }\n\n  _createClass(ModalNotificationOpenManyTab, [{\n    key: \"render\",\n    value: function render() {\n      var i18n = this.props.i18n;\n      return /*#__PURE__*/React.createElement(_Modal, {\n        className: \"modal-open-many-tab\",\n        title: i18n.t('conference.notification'),\n        visible: this.props.visible,\n        onCancel: this.props.handleCancel,\n        centered: true,\n        width: 500,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      }, i18n.t('conference.noti_openRoomInManyTabs'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: this.props.handleJoin,\n        className: \"text-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, \"M\\u1EDF nhi\\u1EC1u c\\u1EEDa s\\u1ED5\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        ghost: true,\n        onClick: this.handleLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, i18n.t('conference.btnLeaveRoom')), /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        onClick: this.handleOk,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, i18n.t('common.ok')))));\n    }\n  }]);\n\n  return ModalNotificationOpenManyTab;\n}(React.PureComponent), _temp)) || _class) || _class);\nexport default withTranslation()(withRouter(ModalNotificationOpenManyTab));","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/conference2/modals/ModalNotificationOpenManyTab.jsx"],"names":["React","inject","observer","client","M_KICK_ALL_SESSIONS_ONLINE","returnError","parseError","withTranslation","withRouter","ModalNotificationOpenManyTab","stores","handleOk","i18n","props","query","variables","conferenceCode","fetchPolicy","then","kickAllSessionOnline","data","Error","handleJoin","catch","error","errorMessage","t","container","handleLeave","history","handleCancel","push","visible","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { inject, observer } from 'mobx-react'\nimport { Modal, Button } from 'antd'\nimport './ModalNotificationOpenManyTab.less'\n\nimport { client, M_KICK_ALL_SESSIONS_ONLINE } from '@graphql'\nimport { returnError, parseError } from '@utils'\nimport { withTranslation } from 'react-i18next'\nimport { withRouter } from 'react-router-dom'\n\n@inject(({ stores }) => stores)\n@observer\nclass ModalNotificationOpenManyTab extends React.PureComponent {\n\n  handleOk = async () => {\n    const { i18n } = this.props\n    client\n      .query({\n        query: M_KICK_ALL_SESSIONS_ONLINE,\n        variables: { conferenceCode: this.props.conferenceCode },\n        fetchPolicy: 'no-cache'\n      })\n      .then(({ data: { kickAllSessionOnline } }) => {\n        if (!kickAllSessionOnline) {\n          throw new Error()\n        }\n        this.props.handleJoin()\n      })\n      .catch(error => {\n        returnError(\n          'Kill all session online',\n          {\n            error,\n            errorMessage: i18n.t(parseError(error))\n          },\n          { container: 'top-right' }\n        )\n      })\n  }\n\n  handleLeave = () => {\n    const { history, handleCancel } = this.props\n    handleCancel()\n    history.push('/leave')\n  }\n\n\n  render() {\n    const { i18n } = this.props\n    return (\n      <Modal\n        className='modal-open-many-tab'\n        title={i18n.t('conference.notification')}\n        visible={this.props.visible}\n        onCancel={this.props.handleCancel}\n        centered\n        width={500}\n      >\n        {i18n.t('conference.noti_openRoomInManyTabs')}\n\n        <div className='footer'>\n          <div onClick={this.props.handleJoin} className='text-link'>Mở nhiều cửa sổ</div>\n\n          <div className='wrapper-button'>\n            <Button type='primary' ghost onClick={this.handleLeave}>\n              {i18n.t('conference.btnLeaveRoom')}\n            </Button>\n\n            <Button type='primary'\n              onClick={this.handleOk}>\n              {i18n.t('common.ok')}\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default withTranslation()(withRouter(ModalNotificationOpenManyTab))\n"]},"metadata":{},"sourceType":"module"}