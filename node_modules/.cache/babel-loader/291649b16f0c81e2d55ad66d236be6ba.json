{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.JitsiMeetJS = t() : e.JitsiMeetJS = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var i = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) {\n        n.d(r, i, function (t) {\n          return e[t];\n        }.bind(null, i));\n      }\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 122);\n  }([function (e, t) {\n    e.exports = {\n      ADD_ICE_CANDIDATE_FAILED: \"xmpp.add_ice_candidate_failed\",\n      AUDIO_MUTED_BY_FOCUS: \"xmpp.audio_muted_by_focus\",\n      AUTHENTICATION_REQUIRED: \"xmpp.authentication_required\",\n      BRIDGE_DOWN: \"xmpp.bridge_down\",\n      CALL_ACCEPTED: \"xmpp.callaccepted.jingle\",\n      CALL_INCOMING: \"xmpp.callincoming.jingle\",\n      CALL_ENDED: \"xmpp.callended.jingle\",\n      CHAT_ERROR_RECEIVED: \"xmpp.chat_error_received\",\n      CONFERENCE_PROPERTIES_CHANGED: \"xmpp.conference_properties_changed\",\n      CONNECTION_ESTABLISHED: \"xmpp.connection.connected\",\n      CONNECTION_FAILED: \"xmpp.connection.failed\",\n      CONNECTION_INTERRUPTED: \"xmpp.connection.interrupted\",\n      CONNECTION_RESTORED: \"xmpp.connection.restored\",\n      CONNECTION_ICE_FAILED: \"xmpp.connection.ice.failed\",\n      CONNECTION_STATUS_CHANGED: \"xmpp.connection.status.changed\",\n      DISPLAY_NAME_CHANGED: \"xmpp.display_name_changed\",\n      EMUC_ROOM_ADDED: \"xmpp.emuc_room_added\",\n      EMUC_ROOM_REMOVED: \"xmpp.emuc_room_removed\",\n      ETHERPAD: \"xmpp.etherpad\",\n      FOCUS_DISCONNECTED: \"xmpp.focus_disconnected\",\n      FOCUS_LEFT: \"xmpp.focus_left\",\n      GRACEFUL_SHUTDOWN: \"xmpp.graceful_shutdown\",\n      ICE_RESTARTING: \"rtc.ice_restarting\",\n      ICE_RESTART_SUCCESS: \"rtc.ice_restart_success\",\n      KICKED: \"xmpp.kicked\",\n      LOCAL_ROLE_CHANGED: \"xmpp.localrole_changed\",\n      MESSAGE_RECEIVED: \"xmpp.message_received\",\n      PRIVATE_MESSAGE_RECEIVED: \"xmpp.private_message_received\",\n      MUC_MEMBER_BOT_TYPE_CHANGED: \"xmpp.muc_member_bot_type_changed\",\n      MUC_DESTROYED: \"xmpp.muc_destroyed\",\n      MUC_JOINED: \"xmpp.muc_joined\",\n      MUC_MEMBER_JOINED: \"xmpp.muc_member_joined\",\n      MUC_MEMBER_LEFT: \"xmpp.muc_member_left\",\n      MUC_LEFT: \"xmpp.muc_left\",\n      MUC_ROLE_CHANGED: \"xmpp.muc_role_changed\",\n      MUC_LOCK_CHANGED: \"xmpp.muc_lock_changed\",\n      PARTICIPANT_AUDIO_MUTED: \"xmpp.audio_muted\",\n      PARTICIPANT_VIDEO_MUTED: \"xmpp.video_muted\",\n      PARTICIPANT_VIDEO_TYPE_CHANGED: \"xmpp.video_type\",\n      PARTCIPANT_FEATURES_CHANGED: \"xmpp.partcipant_features_changed\",\n      PASSWORD_REQUIRED: \"xmpp.password_required\",\n      PEERCONNECTION_READY: \"xmpp.peerconnection_ready\",\n      PHONE_NUMBER_CHANGED: \"conference.phoneNumberChanged\",\n      PRESENCE_RECEIVED: \"xmpp.presence_received\",\n      PRESENCE_STATUS: \"xmpp.presence_status\",\n      PROMPT_FOR_LOGIN: \"xmpp.prompt_for_login\",\n      READY_TO_JOIN: \"xmpp.ready_to_join\",\n      RECORDER_STATE_CHANGED: \"xmpp.recorderStateChanged\",\n      REMOTE_STATS: \"xmpp.remote_stats\",\n      RENEGOTIATION_FAILED: \"xmpp.renegotiation_failed\",\n      RESERVATION_ERROR: \"xmpp.room_reservation_error\",\n      ROOM_CONNECT_ERROR: \"xmpp.room_connect_error\",\n      ROOM_CONNECT_NOT_ALLOWED_ERROR: \"xmpp.room_connect_error.not_allowed\",\n      ROOM_JOIN_ERROR: \"xmpp.room_join_error\",\n      ROOM_MAX_USERS_ERROR: \"xmpp.room_max_users_error\",\n      SENDING_CHAT_MESSAGE: \"xmpp.sending_chat_message\",\n      SENDING_PRIVATE_CHAT_MESSAGE: \"xmpp.sending_private_chat_message\",\n      SESSION_ACCEPT_TIMEOUT: \"xmpp.session_accept_timeout\",\n      SPEAKER_STATS_RECEIVED: \"xmpp.speaker_stats_received\",\n      START_MUTED_FROM_FOCUS: \"xmpp.start_muted_from_focus\",\n      SUBJECT_CHANGED: \"xmpp.subject_changed\",\n      SUSPEND_DETECTED: \"xmpp.suspend_detected\",\n      TRANSCRIPTION_STATUS_CHANGED: \"xmpp.transcription_status_changed\",\n      TRANSPORT_INFO: \"xmpp.transportinfo.jingle\",\n      VIDEO_SIP_GW_AVAILABILITY_CHANGED: \"xmpp.videoSIPGWAvailabilityChanged\",\n      VIDEO_SIP_GW_SESSION_STATE_CHANGED: \"xmpp.videoSIPGWSessionStateChanged\",\n      ICE_CONNECTION_STATE_CHANGED: \"xmpp.ice_connection_state_changed\",\n      JSON_MESSAGE_RECEIVED: \"xmmp.json_message_received\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"AUTH_STATUS_CHANGED\", function () {\n      return r;\n    }), n.d(t, \"AVATAR_CHANGED\", function () {\n      return i;\n    }), n.d(t, \"BEFORE_STATISTICS_DISPOSED\", function () {\n      return o;\n    }), n.d(t, \"CONFERENCE_ERROR\", function () {\n      return a;\n    }), n.d(t, \"CONFERENCE_FAILED\", function () {\n      return s;\n    }), n.d(t, \"CONFERENCE_JOINED\", function () {\n      return c;\n    }), n.d(t, \"CONFERENCE_LEFT\", function () {\n      return u;\n    }), n.d(t, \"CONNECTION_ESTABLISHED\", function () {\n      return d;\n    }), n.d(t, \"CONNECTION_INTERRUPTED\", function () {\n      return l;\n    }), n.d(t, \"CONNECTION_RESTORED\", function () {\n      return p;\n    }), n.d(t, \"DATA_CHANNEL_OPENED\", function () {\n      return f;\n    }), n.d(t, \"DISPLAY_NAME_CHANGED\", function () {\n      return h;\n    }), n.d(t, \"DOMINANT_SPEAKER_CHANGED\", function () {\n      return m;\n    }), n.d(t, \"DTMF_SUPPORT_CHANGED\", function () {\n      return v;\n    }), n.d(t, \"ENDPOINT_MESSAGE_RECEIVED\", function () {\n      return g;\n    }), n.d(t, \"JVB121_STATUS\", function () {\n      return y;\n    }), n.d(t, \"KICKED\", function () {\n      return _;\n    }), n.d(t, \"PARTICIPANT_KICKED\", function () {\n      return S;\n    }), n.d(t, \"LAST_N_ENDPOINTS_CHANGED\", function () {\n      return b;\n    }), n.d(t, \"LOCK_STATE_CHANGED\", function () {\n      return E;\n    }), n.d(t, \"SERVER_REGION_CHANGED\", function () {\n      return T;\n    }), n.d(t, \"MESSAGE_RECEIVED\", function () {\n      return C;\n    }), n.d(t, \"PRIVATE_MESSAGE_RECEIVED\", function () {\n      return A;\n    }), n.d(t, \"PARTICIPANT_CONN_STATUS_CHANGED\", function () {\n      return R;\n    }), n.d(t, \"PARTCIPANT_FEATURES_CHANGED\", function () {\n      return w;\n    }), n.d(t, \"PARTICIPANT_PROPERTY_CHANGED\", function () {\n      return O;\n    }), n.d(t, \"P2P_STATUS\", function () {\n      return k;\n    }), n.d(t, \"PHONE_NUMBER_CHANGED\", function () {\n      return P;\n    }), n.d(t, \"PROPERTIES_CHANGED\", function () {\n      return I;\n    }), n.d(t, \"RECORDER_STATE_CHANGED\", function () {\n      return D;\n    }), n.d(t, \"VIDEO_SIP_GW_AVAILABILITY_CHANGED\", function () {\n      return N;\n    }), n.d(t, \"VIDEO_SIP_GW_SESSION_STATE_CHANGED\", function () {\n      return M;\n    }), n.d(t, \"START_MUTED_POLICY_CHANGED\", function () {\n      return L;\n    }), n.d(t, \"STARTED_MUTED\", function () {\n      return x;\n    }), n.d(t, \"SUBJECT_CHANGED\", function () {\n      return j;\n    }), n.d(t, \"SUSPEND_DETECTED\", function () {\n      return F;\n    }), n.d(t, \"TALK_WHILE_MUTED\", function () {\n      return U;\n    }), n.d(t, \"NO_AUDIO_INPUT\", function () {\n      return H;\n    }), n.d(t, \"AUDIO_INPUT_STATE_CHANGE\", function () {\n      return J;\n    }), n.d(t, \"TRACK_ADDED\", function () {\n      return G;\n    }), n.d(t, \"TRACK_AUDIO_LEVEL_CHANGED\", function () {\n      return B;\n    }), n.d(t, \"TRACK_MUTE_CHANGED\", function () {\n      return V;\n    }), n.d(t, \"TRACK_REMOVED\", function () {\n      return q;\n    }), n.d(t, \"TRANSCRIPTION_STATUS_CHANGED\", function () {\n      return W;\n    }), n.d(t, \"USER_JOINED\", function () {\n      return K;\n    }), n.d(t, \"USER_LEFT\", function () {\n      return z;\n    }), n.d(t, \"USER_ROLE_CHANGED\", function () {\n      return $;\n    }), n.d(t, \"USER_STATUS_CHANGED\", function () {\n      return X;\n    }), n.d(t, \"BOT_TYPE_CHANGED\", function () {\n      return Q;\n    });\n    var r = \"conference.auth_status_changed\",\n        i = \"conference.avatarChanged\",\n        o = \"conference.beforeStatisticsDisposed\",\n        a = \"conference.error\",\n        s = \"conference.failed\",\n        c = \"conference.joined\",\n        u = \"conference.left\",\n        d = \"conference.connectionEstablished\",\n        l = \"conference.connectionInterrupted\",\n        p = \"conference.connectionRestored\",\n        f = \"conference.dataChannelOpened\",\n        h = \"conference.displayNameChanged\",\n        m = \"conference.dominantSpeaker\",\n        v = \"conference.dtmfSupportChanged\",\n        g = \"conference.endpoint_message_received\",\n        y = \"conference.jvb121Status\",\n        _ = \"conference.kicked\",\n        S = \"conference.participant_kicked\",\n        b = \"conference.lastNEndpointsChanged\",\n        E = \"conference.lock_state_changed\",\n        T = \"conference.server_region_changed\",\n        C = \"conference.messageReceived\",\n        A = \"conference.privateMessageReceived\",\n        R = \"conference.participant_conn_status_changed\",\n        w = \"conference.partcipant_features_changed\",\n        O = \"conference.participant_property_changed\",\n        k = \"conference.p2pStatus\",\n        P = \"conference.phoneNumberChanged\",\n        I = \"conference.propertiesChanged\",\n        D = \"conference.recorderStateChanged\",\n        N = \"conference.videoSIPGWAvailabilityChanged\",\n        M = \"conference.videoSIPGWSessionStateChanged\",\n        L = \"conference.start_muted_policy_changed\",\n        x = \"conference.started_muted\",\n        j = \"conference.subjectChanged\",\n        F = \"conference.suspendDetected\",\n        U = \"conference.talk_while_muted\",\n        H = \"conference.no_audio_input\",\n        J = \"conference.audio_input_state_changed\",\n        G = \"conference.trackAdded\",\n        B = \"conference.audioLevelsChanged\",\n        V = \"conference.trackMuteChanged\",\n        q = \"conference.trackRemoved\",\n        W = \"conference.transcriptionStatusChanged\",\n        K = \"conference.userJoined\",\n        z = \"conference.userLeft\",\n        $ = \"conference.roleChanged\",\n        X = \"conference.statusChanged\",\n        Q = \"conference.bot_type_changed\";\n  }, function (e, t, n) {\n    var r, i, o;\n    i = [], void 0 === (o = \"function\" == typeof (r = function r() {\n      /**\n       * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n       * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n       */\n      var t, n, r;\n      return function (e) {\n        var i,\n            _o,\n            a,\n            s,\n            c = {},\n            u = {},\n            d = {},\n            l = {},\n            p = Object.prototype.hasOwnProperty,\n            f = [].slice,\n            h = /\\.js$/;\n\n        function m(e, t) {\n          return p.call(e, t);\n        }\n\n        function v(e, t) {\n          var n,\n              r,\n              i,\n              o,\n              a,\n              s,\n              c,\n              u,\n              l,\n              p,\n              f,\n              m = t && t.split(\"/\"),\n              v = d.map,\n              g = v && v[\"*\"] || {};\n\n          if (e) {\n            for (a = (e = e.split(\"/\")).length - 1, d.nodeIdCompat && h.test(e[a]) && (e[a] = e[a].replace(h, \"\")), \".\" === e[0].charAt(0) && m && (e = m.slice(0, m.length - 1).concat(e)), l = 0; l < e.length; l++) {\n              if (\".\" === (f = e[l])) e.splice(l, 1), l -= 1;else if (\"..\" === f) {\n                if (0 === l || 1 === l && \"..\" === e[2] || \"..\" === e[l - 1]) continue;\n                l > 0 && (e.splice(l - 1, 2), l -= 2);\n              }\n            }\n\n            e = e.join(\"/\");\n          }\n\n          if ((m || g) && v) {\n            for (l = (n = e.split(\"/\")).length; l > 0; l -= 1) {\n              if (r = n.slice(0, l).join(\"/\"), m) for (p = m.length; p > 0; p -= 1) {\n                if ((i = v[m.slice(0, p).join(\"/\")]) && (i = i[r])) {\n                  o = i, s = l;\n                  break;\n                }\n              }\n              if (o) break;\n              !c && g && g[r] && (c = g[r], u = l);\n            }\n\n            !o && c && (o = c, s = u), o && (n.splice(0, s, o), e = n.join(\"/\"));\n          }\n\n          return e;\n        }\n\n        function g(t, n) {\n          return function () {\n            var r = f.call(arguments, 0);\n            return \"string\" != typeof r[0] && 1 === r.length && r.push(null), _o.apply(e, r.concat([t, n]));\n          };\n        }\n\n        function y(e) {\n          return function (t) {\n            c[e] = t;\n          };\n        }\n\n        function _(t) {\n          if (m(u, t)) {\n            var n = u[t];\n            delete u[t], l[t] = !0, i.apply(e, n);\n          }\n\n          if (!m(c, t) && !m(l, t)) throw new Error(\"No \" + t);\n          return c[t];\n        }\n\n        function S(e) {\n          var t,\n              n = e ? e.indexOf(\"!\") : -1;\n          return n > -1 && (t = e.substring(0, n), e = e.substring(n + 1, e.length)), [t, e];\n        }\n\n        function b(e) {\n          return e ? S(e) : [];\n        }\n\n        function E(e) {\n          return function () {\n            return d && d.config && d.config[e] || {};\n          };\n        }\n\n        a = function a(e, t) {\n          var n,\n              r,\n              i = S(e),\n              o = i[0],\n              a = t[1];\n          return e = i[1], o && (n = _(o = v(o, a))), o ? e = n && n.normalize ? n.normalize(e, (r = a, function (e) {\n            return v(e, r);\n          })) : v(e, a) : (o = (i = S(e = v(e, a)))[0], e = i[1], o && (n = _(o))), {\n            f: o ? o + \"!\" + e : e,\n            n: e,\n            pr: o,\n            p: n\n          };\n        }, s = {\n          require: function require(e) {\n            return g(e);\n          },\n          exports: function exports(e) {\n            var t = c[e];\n            return void 0 !== t ? t : c[e] = {};\n          },\n          module: function module(e) {\n            return {\n              id: e,\n              uri: \"\",\n              exports: c[e],\n              config: E(e)\n            };\n          }\n        }, i = function i(t, n, r, _i) {\n          var o,\n              d,\n              p,\n              f,\n              h,\n              v,\n              S,\n              E = [],\n              T = typeof r;\n\n          if (v = b(_i = _i || t), \"undefined\" === T || \"function\" === T) {\n            for (n = !n.length && r.length ? [\"require\", \"exports\", \"module\"] : n, h = 0; h < n.length; h += 1) {\n              if (\"require\" === (d = (f = a(n[h], v)).f)) E[h] = s.require(t);else if (\"exports\" === d) E[h] = s.exports(t), S = !0;else if (\"module\" === d) o = E[h] = s.module(t);else if (m(c, d) || m(u, d) || m(l, d)) E[h] = _(d);else {\n                if (!f.p) throw new Error(t + \" missing \" + d);\n                f.p.load(f.n, g(_i, !0), y(d), {}), E[h] = c[d];\n              }\n            }\n\n            p = r ? r.apply(c[t], E) : void 0, t && (o && o.exports !== e && o.exports !== c[t] ? c[t] = o.exports : p === e && S || (c[t] = p));\n          } else t && (c[t] = r);\n        }, t = n = _o = function o(t, n, r, c, u) {\n          if (\"string\" == typeof t) return s[t] ? s[t](n) : _(a(t, b(n)).f);\n\n          if (!t.splice) {\n            if ((d = t).deps && _o(d.deps, d.callback), !n) return;\n            n.splice ? (t = n, n = r, r = null) : t = e;\n          }\n\n          return n = n || function () {}, \"function\" == typeof r && (r = c, c = u), c ? i(e, t, n, r) : setTimeout(function () {\n            i(e, t, n, r);\n          }, 4), _o;\n        }, _o.config = function (e) {\n          return _o(e);\n        }, t._defined = c, (r = function r(e, t, n) {\n          if (\"string\" != typeof e) throw new Error(\"See almond README: incorrect module build, no module name\");\n          t.splice || (n = t, t = []), m(c, e) || m(u, e) || (u[e] = [e, t, n]);\n        }).amd = {\n          jQuery: !0\n        };\n      }(), r(\"node_modules/almond/almond.js\", function () {}), function (e, t) {\n        \"function\" == typeof r && r.amd ? r(\"strophe-polyfill\", [], function () {\n          return t(e);\n        }) : t(e);\n      }(this, function (e) {\n        Function.prototype.bind || (Function.prototype.bind = function (e) {\n          var t = this,\n              n = Array.prototype.slice,\n              r = Array.prototype.concat,\n              i = n.call(arguments, 1);\n          return function () {\n            return t.apply(e || this, r.call(i, n.call(arguments, 0)));\n          };\n        }), Array.isArray || (Array.isArray = function (e) {\n          return \"[object Array]\" === Object.prototype.toString.call(e);\n        }), Array.prototype.indexOf || (Array.prototype.indexOf = function (e) {\n          var t = this.length,\n              n = Number(arguments[1]) || 0;\n\n          for ((n = n < 0 ? Math.ceil(n) : Math.floor(n)) < 0 && (n += t); n < t; n++) {\n            if (n in this && this[n] === e) return n;\n          }\n\n          return -1;\n        }), Array.prototype.forEach || (Array.prototype.forEach = function (e, t) {\n          var n, r;\n          if (null === this) throw new TypeError(\" this is null or not defined\");\n          var i = Object(this),\n              o = i.length >>> 0;\n          if (\"function\" != typeof e) throw new TypeError(e + \" is not a function\");\n\n          for (arguments.length > 1 && (n = t), r = 0; r < o;) {\n            var a;\n            r in i && (a = i[r], e.call(n, a, r, i)), r++;\n          }\n        });\n        var t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        e.btoa || (e.btoa = function (e) {\n          var n,\n              r,\n              i,\n              o,\n              a,\n              s,\n              c,\n              u = \"\",\n              d = 0;\n\n          do {\n            o = (n = e.charCodeAt(d++)) >> 2, a = (3 & n) << 4 | (r = e.charCodeAt(d++)) >> 4, s = (15 & r) << 2 | (i = e.charCodeAt(d++)) >> 6, c = 63 & i, isNaN(r) ? (a = (3 & n) << 4, s = c = 64) : isNaN(i) && (c = 64), u = u + t.charAt(o) + t.charAt(a) + t.charAt(s) + t.charAt(c);\n          } while (d < e.length);\n\n          return u;\n        }), e.atob || (e.atob = function (e) {\n          var n,\n              r,\n              i,\n              o,\n              a,\n              s,\n              c = \"\",\n              u = 0;\n          e = e.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n          do {\n            n = t.indexOf(e.charAt(u++)) << 2 | (o = t.indexOf(e.charAt(u++))) >> 4, r = (15 & o) << 4 | (a = t.indexOf(e.charAt(u++))) >> 2, i = (3 & a) << 6 | (s = t.indexOf(e.charAt(u++))), c += String.fromCharCode(n), 64 !== a && (c += String.fromCharCode(r)), 64 !== s && (c += String.fromCharCode(i));\n          } while (u < e.length);\n\n          return c;\n        });\n      }), function (t, n) {\n        \"function\" == typeof r && r.amd ? r(\"strophe-sha1\", [], function () {\n          return n();\n        }) : e.exports = n();\n      }(0, function () {\n        function e(e, r) {\n          e[r >> 5] |= 128 << 24 - r % 32, e[15 + (r + 64 >> 9 << 4)] = r;\n\n          var a,\n              s,\n              c,\n              u,\n              d,\n              l,\n              p,\n              f,\n              h = new Array(80),\n              m = 1732584193,\n              v = -271733879,\n              g = -1732584194,\n              y = 271733878,\n              _ = -1009589776;\n\n          for (a = 0; a < e.length; a += 16) {\n            for (u = m, d = v, l = g, p = y, f = _, s = 0; s < 80; s++) {\n              h[s] = s < 16 ? e[a + s] : o(h[s - 3] ^ h[s - 8] ^ h[s - 14] ^ h[s - 16], 1), c = i(i(o(m, 5), t(s, v, g, y)), i(i(_, h[s]), n(s))), _ = y, y = g, g = o(v, 30), v = m, m = c;\n            }\n\n            m = i(m, u), v = i(v, d), g = i(g, l), y = i(y, p), _ = i(_, f);\n          }\n\n          return [m, v, g, y, _];\n        }\n\n        function t(e, t, n, r) {\n          return e < 20 ? t & n | ~t & r : e < 40 ? t ^ n ^ r : e < 60 ? t & n | t & r | n & r : t ^ n ^ r;\n        }\n\n        function n(e) {\n          return e < 20 ? 1518500249 : e < 40 ? 1859775393 : e < 60 ? -1894007588 : -899497514;\n        }\n\n        function r(t, n) {\n          var r = a(t);\n          r.length > 16 && (r = e(r, 8 * t.length));\n\n          for (var i = new Array(16), o = new Array(16), s = 0; s < 16; s++) {\n            i[s] = 909522486 ^ r[s], o[s] = 1549556828 ^ r[s];\n          }\n\n          var c = e(i.concat(a(n)), 512 + 8 * n.length);\n          return e(o.concat(c), 672);\n        }\n\n        function i(e, t) {\n          var n = (65535 & e) + (65535 & t);\n          return (e >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n;\n        }\n\n        function o(e, t) {\n          return e << t | e >>> 32 - t;\n        }\n\n        function a(e) {\n          for (var t = [], n = 0; n < 8 * e.length; n += 8) {\n            t[n >> 5] |= (255 & e.charCodeAt(n / 8)) << 24 - n % 32;\n          }\n\n          return t;\n        }\n\n        function s(e) {\n          for (var t = \"\", n = 0; n < 32 * e.length; n += 8) {\n            t += String.fromCharCode(e[n >> 5] >>> 24 - n % 32 & 255);\n          }\n\n          return t;\n        }\n\n        function c(e) {\n          for (var t, n, r = \"\", i = 0; i < 4 * e.length; i += 3) {\n            for (t = (e[i >> 2] >> 8 * (3 - i % 4) & 255) << 16 | (e[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4) & 255) << 8 | e[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4) & 255, n = 0; n < 4; n++) {\n              8 * i + 6 * n > 32 * e.length ? r += \"=\" : r += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(t >> 6 * (3 - n) & 63);\n            }\n          }\n\n          return r;\n        }\n\n        return {\n          b64_hmac_sha1: function b64_hmac_sha1(e, t) {\n            return c(r(e, t));\n          },\n          b64_sha1: function b64_sha1(t) {\n            return c(e(a(t), 8 * t.length));\n          },\n          binb2str: s,\n          core_hmac_sha1: r,\n          str_hmac_sha1: function str_hmac_sha1(e, t) {\n            return s(r(e, t));\n          },\n          str_sha1: function str_sha1(t) {\n            return s(e(a(t), 8 * t.length));\n          }\n        };\n      }), function (t, n) {\n        \"function\" == typeof r && r.amd ? r(\"strophe-md5\", [], function () {\n          return n();\n        }) : e.exports = n();\n      }(0, function () {\n        var e = function e(_e2, t) {\n          var n = (65535 & _e2) + (65535 & t);\n          return (_e2 >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n;\n        },\n            t = function t(e) {\n          for (var t = [], n = 0; n < 8 * e.length; n += 8) {\n            t[n >> 5] |= (255 & e.charCodeAt(n / 8)) << n % 32;\n          }\n\n          return t;\n        },\n            n = function n(t, _n, r, i, o, a) {\n          return e((s = e(e(_n, t), e(i, a))) << (c = o) | s >>> 32 - c, r);\n          var s, c;\n        },\n            r = function r(e, t, _r, i, o, a, s) {\n          return n(t & _r | ~t & i, e, t, o, a, s);\n        },\n            i = function i(e, t, r, _i2, o, a, s) {\n          return n(t & _i2 | r & ~_i2, e, t, o, a, s);\n        },\n            o = function o(e, t, r, i, _o2, a, s) {\n          return n(t ^ r ^ i, e, t, _o2, a, s);\n        },\n            a = function a(e, t, r, i, o, _a, s) {\n          return n(r ^ (t | ~i), e, t, o, _a, s);\n        },\n            s = function s(t, n) {\n          t[n >> 5] |= 128 << n % 32, t[14 + (n + 64 >>> 9 << 4)] = n;\n\n          for (var s, c, u, d, l = 1732584193, p = -271733879, f = -1732584194, h = 271733878, m = 0; m < t.length; m += 16) {\n            s = l, c = p, u = f, d = h, l = r(l, p, f, h, t[m + 0], 7, -680876936), h = r(h, l, p, f, t[m + 1], 12, -389564586), f = r(f, h, l, p, t[m + 2], 17, 606105819), p = r(p, f, h, l, t[m + 3], 22, -1044525330), l = r(l, p, f, h, t[m + 4], 7, -176418897), h = r(h, l, p, f, t[m + 5], 12, 1200080426), f = r(f, h, l, p, t[m + 6], 17, -1473231341), p = r(p, f, h, l, t[m + 7], 22, -45705983), l = r(l, p, f, h, t[m + 8], 7, 1770035416), h = r(h, l, p, f, t[m + 9], 12, -1958414417), f = r(f, h, l, p, t[m + 10], 17, -42063), p = r(p, f, h, l, t[m + 11], 22, -1990404162), l = r(l, p, f, h, t[m + 12], 7, 1804603682), h = r(h, l, p, f, t[m + 13], 12, -40341101), f = r(f, h, l, p, t[m + 14], 17, -1502002290), p = r(p, f, h, l, t[m + 15], 22, 1236535329), l = i(l, p, f, h, t[m + 1], 5, -165796510), h = i(h, l, p, f, t[m + 6], 9, -1069501632), f = i(f, h, l, p, t[m + 11], 14, 643717713), p = i(p, f, h, l, t[m + 0], 20, -373897302), l = i(l, p, f, h, t[m + 5], 5, -701558691), h = i(h, l, p, f, t[m + 10], 9, 38016083), f = i(f, h, l, p, t[m + 15], 14, -660478335), p = i(p, f, h, l, t[m + 4], 20, -405537848), l = i(l, p, f, h, t[m + 9], 5, 568446438), h = i(h, l, p, f, t[m + 14], 9, -1019803690), f = i(f, h, l, p, t[m + 3], 14, -187363961), p = i(p, f, h, l, t[m + 8], 20, 1163531501), l = i(l, p, f, h, t[m + 13], 5, -1444681467), h = i(h, l, p, f, t[m + 2], 9, -51403784), f = i(f, h, l, p, t[m + 7], 14, 1735328473), p = i(p, f, h, l, t[m + 12], 20, -1926607734), l = o(l, p, f, h, t[m + 5], 4, -378558), h = o(h, l, p, f, t[m + 8], 11, -2022574463), f = o(f, h, l, p, t[m + 11], 16, 1839030562), p = o(p, f, h, l, t[m + 14], 23, -35309556), l = o(l, p, f, h, t[m + 1], 4, -1530992060), h = o(h, l, p, f, t[m + 4], 11, 1272893353), f = o(f, h, l, p, t[m + 7], 16, -155497632), p = o(p, f, h, l, t[m + 10], 23, -1094730640), l = o(l, p, f, h, t[m + 13], 4, 681279174), h = o(h, l, p, f, t[m + 0], 11, -358537222), f = o(f, h, l, p, t[m + 3], 16, -722521979), p = o(p, f, h, l, t[m + 6], 23, 76029189), l = o(l, p, f, h, t[m + 9], 4, -640364487), h = o(h, l, p, f, t[m + 12], 11, -421815835), f = o(f, h, l, p, t[m + 15], 16, 530742520), p = o(p, f, h, l, t[m + 2], 23, -995338651), l = a(l, p, f, h, t[m + 0], 6, -198630844), h = a(h, l, p, f, t[m + 7], 10, 1126891415), f = a(f, h, l, p, t[m + 14], 15, -1416354905), p = a(p, f, h, l, t[m + 5], 21, -57434055), l = a(l, p, f, h, t[m + 12], 6, 1700485571), h = a(h, l, p, f, t[m + 3], 10, -1894986606), f = a(f, h, l, p, t[m + 10], 15, -1051523), p = a(p, f, h, l, t[m + 1], 21, -2054922799), l = a(l, p, f, h, t[m + 8], 6, 1873313359), h = a(h, l, p, f, t[m + 15], 10, -30611744), f = a(f, h, l, p, t[m + 6], 15, -1560198380), p = a(p, f, h, l, t[m + 13], 21, 1309151649), l = a(l, p, f, h, t[m + 4], 6, -145523070), h = a(h, l, p, f, t[m + 11], 10, -1120210379), f = a(f, h, l, p, t[m + 2], 15, 718787259), p = a(p, f, h, l, t[m + 9], 21, -343485551), l = e(l, s), p = e(p, c), f = e(f, u), h = e(h, d);\n          }\n\n          return [l, p, f, h];\n        };\n\n        return {\n          hexdigest: function hexdigest(e) {\n            return function (e) {\n              for (var t = \"\", n = 0; n < 4 * e.length; n++) {\n                t += \"0123456789abcdef\".charAt(e[n >> 2] >> n % 4 * 8 + 4 & 15) + \"0123456789abcdef\".charAt(e[n >> 2] >> n % 4 * 8 & 15);\n              }\n\n              return t;\n            }(s(t(e), 8 * e.length));\n          },\n          hash: function hash(e) {\n            return function (e) {\n              for (var t = \"\", n = 0; n < 32 * e.length; n += 8) {\n                t += String.fromCharCode(e[n >> 5] >>> n % 32 & 255);\n              }\n\n              return t;\n            }(s(t(e), 8 * e.length));\n          }\n        };\n      }), function (t, n) {\n        \"function\" == typeof r && r.amd ? r(\"strophe-utils\", [], function () {\n          return n();\n        }) : e.exports = n();\n      }(0, function () {\n        return {\n          utf16to8: function utf16to8(e) {\n            var t,\n                n,\n                r = \"\",\n                i = e.length;\n\n            for (t = 0; t < i; t++) {\n              (n = e.charCodeAt(t)) >= 0 && n <= 127 ? r += e.charAt(t) : n > 2047 ? (r += String.fromCharCode(224 | n >> 12 & 15), r += String.fromCharCode(128 | n >> 6 & 63), r += String.fromCharCode(128 | n >> 0 & 63)) : (r += String.fromCharCode(192 | n >> 6 & 31), r += String.fromCharCode(128 | n >> 0 & 63));\n            }\n\n            return r;\n          },\n          addCookies: function addCookies(e) {\n            var t, n, r, i, o, a, s;\n\n            for (t in e || {}) {\n              o = \"\", a = \"\", s = \"\", r = \"object\" == typeof (n = e[t]), i = escape(unescape(r ? n.value : n)), r && (o = n.expires ? \";expires=\" + n.expires : \"\", a = n.domain ? \";domain=\" + n.domain : \"\", s = n.path ? \";path=\" + n.path : \"\"), document.cookie = t + \"=\" + i + o + a + s;\n            }\n          }\n        };\n      }), function (t, i) {\n        \"function\" == typeof r && r.amd ? r(\"strophe-core\", [\"strophe-sha1\", \"strophe-md5\", \"strophe-utils\"], function () {\n          return i.apply(this, arguments);\n        }) : e.exports = i(n(\"./sha1\"), n(\"./md5\"), n(\"./utils\"));\n      }(0, function (e, t, n) {\n        var r;\n\n        function i(e, t) {\n          return new r.Builder(e, t);\n        }\n\n        function o(e) {\n          return new r.Builder(\"iq\", e);\n        }\n\n        function a(e) {\n          return new r.Builder(\"presence\", e);\n        }\n\n        return (r = {\n          VERSION: \"1.2.16\",\n          NS: {\n            HTTPBIND: \"http://jabber.org/protocol/httpbind\",\n            BOSH: \"urn:xmpp:xbosh\",\n            CLIENT: \"jabber:client\",\n            AUTH: \"jabber:iq:auth\",\n            ROSTER: \"jabber:iq:roster\",\n            PROFILE: \"jabber:iq:profile\",\n            DISCO_INFO: \"http://jabber.org/protocol/disco#info\",\n            DISCO_ITEMS: \"http://jabber.org/protocol/disco#items\",\n            MUC: \"http://jabber.org/protocol/muc\",\n            SASL: \"urn:ietf:params:xml:ns:xmpp-sasl\",\n            STREAM: \"http://etherx.jabber.org/streams\",\n            FRAMING: \"urn:ietf:params:xml:ns:xmpp-framing\",\n            BIND: \"urn:ietf:params:xml:ns:xmpp-bind\",\n            SESSION: \"urn:ietf:params:xml:ns:xmpp-session\",\n            VERSION: \"jabber:iq:version\",\n            STANZAS: \"urn:ietf:params:xml:ns:xmpp-stanzas\",\n            XHTML_IM: \"http://jabber.org/protocol/xhtml-im\",\n            XHTML: \"http://www.w3.org/1999/xhtml\"\n          },\n          XHTML: {\n            tags: [\"a\", \"blockquote\", \"br\", \"cite\", \"em\", \"img\", \"li\", \"ol\", \"p\", \"span\", \"strong\", \"ul\", \"body\"],\n            attributes: {\n              a: [\"href\"],\n              blockquote: [\"style\"],\n              br: [],\n              cite: [\"style\"],\n              em: [],\n              img: [\"src\", \"alt\", \"style\", \"height\", \"width\"],\n              li: [\"style\"],\n              ol: [\"style\"],\n              p: [\"style\"],\n              span: [\"style\"],\n              strong: [],\n              ul: [\"style\"],\n              body: []\n            },\n            css: [\"background-color\", \"color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"margin-left\", \"margin-right\", \"text-align\", \"text-decoration\"],\n            validTag: function validTag(e) {\n              for (var t = 0; t < r.XHTML.tags.length; t++) {\n                if (e === r.XHTML.tags[t]) return !0;\n              }\n\n              return !1;\n            },\n            validAttribute: function validAttribute(e, t) {\n              if (void 0 !== r.XHTML.attributes[e] && r.XHTML.attributes[e].length > 0) for (var n = 0; n < r.XHTML.attributes[e].length; n++) {\n                if (t === r.XHTML.attributes[e][n]) return !0;\n              }\n              return !1;\n            },\n            validCSS: function validCSS(e) {\n              for (var t = 0; t < r.XHTML.css.length; t++) {\n                if (e === r.XHTML.css[t]) return !0;\n              }\n\n              return !1;\n            }\n          },\n          Status: {\n            ERROR: 0,\n            CONNECTING: 1,\n            CONNFAIL: 2,\n            AUTHENTICATING: 3,\n            AUTHFAIL: 4,\n            CONNECTED: 5,\n            DISCONNECTED: 6,\n            DISCONNECTING: 7,\n            ATTACHED: 8,\n            REDIRECT: 9,\n            CONNTIMEOUT: 10\n          },\n          ErrorCondition: {\n            BAD_FORMAT: \"bad-format\",\n            CONFLICT: \"conflict\",\n            MISSING_JID_NODE: \"x-strophe-bad-non-anon-jid\",\n            NO_AUTH_MECH: \"no-auth-mech\",\n            UNKNOWN_REASON: \"unknown\"\n          },\n          LogLevel: {\n            DEBUG: 0,\n            INFO: 1,\n            WARN: 2,\n            ERROR: 3,\n            FATAL: 4\n          },\n          ElementType: {\n            NORMAL: 1,\n            TEXT: 3,\n            CDATA: 4,\n            FRAGMENT: 11\n          },\n          TIMEOUT: 1.1,\n          SECONDARY_TIMEOUT: .1,\n          addNamespace: function addNamespace(e, t) {\n            r.NS[e] = t;\n          },\n          forEachChild: function forEachChild(e, t, n) {\n            var i, o;\n\n            for (i = 0; i < e.childNodes.length; i++) {\n              (o = e.childNodes[i]).nodeType !== r.ElementType.NORMAL || t && !this.isTagEqual(o, t) || n(o);\n            }\n          },\n          isTagEqual: function isTagEqual(e, t) {\n            return e.tagName === t;\n          },\n          _xmlGenerator: null,\n          _makeGenerator: function _makeGenerator() {\n            var e;\n            return void 0 === document.implementation.createDocument || document.implementation.createDocument && document.documentMode && document.documentMode < 10 ? (e = this._getIEXmlDom()).appendChild(e.createElement(\"strophe\")) : e = document.implementation.createDocument(\"jabber:client\", \"strophe\", null), e;\n          },\n          xmlGenerator: function xmlGenerator() {\n            return r._xmlGenerator || (r._xmlGenerator = r._makeGenerator()), r._xmlGenerator;\n          },\n          _getIEXmlDom: function _getIEXmlDom() {\n            for (var e = null, t = [\"Msxml2.DOMDocument.6.0\", \"Msxml2.DOMDocument.5.0\", \"Msxml2.DOMDocument.4.0\", \"MSXML2.DOMDocument.3.0\", \"MSXML2.DOMDocument\", \"MSXML.DOMDocument\", \"Microsoft.XMLDOM\"], n = 0; n < t.length && null === e; n++) {\n              try {\n                e = new ActiveXObject(t[n]);\n              } catch (t) {\n                e = null;\n              }\n            }\n\n            return e;\n          },\n          xmlElement: function xmlElement(e) {\n            if (!e) return null;\n            var t,\n                n,\n                i,\n                o = r.xmlGenerator().createElement(e);\n\n            for (t = 1; t < arguments.length; t++) {\n              var a = arguments[t];\n              if (a) if (\"string\" == typeof a || \"number\" == typeof a) o.appendChild(r.xmlTextNode(a));else if (\"object\" == typeof a && \"function\" == typeof a.sort) for (n = 0; n < a.length; n++) {\n                var s = a[n];\n                \"object\" == typeof s && \"function\" == typeof s.sort && void 0 !== s[1] && null !== s[1] && o.setAttribute(s[0], s[1]);\n              } else if (\"object\" == typeof a) for (i in a) {\n                a.hasOwnProperty(i) && void 0 !== a[i] && null !== a[i] && o.setAttribute(i, a[i]);\n              }\n            }\n\n            return o;\n          },\n          xmlescape: function xmlescape(e) {\n            return e = (e = (e = (e = (e = e.replace(/\\&/g, \"&amp;\")).replace(/</g, \"&lt;\")).replace(/>/g, \"&gt;\")).replace(/'/g, \"&apos;\")).replace(/\"/g, \"&quot;\");\n          },\n          xmlunescape: function xmlunescape(e) {\n            return e = (e = (e = (e = (e = e.replace(/\\&amp;/g, \"&\")).replace(/&lt;/g, \"<\")).replace(/&gt;/g, \">\")).replace(/&apos;/g, \"'\")).replace(/&quot;/g, '\"');\n          },\n          xmlTextNode: function xmlTextNode(e) {\n            return r.xmlGenerator().createTextNode(e);\n          },\n          xmlHtmlNode: function xmlHtmlNode(e) {\n            var t;\n            return DOMParser ? t = new DOMParser().parseFromString(e, \"text/xml\") : ((t = new ActiveXObject(\"Microsoft.XMLDOM\")).async = \"false\", t.loadXML(e)), t;\n          },\n          getText: function getText(e) {\n            if (!e) return null;\n            var t = \"\";\n            0 === e.childNodes.length && e.nodeType === r.ElementType.TEXT && (t += e.nodeValue);\n\n            for (var n = 0; n < e.childNodes.length; n++) {\n              e.childNodes[n].nodeType === r.ElementType.TEXT && (t += e.childNodes[n].nodeValue);\n            }\n\n            return r.xmlescape(t);\n          },\n          copyElement: function copyElement(e) {\n            var t, n;\n\n            if (e.nodeType === r.ElementType.NORMAL) {\n              for (n = r.xmlElement(e.tagName), t = 0; t < e.attributes.length; t++) {\n                n.setAttribute(e.attributes[t].nodeName, e.attributes[t].value);\n              }\n\n              for (t = 0; t < e.childNodes.length; t++) {\n                n.appendChild(r.copyElement(e.childNodes[t]));\n              }\n            } else e.nodeType === r.ElementType.TEXT && (n = r.xmlGenerator().createTextNode(e.nodeValue));\n\n            return n;\n          },\n          createHtml: function createHtml(e) {\n            var t, n, i, o, a, s, c, u, d, l, p;\n            if (e.nodeType === r.ElementType.NORMAL) {\n              if (o = e.nodeName.toLowerCase(), r.XHTML.validTag(o)) try {\n                for (n = r.xmlElement(o), t = 0; t < r.XHTML.attributes[o].length; t++) {\n                  if (a = r.XHTML.attributes[o][t], null != (s = e.getAttribute(a)) && \"\" !== s && !1 !== s && 0 !== s) if (\"style\" === a && \"object\" == typeof s && void 0 !== s.cssText && (s = s.cssText), \"style\" === a) {\n                    for (c = [], u = s.split(\";\"), i = 0; i < u.length; i++) {\n                      l = (d = u[i].split(\":\"))[0].replace(/^\\s*/, \"\").replace(/\\s*$/, \"\").toLowerCase(), r.XHTML.validCSS(l) && (p = d[1].replace(/^\\s*/, \"\").replace(/\\s*$/, \"\"), c.push(l + \": \" + p));\n                    }\n\n                    c.length > 0 && (s = c.join(\"; \"), n.setAttribute(a, s));\n                  } else n.setAttribute(a, s);\n                }\n\n                for (t = 0; t < e.childNodes.length; t++) {\n                  n.appendChild(r.createHtml(e.childNodes[t]));\n                }\n              } catch (e) {\n                n = r.xmlTextNode(\"\");\n              } else for (n = r.xmlGenerator().createDocumentFragment(), t = 0; t < e.childNodes.length; t++) {\n                n.appendChild(r.createHtml(e.childNodes[t]));\n              }\n            } else if (e.nodeType === r.ElementType.FRAGMENT) for (n = r.xmlGenerator().createDocumentFragment(), t = 0; t < e.childNodes.length; t++) {\n              n.appendChild(r.createHtml(e.childNodes[t]));\n            } else e.nodeType === r.ElementType.TEXT && (n = r.xmlTextNode(e.nodeValue));\n            return n;\n          },\n          escapeNode: function escapeNode(e) {\n            return \"string\" != typeof e ? e : e.replace(/^\\s+|\\s+$/g, \"\").replace(/\\\\/g, \"\\\\5c\").replace(/ /g, \"\\\\20\").replace(/\\\"/g, \"\\\\22\").replace(/\\&/g, \"\\\\26\").replace(/\\'/g, \"\\\\27\").replace(/\\//g, \"\\\\2f\").replace(/:/g, \"\\\\3a\").replace(/</g, \"\\\\3c\").replace(/>/g, \"\\\\3e\").replace(/@/g, \"\\\\40\");\n          },\n          unescapeNode: function unescapeNode(e) {\n            return \"string\" != typeof e ? e : e.replace(/\\\\20/g, \" \").replace(/\\\\22/g, '\"').replace(/\\\\26/g, \"&\").replace(/\\\\27/g, \"'\").replace(/\\\\2f/g, \"/\").replace(/\\\\3a/g, \":\").replace(/\\\\3c/g, \"<\").replace(/\\\\3e/g, \">\").replace(/\\\\40/g, \"@\").replace(/\\\\5c/g, \"\\\\\");\n          },\n          getNodeFromJid: function getNodeFromJid(e) {\n            return e.indexOf(\"@\") < 0 ? null : e.split(\"@\")[0];\n          },\n          getDomainFromJid: function getDomainFromJid(e) {\n            var t = r.getBareJidFromJid(e);\n            if (t.indexOf(\"@\") < 0) return t;\n            var n = t.split(\"@\");\n            return n.splice(0, 1), n.join(\"@\");\n          },\n          getResourceFromJid: function getResourceFromJid(e) {\n            var t = e.split(\"/\");\n            return t.length < 2 ? null : (t.splice(0, 1), t.join(\"/\"));\n          },\n          getBareJidFromJid: function getBareJidFromJid(e) {\n            return e ? e.split(\"/\")[0] : null;\n          },\n          _handleError: function _handleError(e) {\n            void 0 !== e.stack && r.fatal(e.stack), e.sourceURL ? r.fatal(\"error: \" + this.handler + \" \" + e.sourceURL + \":\" + e.line + \" - \" + e.name + \": \" + e.message) : e.fileName ? r.fatal(\"error: \" + this.handler + \" \" + e.fileName + \":\" + e.lineNumber + \" - \" + e.name + \": \" + e.message) : r.fatal(\"error: \" + e.message);\n          },\n          log: function log(e, t) {\n            e === this.LogLevel.FATAL && \"object\" == typeof window.console && \"function\" == typeof window.console.error && window.console.error(t);\n          },\n          debug: function debug(e) {\n            this.log(this.LogLevel.DEBUG, e);\n          },\n          info: function info(e) {\n            this.log(this.LogLevel.INFO, e);\n          },\n          warn: function warn(e) {\n            this.log(this.LogLevel.WARN, e);\n          },\n          error: function error(e) {\n            this.log(this.LogLevel.ERROR, e);\n          },\n          fatal: function fatal(e) {\n            this.log(this.LogLevel.FATAL, e);\n          },\n          serialize: function serialize(e) {\n            var t;\n            if (!e) return null;\n            \"function\" == typeof e.tree && (e = e.tree());\n            var n,\n                i,\n                o = e.nodeName;\n\n            for (e.getAttribute(\"_realname\") && (o = e.getAttribute(\"_realname\")), t = \"<\" + o, n = 0; n < e.attributes.length; n++) {\n              \"_realname\" !== e.attributes[n].nodeName && (t += \" \" + e.attributes[n].nodeName + \"='\" + r.xmlescape(e.attributes[n].value) + \"'\");\n            }\n\n            if (e.childNodes.length > 0) {\n              for (t += \">\", n = 0; n < e.childNodes.length; n++) {\n                switch ((i = e.childNodes[n]).nodeType) {\n                  case r.ElementType.NORMAL:\n                    t += r.serialize(i);\n                    break;\n\n                  case r.ElementType.TEXT:\n                    t += r.xmlescape(i.nodeValue);\n                    break;\n\n                  case r.ElementType.CDATA:\n                    t += \"<![CDATA[\" + i.nodeValue + \"]]>\";\n                }\n              }\n\n              t += \"</\" + o + \">\";\n            } else t += \"/>\";\n\n            return t;\n          },\n          _requestId: 0,\n          _connectionPlugins: {},\n          addConnectionPlugin: function addConnectionPlugin(e, t) {\n            r._connectionPlugins[e] = t;\n          }\n        }).Builder = function (e, t) {\n          \"presence\" !== e && \"message\" !== e && \"iq\" !== e || (t && !t.xmlns ? t.xmlns = r.NS.CLIENT : t || (t = {\n            xmlns: r.NS.CLIENT\n          })), this.nodeTree = r.xmlElement(e, t), this.node = this.nodeTree;\n        }, r.Builder.prototype = {\n          tree: function tree() {\n            return this.nodeTree;\n          },\n          toString: function toString() {\n            return r.serialize(this.nodeTree);\n          },\n          up: function up() {\n            return this.node = this.node.parentNode, this;\n          },\n          root: function root() {\n            return this.node = this.nodeTree, this;\n          },\n          attrs: function attrs(e) {\n            for (var t in e) {\n              e.hasOwnProperty(t) && (void 0 === e[t] ? this.node.removeAttribute(t) : this.node.setAttribute(t, e[t]));\n            }\n\n            return this;\n          },\n          c: function c(e, t, n) {\n            var i = r.xmlElement(e, t, n);\n            return this.node.appendChild(i), \"string\" != typeof n && \"number\" != typeof n && (this.node = i), this;\n          },\n          cnode: function cnode(e) {\n            var t,\n                n = r.xmlGenerator();\n\n            try {\n              t = void 0 !== n.importNode;\n            } catch (e) {\n              t = !1;\n            }\n\n            var i = t ? n.importNode(e, !0) : r.copyElement(e);\n            return this.node.appendChild(i), this.node = i, this;\n          },\n          t: function t(e) {\n            var t = r.xmlTextNode(e);\n            return this.node.appendChild(t), this;\n          },\n          h: function h(e) {\n            var t = document.createElement(\"body\");\n            t.innerHTML = e;\n\n            for (var n = r.createHtml(t); n.childNodes.length > 0;) {\n              this.node.appendChild(n.childNodes[0]);\n            }\n\n            return this;\n          }\n        }, r.Handler = function (e, t, n, i, o, a, s) {\n          this.handler = e, this.ns = t, this.name = n, this.type = i, this.id = o, this.options = s || {\n            matchBareFromJid: !1,\n            ignoreNamespaceFragment: !1\n          }, this.options.matchBare && (r.warn('The \"matchBare\" option is deprecated, use \"matchBareFromJid\" instead.'), this.options.matchBareFromJid = this.options.matchBare, delete this.options.matchBare), this.options.matchBareFromJid ? this.from = a ? r.getBareJidFromJid(a) : null : this.from = a, this.user = !0;\n        }, r.Handler.prototype = {\n          getNamespace: function getNamespace(e) {\n            var t = e.getAttribute(\"xmlns\");\n            return t && this.options.ignoreNamespaceFragment && (t = t.split(\"#\")[0]), t;\n          },\n          namespaceMatch: function namespaceMatch(e) {\n            var t = !1;\n            if (!this.ns) return !0;\n            var n = this;\n            return r.forEachChild(e, null, function (e) {\n              n.getNamespace(e) === n.ns && (t = !0);\n            }), t = t || this.getNamespace(e) === this.ns;\n          },\n          isMatch: function isMatch(e) {\n            var t = e.getAttribute(\"from\");\n            this.options.matchBareFromJid && (t = r.getBareJidFromJid(t));\n            var n = e.getAttribute(\"type\");\n            return !(!this.namespaceMatch(e) || this.name && !r.isTagEqual(e, this.name) || this.type && (Array.isArray(this.type) ? -1 === this.type.indexOf(n) : n !== this.type) || this.id && e.getAttribute(\"id\") !== this.id || this.from && t !== this.from);\n          },\n          run: function run(e) {\n            var t = null;\n\n            try {\n              t = this.handler(e);\n            } catch (e) {\n              throw r._handleError(e), e;\n            }\n\n            return t;\n          },\n          toString: function toString() {\n            return \"{Handler: \" + this.handler + \"(\" + this.name + \",\" + this.id + \",\" + this.ns + \")}\";\n          }\n        }, r.TimedHandler = function (e, t) {\n          this.period = e, this.handler = t, this.lastCalled = new Date().getTime(), this.user = !0;\n        }, r.TimedHandler.prototype = {\n          run: function run() {\n            return this.lastCalled = new Date().getTime(), this.handler();\n          },\n          reset: function reset() {\n            this.lastCalled = new Date().getTime();\n          },\n          toString: function toString() {\n            return \"{TimedHandler: \" + this.handler + \"(\" + this.period + \")}\";\n          }\n        }, r.Connection = function (e, t) {\n          this.service = e, this.options = t || {};\n          var i = this.options.protocol || \"\";\n\n          for (var o in 0 === e.indexOf(\"ws:\") || 0 === e.indexOf(\"wss:\") || 0 === i.indexOf(\"ws\") ? this._proto = new r.Websocket(this) : this._proto = new r.Bosh(this), this.jid = \"\", this.domain = null, this.features = null, this._sasl_data = {}, this.do_session = !1, this.do_bind = !1, this.timedHandlers = [], this.handlers = [], this.removeTimeds = [], this.removeHandlers = [], this.addTimeds = [], this.addHandlers = [], this.protocolErrorHandlers = {\n            HTTP: {},\n            websocket: {}\n          }, this._idleTimeout = null, this._disconnectTimeout = null, this.authenticated = !1, this.connected = !1, this.disconnecting = !1, this.do_authentication = !0, this.paused = !1, this.restored = !1, this._data = [], this._uniqueId = 0, this._sasl_success_handler = null, this._sasl_failure_handler = null, this._sasl_challenge_handler = null, this.maxRetries = 5, this._idleTimeout = setTimeout(function () {\n            this._onIdle();\n          }.bind(this), 100), n.addCookies(this.options.cookies), this.registerSASLMechanisms(this.options.mechanisms), r._connectionPlugins) {\n            if (r._connectionPlugins.hasOwnProperty(o)) {\n              var a = r._connectionPlugins[o],\n                  s = function s() {};\n\n              s.prototype = a, this[o] = new s(), this[o].init(this);\n            }\n          }\n        }, r.Connection.prototype = {\n          reset: function reset() {\n            this._proto._reset(), this.do_session = !1, this.do_bind = !1, this.timedHandlers = [], this.handlers = [], this.removeTimeds = [], this.removeHandlers = [], this.addTimeds = [], this.addHandlers = [], this.authenticated = !1, this.connected = !1, this.disconnecting = !1, this.restored = !1, this._data = [], this._requests = [], this._uniqueId = 0;\n          },\n          pause: function pause() {\n            this.paused = !0;\n          },\n          resume: function resume() {\n            this.paused = !1;\n          },\n          getUniqueId: function getUniqueId(e) {\n            var t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n              var t = 16 * Math.random() | 0;\n              return (\"x\" === e ? t : 3 & t | 8).toString(16);\n            });\n            return \"string\" == typeof e || \"number\" == typeof e ? t + \":\" + e : t + \"\";\n          },\n          addProtocolErrorHandler: function addProtocolErrorHandler(e, t, n) {\n            this.protocolErrorHandlers[e][t] = n;\n          },\n          connect: function connect(e, t, n, i, o, a, s) {\n            this.jid = e, this.authzid = r.getBareJidFromJid(this.jid), this.authcid = s || r.getNodeFromJid(this.jid), this.pass = t, this.servtype = \"xmpp\", this.connect_callback = n, this.disconnecting = !1, this.connected = !1, this.authenticated = !1, this.restored = !1, this.domain = r.getDomainFromJid(this.jid), this._changeConnectStatus(r.Status.CONNECTING, null), this._proto._connect(i, o, a);\n          },\n          attach: function attach(e, t, n, i, o, a, s) {\n            if (!(this._proto instanceof r.Bosh)) throw {\n              name: \"StropheSessionError\",\n              message: 'The \"attach\" method can only be used with a BOSH connection.'\n            };\n\n            this._proto._attach(e, t, n, i, o, a, s);\n          },\n          restore: function restore(e, t, n, r, i) {\n            if (!this._sessionCachingSupported()) throw {\n              name: \"StropheSessionError\",\n              message: 'The \"restore\" method can only be used with a BOSH connection.'\n            };\n\n            this._proto._restore(e, t, n, r, i);\n          },\n          _sessionCachingSupported: function _sessionCachingSupported() {\n            if (this._proto instanceof r.Bosh) {\n              if (!JSON) return !1;\n\n              try {\n                sessionStorage.setItem(\"_strophe_\", \"_strophe_\"), sessionStorage.removeItem(\"_strophe_\");\n              } catch (e) {\n                return !1;\n              }\n\n              return !0;\n            }\n\n            return !1;\n          },\n          xmlInput: function xmlInput(e) {},\n          xmlOutput: function xmlOutput(e) {},\n          rawInput: function rawInput(e) {},\n          rawOutput: function rawOutput(e) {},\n          nextValidRid: function nextValidRid(e) {},\n          send: function send(e) {\n            if (null !== e) {\n              if (\"function\" == typeof e.sort) for (var t = 0; t < e.length; t++) {\n                this._queueData(e[t]);\n              } else \"function\" == typeof e.tree ? this._queueData(e.tree()) : this._queueData(e);\n\n              this._proto._send();\n            }\n          },\n          flush: function flush() {\n            clearTimeout(this._idleTimeout), this._onIdle();\n          },\n          sendPresence: function sendPresence(e, t, n, r) {\n            var i = null,\n                o = this;\n            \"function\" == typeof e.tree && (e = e.tree());\n            var a = e.getAttribute(\"id\");\n\n            if (a || (a = this.getUniqueId(\"sendPresence\"), e.setAttribute(\"id\", a)), \"function\" == typeof t || \"function\" == typeof n) {\n              var s = this.addHandler(function (e) {\n                i && o.deleteTimedHandler(i), \"error\" === e.getAttribute(\"type\") ? n && n(e) : t && t(e);\n              }, null, \"presence\", null, a);\n              r && (i = this.addTimedHandler(r, function () {\n                return o.deleteHandler(s), n && n(null), !1;\n              }));\n            }\n\n            return this.send(e), a;\n          },\n          sendIQ: function sendIQ(e, t, n, r) {\n            var i = null,\n                o = this;\n            \"function\" == typeof e.tree && (e = e.tree());\n            var a = e.getAttribute(\"id\");\n\n            if (a || (a = this.getUniqueId(\"sendIQ\"), e.setAttribute(\"id\", a)), \"function\" == typeof t || \"function\" == typeof n) {\n              var s = this.addHandler(function (e) {\n                i && o.deleteTimedHandler(i);\n                var r = e.getAttribute(\"type\");\n                if (\"result\" === r) t && t(e);else {\n                  if (\"error\" !== r) throw {\n                    name: \"StropheError\",\n                    message: \"Got bad IQ type of \" + r\n                  };\n                  n && n(e);\n                }\n              }, null, \"iq\", [\"error\", \"result\"], a);\n              r && (i = this.addTimedHandler(r, function () {\n                return o.deleteHandler(s), n && n(null), !1;\n              }));\n            }\n\n            return this.send(e), a;\n          },\n          _queueData: function _queueData(e) {\n            if (null === e || !e.tagName || !e.childNodes) throw {\n              name: \"StropheError\",\n              message: \"Cannot queue non-DOMElement.\"\n            };\n\n            this._data.push(e);\n          },\n          _sendRestart: function _sendRestart() {\n            this._data.push(\"restart\"), this._proto._sendRestart(), this._idleTimeout = setTimeout(function () {\n              this._onIdle();\n            }.bind(this), 100);\n          },\n          addTimedHandler: function addTimedHandler(e, t) {\n            var n = new r.TimedHandler(e, t);\n            return this.addTimeds.push(n), n;\n          },\n          deleteTimedHandler: function deleteTimedHandler(e) {\n            this.removeTimeds.push(e);\n          },\n          addHandler: function addHandler(e, t, n, i, o, a, s) {\n            var c = new r.Handler(e, t, n, i, o, a, s);\n            return this.addHandlers.push(c), c;\n          },\n          deleteHandler: function deleteHandler(e) {\n            this.removeHandlers.push(e);\n            var t = this.addHandlers.indexOf(e);\n            t >= 0 && this.addHandlers.splice(t, 1);\n          },\n          registerSASLMechanisms: function registerSASLMechanisms(e) {\n            this.mechanisms = {}, (e = e || [r.SASLAnonymous, r.SASLExternal, r.SASLMD5, r.SASLOAuthBearer, r.SASLXOAuth2, r.SASLPlain, r.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this));\n          },\n          registerSASLMechanism: function registerSASLMechanism(e) {\n            this.mechanisms[e.prototype.name] = e;\n          },\n          disconnect: function disconnect(e) {\n            if (this._changeConnectStatus(r.Status.DISCONNECTING, e), r.info(\"Disconnect was called because: \" + e), this.connected) {\n              var t = !1;\n              this.disconnecting = !0, this.authenticated && (t = a({\n                xmlns: r.NS.CLIENT,\n                type: \"unavailable\"\n              })), this._disconnectTimeout = this._addSysTimedHandler(3e3, this._onDisconnectTimeout.bind(this)), this._proto._disconnect(t);\n            } else r.info(\"Disconnect was called before Strophe connected to the server\"), this._proto._abortAllRequests(), this._doDisconnect();\n          },\n          _changeConnectStatus: function _changeConnectStatus(e, t, n) {\n            for (var i in r._connectionPlugins) {\n              if (r._connectionPlugins.hasOwnProperty(i)) {\n                var o = this[i];\n                if (o.statusChanged) try {\n                  o.statusChanged(e, t);\n                } catch (e) {\n                  r.error(i + \" plugin caused an exception changing status: \" + e);\n                }\n              }\n            }\n\n            if (this.connect_callback) try {\n              this.connect_callback(e, t, n);\n            } catch (e) {\n              r._handleError(e), r.error(\"User connection callback caused an exception: \" + e);\n            }\n          },\n          _doDisconnect: function _doDisconnect(e) {\n            \"number\" == typeof this._idleTimeout && clearTimeout(this._idleTimeout), null !== this._disconnectTimeout && (this.deleteTimedHandler(this._disconnectTimeout), this._disconnectTimeout = null), r.info(\"_doDisconnect was called\"), this._proto._doDisconnect(), this.authenticated = !1, this.disconnecting = !1, this.restored = !1, this.handlers = [], this.timedHandlers = [], this.removeTimeds = [], this.removeHandlers = [], this.addTimeds = [], this.addHandlers = [], this._changeConnectStatus(r.Status.DISCONNECTED, e), this.connected = !1;\n          },\n          _dataRecv: function _dataRecv(e, t) {\n            r.info(\"_dataRecv called\");\n\n            var n = this._proto._reqToData(e);\n\n            if (null !== n) {\n              var i, o;\n\n              for (this.xmlInput !== r.Connection.prototype.xmlInput && (n.nodeName === this._proto.strip && n.childNodes.length ? this.xmlInput(n.childNodes[0]) : this.xmlInput(n)), this.rawInput !== r.Connection.prototype.rawInput && (t ? this.rawInput(t) : this.rawInput(r.serialize(n))); this.removeHandlers.length > 0;) {\n                o = this.removeHandlers.pop(), (i = this.handlers.indexOf(o)) >= 0 && this.handlers.splice(i, 1);\n              }\n\n              for (; this.addHandlers.length > 0;) {\n                this.handlers.push(this.addHandlers.pop());\n              }\n\n              if (this.disconnecting && this._proto._emptyQueue()) this._doDisconnect();else {\n                var a,\n                    s,\n                    c = n.getAttribute(\"type\");\n\n                if (null !== c && \"terminate\" === c) {\n                  if (this.disconnecting) return;\n                  return a = n.getAttribute(\"condition\"), s = n.getElementsByTagName(\"conflict\"), null !== a ? (\"remote-stream-error\" === a && s.length > 0 && (a = \"conflict\"), this._changeConnectStatus(r.Status.CONNFAIL, a)) : this._changeConnectStatus(r.Status.CONNFAIL, r.ErrorCondition.UNKOWN_REASON), void this._doDisconnect(a);\n                }\n\n                var u = this;\n                r.forEachChild(n, null, function (e) {\n                  var t, n;\n\n                  for (n = u.handlers, u.handlers = [], t = 0; t < n.length; t++) {\n                    var i = n[t];\n\n                    try {\n                      !i.isMatch(e) || !u.authenticated && i.user ? u.handlers.push(i) : i.run(e) && u.handlers.push(i);\n                    } catch (e) {\n                      r.warn(\"Removing Strophe handlers due to uncaught exception: \" + e.message);\n                    }\n                  }\n                });\n              }\n            }\n          },\n          mechanisms: {},\n          _connect_cb: function _connect_cb(e, t, n) {\n            var i;\n            r.info(\"_connect_cb was called\"), this.connected = !0;\n\n            try {\n              i = this._proto._reqToData(e);\n            } catch (e) {\n              if (\"badformat\" !== e) throw e;\n              this._changeConnectStatus(r.Status.CONNFAIL, r.ErrorCondition.BAD_FORMAT), this._doDisconnect(r.ErrorCondition.BAD_FORMAT);\n            }\n\n            if (i && (this.xmlInput !== r.Connection.prototype.xmlInput && (i.nodeName === this._proto.strip && i.childNodes.length ? this.xmlInput(i.childNodes[0]) : this.xmlInput(i)), this.rawInput !== r.Connection.prototype.rawInput && (n ? this.rawInput(n) : this.rawInput(r.serialize(i))), this._proto._connect_cb(i) !== r.Status.CONNFAIL)) if (i.getElementsByTagNameNS ? i.getElementsByTagNameNS(r.NS.STREAM, \"features\").length > 0 : i.getElementsByTagName(\"stream:features\").length > 0 || i.getElementsByTagName(\"features\").length > 0) {\n              var o,\n                  a,\n                  s = [],\n                  c = i.getElementsByTagName(\"mechanism\");\n              if (c.length > 0) for (o = 0; o < c.length; o++) {\n                a = r.getText(c[o]), this.mechanisms[a] && s.push(this.mechanisms[a]);\n              }\n              0 !== s.length || 0 !== i.getElementsByTagName(\"auth\").length ? !1 !== this.do_authentication && this.authenticate(s) : this._proto._no_auth_received(t);\n            } else this._proto._no_auth_received(t);\n          },\n          sortMechanismsByPriority: function sortMechanismsByPriority(e) {\n            var t, n, r, i;\n\n            for (t = 0; t < e.length - 1; ++t) {\n              for (r = t, n = t + 1; n < e.length; ++n) {\n                e[n].prototype.priority > e[r].prototype.priority && (r = n);\n              }\n\n              r !== t && (i = e[t], e[t] = e[r], e[r] = i);\n            }\n\n            return e;\n          },\n          _attemptSASLAuth: function _attemptSASLAuth(e) {\n            e = this.sortMechanismsByPriority(e || []);\n            var t = 0,\n                n = !1;\n\n            for (t = 0; t < e.length; ++t) {\n              if (e[t].prototype.test(this)) {\n                this._sasl_success_handler = this._addSysHandler(this._sasl_success_cb.bind(this), null, \"success\", null, null), this._sasl_failure_handler = this._addSysHandler(this._sasl_failure_cb.bind(this), null, \"failure\", null, null), this._sasl_challenge_handler = this._addSysHandler(this._sasl_challenge_cb.bind(this), null, \"challenge\", null, null), this._sasl_mechanism = new e[t](), this._sasl_mechanism.onStart(this);\n                var o = i(\"auth\", {\n                  xmlns: r.NS.SASL,\n                  mechanism: this._sasl_mechanism.name\n                });\n\n                if (this._sasl_mechanism.isClientFirst) {\n                  var a = this._sasl_mechanism.onChallenge(this, null);\n\n                  o.t(btoa(a));\n                }\n\n                this.send(o.tree()), n = !0;\n                break;\n              }\n            }\n\n            return n;\n          },\n          _attemptLegacyAuth: function _attemptLegacyAuth() {\n            null === r.getNodeFromJid(this.jid) ? (this._changeConnectStatus(r.Status.CONNFAIL, r.ErrorCondition.MISSING_JID_NODE), this.disconnect(r.ErrorCondition.MISSING_JID_NODE)) : (this._changeConnectStatus(r.Status.AUTHENTICATING, null), this._addSysHandler(this._auth1_cb.bind(this), null, null, null, \"_auth_1\"), this.send(o({\n              type: \"get\",\n              to: this.domain,\n              id: \"_auth_1\"\n            }).c(\"query\", {\n              xmlns: r.NS.AUTH\n            }).c(\"username\", {}).t(r.getNodeFromJid(this.jid)).tree()));\n          },\n          authenticate: function authenticate(e) {\n            this._attemptSASLAuth(e) || this._attemptLegacyAuth();\n          },\n          _sasl_challenge_cb: function _sasl_challenge_cb(e) {\n            var t = atob(r.getText(e)),\n                n = this._sasl_mechanism.onChallenge(this, t),\n                o = i(\"response\", {\n              xmlns: r.NS.SASL\n            });\n\n            return \"\" !== n && o.t(btoa(n)), this.send(o.tree()), !0;\n          },\n          _auth1_cb: function _auth1_cb(e) {\n            var t = o({\n              type: \"set\",\n              id: \"_auth_2\"\n            }).c(\"query\", {\n              xmlns: r.NS.AUTH\n            }).c(\"username\", {}).t(r.getNodeFromJid(this.jid)).up().c(\"password\").t(this.pass);\n            return r.getResourceFromJid(this.jid) || (this.jid = r.getBareJidFromJid(this.jid) + \"/strophe\"), t.up().c(\"resource\", {}).t(r.getResourceFromJid(this.jid)), this._addSysHandler(this._auth2_cb.bind(this), null, null, null, \"_auth_2\"), this.send(t.tree()), !1;\n          },\n          _sasl_success_cb: function _sasl_success_cb(e) {\n            if (this._sasl_data[\"server-signature\"]) {\n              var t,\n                  n = atob(r.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);\n              if (\"v\" === n[1] && (t = n[2]), t !== this._sasl_data[\"server-signature\"]) return this.deleteHandler(this._sasl_failure_handler), this._sasl_failure_handler = null, this._sasl_challenge_handler && (this.deleteHandler(this._sasl_challenge_handler), this._sasl_challenge_handler = null), this._sasl_data = {}, this._sasl_failure_cb(null);\n            }\n\n            r.info(\"SASL authentication succeeded.\"), this._sasl_mechanism && this._sasl_mechanism.onSuccess(), this.deleteHandler(this._sasl_failure_handler), this._sasl_failure_handler = null, this._sasl_challenge_handler && (this.deleteHandler(this._sasl_challenge_handler), this._sasl_challenge_handler = null);\n\n            var i = [],\n                o = function o(e, t) {\n              for (; e.length;) {\n                this.deleteHandler(e.pop());\n              }\n\n              return this._sasl_auth1_cb.bind(this)(t), !1;\n            };\n\n            return i.push(this._addSysHandler(function (e) {\n              o.bind(this)(i, e);\n            }.bind(this), null, \"stream:features\", null, null)), i.push(this._addSysHandler(function (e) {\n              o.bind(this)(i, e);\n            }.bind(this), r.NS.STREAM, \"features\", null, null)), this._sendRestart(), !1;\n          },\n          _sasl_auth1_cb: function _sasl_auth1_cb(e) {\n            var t, n;\n\n            for (this.features = e, t = 0; t < e.childNodes.length; t++) {\n              \"bind\" === (n = e.childNodes[t]).nodeName && (this.do_bind = !0), \"session\" === n.nodeName && (this.do_session = !0);\n            }\n\n            if (!this.do_bind) return this._changeConnectStatus(r.Status.AUTHFAIL, null), !1;\n\n            this._addSysHandler(this._sasl_bind_cb.bind(this), null, null, null, \"_bind_auth_2\");\n\n            var i = r.getResourceFromJid(this.jid);\n            return i ? this.send(o({\n              type: \"set\",\n              id: \"_bind_auth_2\"\n            }).c(\"bind\", {\n              xmlns: r.NS.BIND\n            }).c(\"resource\", {}).t(i).tree()) : this.send(o({\n              type: \"set\",\n              id: \"_bind_auth_2\"\n            }).c(\"bind\", {\n              xmlns: r.NS.BIND\n            }).tree()), !1;\n          },\n          _sasl_bind_cb: function _sasl_bind_cb(e) {\n            var t;\n            if (\"error\" === e.getAttribute(\"type\")) return r.info(\"SASL binding failed.\"), e.getElementsByTagName(\"conflict\").length > 0 && (t = r.ErrorCondition.CONFLICT), this._changeConnectStatus(r.Status.AUTHFAIL, t, e), !1;\n            var n,\n                i = e.getElementsByTagName(\"bind\");\n            if (!(i.length > 0)) return r.info(\"SASL binding failed.\"), this._changeConnectStatus(r.Status.AUTHFAIL, null, e), !1;\n            (n = i[0].getElementsByTagName(\"jid\")).length > 0 && (this.jid = r.getText(n[0]), this.do_session ? (this._addSysHandler(this._sasl_session_cb.bind(this), null, null, null, \"_session_auth_2\"), this.send(o({\n              type: \"set\",\n              id: \"_session_auth_2\"\n            }).c(\"session\", {\n              xmlns: r.NS.SESSION\n            }).tree())) : (this.authenticated = !0, this._changeConnectStatus(r.Status.CONNECTED, null)));\n          },\n          _sasl_session_cb: function _sasl_session_cb(e) {\n            if (\"result\" === e.getAttribute(\"type\")) this.authenticated = !0, this._changeConnectStatus(r.Status.CONNECTED, null);else if (\"error\" === e.getAttribute(\"type\")) return r.info(\"Session creation failed.\"), this._changeConnectStatus(r.Status.AUTHFAIL, null, e), !1;\n            return !1;\n          },\n          _sasl_failure_cb: function _sasl_failure_cb(e) {\n            return this._sasl_success_handler && (this.deleteHandler(this._sasl_success_handler), this._sasl_success_handler = null), this._sasl_challenge_handler && (this.deleteHandler(this._sasl_challenge_handler), this._sasl_challenge_handler = null), this._sasl_mechanism && this._sasl_mechanism.onFailure(), this._changeConnectStatus(r.Status.AUTHFAIL, null, e), !1;\n          },\n          _auth2_cb: function _auth2_cb(e) {\n            return \"result\" === e.getAttribute(\"type\") ? (this.authenticated = !0, this._changeConnectStatus(r.Status.CONNECTED, null)) : \"error\" === e.getAttribute(\"type\") && (this._changeConnectStatus(r.Status.AUTHFAIL, null, e), this.disconnect(\"authentication failed\")), !1;\n          },\n          _addSysTimedHandler: function _addSysTimedHandler(e, t) {\n            var n = new r.TimedHandler(e, t);\n            return n.user = !1, this.addTimeds.push(n), n;\n          },\n          _addSysHandler: function _addSysHandler(e, t, n, i, o) {\n            var a = new r.Handler(e, t, n, i, o);\n            return a.user = !1, this.addHandlers.push(a), a;\n          },\n          _onDisconnectTimeout: function _onDisconnectTimeout() {\n            return r.info(\"_onDisconnectTimeout was called\"), this._changeConnectStatus(r.Status.CONNTIMEOUT, null), this._proto._onDisconnectTimeout(), this._doDisconnect(), !1;\n          },\n          _onIdle: function _onIdle() {\n            for (var e, t, n; this.addTimeds.length > 0;) {\n              this.timedHandlers.push(this.addTimeds.pop());\n            }\n\n            for (; this.removeTimeds.length > 0;) {\n              t = this.removeTimeds.pop(), (e = this.timedHandlers.indexOf(t)) >= 0 && this.timedHandlers.splice(e, 1);\n            }\n\n            var r = new Date().getTime();\n\n            for (n = [], e = 0; e < this.timedHandlers.length; e++) {\n              t = this.timedHandlers[e], !this.authenticated && t.user || (t.lastCalled + t.period - r <= 0 ? t.run() && n.push(t) : n.push(t));\n            }\n\n            this.timedHandlers = n, clearTimeout(this._idleTimeout), this._proto._onIdle(), this.connected && (this._idleTimeout = setTimeout(function () {\n              this._onIdle();\n            }.bind(this), 100));\n          }\n        }, r.SASLMechanism = function (e, t, n) {\n          this.name = e, this.isClientFirst = t, this.priority = n;\n        }, r.SASLMechanism.prototype = {\n          test: function test(e) {\n            return !0;\n          },\n          onStart: function onStart(e) {\n            this._connection = e;\n          },\n          onChallenge: function onChallenge(e, t) {\n            throw new Error(\"You should implement challenge handling!\");\n          },\n          onFailure: function onFailure() {\n            this._connection = null;\n          },\n          onSuccess: function onSuccess() {\n            this._connection = null;\n          }\n        }, r.SASLAnonymous = function () {}, r.SASLAnonymous.prototype = new r.SASLMechanism(\"ANONYMOUS\", !1, 20), r.SASLAnonymous.prototype.test = function (e) {\n          return null === e.authcid;\n        }, r.SASLPlain = function () {}, r.SASLPlain.prototype = new r.SASLMechanism(\"PLAIN\", !0, 50), r.SASLPlain.prototype.test = function (e) {\n          return null !== e.authcid;\n        }, r.SASLPlain.prototype.onChallenge = function (e) {\n          var t = e.authzid;\n          return t += \"\\0\", t += e.authcid, t += \"\\0\", t += e.pass, n.utf16to8(t);\n        }, r.SASLSHA1 = function () {}, r.SASLSHA1.prototype = new r.SASLMechanism(\"SCRAM-SHA-1\", !0, 70), r.SASLSHA1.prototype.test = function (e) {\n          return null !== e.authcid;\n        }, r.SASLSHA1.prototype.onChallenge = function (r, i, o) {\n          var a = o || t.hexdigest(1234567890 * Math.random()),\n              s = \"n=\" + n.utf16to8(r.authcid);\n          return s += \",r=\", s += a, r._sasl_data.cnonce = a, r._sasl_data[\"client-first-message-bare\"] = s, s = \"n,,\" + s, this.onChallenge = function (t, r) {\n            for (var i, o, a, s, c, u, d, l, p, f, h, m, v = \"c=biws,\", g = t._sasl_data[\"client-first-message-bare\"] + \",\" + r + \",\", y = t._sasl_data.cnonce, _ = /([a-z]+)=([^,]+)(,|$)/; r.match(_);) {\n              var S = r.match(_);\n\n              switch (r = r.replace(S[0], \"\"), S[1]) {\n                case \"r\":\n                  i = S[2];\n                  break;\n\n                case \"s\":\n                  o = S[2];\n                  break;\n\n                case \"i\":\n                  a = S[2];\n              }\n            }\n\n            if (i.substr(0, y.length) !== y) return t._sasl_data = {}, t._sasl_failure_cb();\n\n            for (g += v += \"r=\" + i, o = atob(o), o += \"\\0\\0\\0\u0001\", p = n.utf16to8(t.pass), s = u = e.core_hmac_sha1(p, o), d = 1; d < a; d++) {\n              for (c = e.core_hmac_sha1(p, e.binb2str(u)), l = 0; l < 5; l++) {\n                s[l] ^= c[l];\n              }\n\n              u = c;\n            }\n\n            for (s = e.binb2str(s), f = e.core_hmac_sha1(s, \"Client Key\"), h = e.str_hmac_sha1(s, \"Server Key\"), m = e.core_hmac_sha1(e.str_sha1(e.binb2str(f)), g), t._sasl_data[\"server-signature\"] = e.b64_hmac_sha1(h, g), l = 0; l < 5; l++) {\n              f[l] ^= m[l];\n            }\n\n            return v += \",p=\" + btoa(e.binb2str(f));\n          }.bind(this), s;\n        }, r.SASLMD5 = function () {}, r.SASLMD5.prototype = new r.SASLMechanism(\"DIGEST-MD5\", !1, 60), r.SASLMD5.prototype.test = function (e) {\n          return null !== e.authcid;\n        }, r.SASLMD5.prototype._quote = function (e) {\n          return '\"' + e.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"') + '\"';\n        }, r.SASLMD5.prototype.onChallenge = function (e, r, i) {\n          for (var o, a = /([a-z]+)=(\"[^\"]+\"|[^,\"]+)(?:,|$)/, s = i || t.hexdigest(\"\" + 1234567890 * Math.random()), c = \"\", u = null, d = \"\"; r.match(a);) {\n            switch (o = r.match(a), r = r.replace(o[0], \"\"), o[2] = o[2].replace(/^\"(.+)\"$/, \"$1\"), o[1]) {\n              case \"realm\":\n                c = o[2];\n                break;\n\n              case \"nonce\":\n                d = o[2];\n                break;\n\n              case \"qop\":\n                o[2];\n                break;\n\n              case \"host\":\n                u = o[2];\n            }\n          }\n\n          var l = e.servtype + \"/\" + e.domain;\n          null !== u && (l = l + \"/\" + u);\n          var p = n.utf16to8(e.authcid + \":\" + c + \":\" + this._connection.pass),\n              f = t.hash(p) + \":\" + d + \":\" + s,\n              h = \"AUTHENTICATE:\" + l,\n              m = \"\";\n          return m += \"charset=utf-8,\", m += \"username=\" + this._quote(n.utf16to8(e.authcid)) + \",\", m += \"realm=\" + this._quote(c) + \",\", m += \"nonce=\" + this._quote(d) + \",\", m += \"nc=00000001,\", m += \"cnonce=\" + this._quote(s) + \",\", m += \"digest-uri=\" + this._quote(l) + \",\", m += \"response=\" + t.hexdigest(t.hexdigest(f) + \":\" + d + \":00000001:\" + s + \":auth:\" + t.hexdigest(h)) + \",\", m += \"qop=auth\", this.onChallenge = function () {\n            return \"\";\n          }, m;\n        }, r.SASLOAuthBearer = function () {}, r.SASLOAuthBearer.prototype = new r.SASLMechanism(\"OAUTHBEARER\", !0, 40), r.SASLOAuthBearer.prototype.test = function (e) {\n          return null !== e.pass;\n        }, r.SASLOAuthBearer.prototype.onChallenge = function (e) {\n          var t = \"n,\";\n          return null !== e.authcid && (t = t + \"a=\" + e.authzid), t += \",\", t += \"\u0001\", t += \"auth=Bearer \", t += e.pass, t += \"\u0001\", t += \"\u0001\", n.utf16to8(t);\n        }, r.SASLExternal = function () {}, r.SASLExternal.prototype = new r.SASLMechanism(\"EXTERNAL\", !0, 10), r.SASLExternal.prototype.onChallenge = function (e) {\n          return e.authcid === e.authzid ? \"\" : e.authzid;\n        }, r.SASLXOAuth2 = function () {}, r.SASLXOAuth2.prototype = new r.SASLMechanism(\"X-OAUTH2\", !0, 30), r.SASLXOAuth2.prototype.test = function (e) {\n          return null !== e.pass;\n        }, r.SASLXOAuth2.prototype.onChallenge = function (e) {\n          var t = \"\\0\";\n          return null !== e.authcid && (t += e.authzid), t += \"\\0\", t += e.pass, n.utf16to8(t);\n        }, {\n          Strophe: r,\n          $build: i,\n          $iq: o,\n          $msg: function $msg(e) {\n            return new r.Builder(\"message\", e);\n          },\n          $pres: a,\n          SHA1: e,\n          MD5: t,\n          b64_hmac_sha1: e.b64_hmac_sha1,\n          b64_sha1: e.b64_sha1,\n          str_hmac_sha1: e.str_hmac_sha1,\n          str_sha1: e.str_sha1\n        };\n      }), function (t, i) {\n        if (\"function\" == typeof r && r.amd) r(\"strophe-bosh\", [\"strophe-core\"], function (e) {\n          return i(e.Strophe, e.$build);\n        });else {\n          var o = n(\"./core\");\n          e.exports = i(o.Strophe, o.$build);\n        }\n      }(0, function (e, t) {\n        return e.Request = function (t, n, r, i) {\n          this.id = ++e._requestId, this.xmlData = t, this.data = e.serialize(t), this.origFunc = n, this.func = n, this.rid = r, this.date = NaN, this.sends = i || 0, this.abort = !1, this.dead = null, this.age = function () {\n            return this.date ? (new Date() - this.date) / 1e3 : 0;\n          }, this.timeDead = function () {\n            return this.dead ? (new Date() - this.dead) / 1e3 : 0;\n          }, this.xhr = this._newXHR();\n        }, e.Request.prototype = {\n          getResponse: function getResponse() {\n            var t = null;\n\n            if (this.xhr.responseXML && this.xhr.responseXML.documentElement) {\n              if (\"parsererror\" === (t = this.xhr.responseXML.documentElement).tagName) throw e.error(\"invalid response received\"), e.error(\"responseText: \" + this.xhr.responseText), e.error(\"responseXML: \" + e.serialize(this.xhr.responseXML)), \"parsererror\";\n            } else if (this.xhr.responseText) {\n              if (e.debug(\"Got responseText but no responseXML; attempting to parse it with DOMParser...\"), !(t = new DOMParser().parseFromString(this.xhr.responseText, \"application/xml\").documentElement)) throw new Error(\"Parsing produced null node\");\n              if (t.querySelector(\"parsererror\")) throw e.error(\"invalid response received: \" + t.querySelector(\"parsererror\").textContent), e.error(\"responseText: \" + this.xhr.responseText), \"badformat\";\n            }\n\n            return t;\n          },\n          _newXHR: function _newXHR() {\n            var e = null;\n            return window.XMLHttpRequest ? (e = new XMLHttpRequest()).overrideMimeType && e.overrideMimeType(\"text/xml; charset=utf-8\") : window.ActiveXObject && (e = new ActiveXObject(\"Microsoft.XMLHTTP\")), e.onreadystatechange = this.func.bind(null, this), e;\n          }\n        }, e.Bosh = function (e) {\n          this._conn = e, this.rid = Math.floor(4294967295 * Math.random()), this.sid = null, this.hold = 1, this.wait = 60, this.window = 5, this.errors = 0, this.inactivity = null, this.lastResponseHeaders = null, this._requests = [];\n        }, e.Bosh.prototype = {\n          strip: null,\n          _buildBody: function _buildBody() {\n            var n = t(\"body\", {\n              rid: this.rid++,\n              xmlns: e.NS.HTTPBIND\n            });\n            return null !== this.sid && n.attrs({\n              sid: this.sid\n            }), this._conn.options.keepalive && this._conn._sessionCachingSupported() && this._cacheSession(), n;\n          },\n          _reset: function _reset() {\n            this.rid = Math.floor(4294967295 * Math.random()), this.sid = null, this.errors = 0, this._conn._sessionCachingSupported() && window.sessionStorage.removeItem(\"strophe-bosh-session\"), this._conn.nextValidRid(this.rid);\n          },\n          _connect: function _connect(t, n, r) {\n            this.wait = t || this.wait, this.hold = n || this.hold, this.errors = 0;\n\n            var i = this._buildBody().attrs({\n              to: this._conn.domain,\n              \"xml:lang\": \"en\",\n              wait: this.wait,\n              hold: this.hold,\n              content: \"text/xml; charset=utf-8\",\n              ver: \"1.6\",\n              \"xmpp:version\": \"1.0\",\n              \"xmlns:xmpp\": e.NS.BOSH\n            });\n\n            r && i.attrs({\n              route: r\n            });\n            var o = this._conn._connect_cb;\n            this._requests.push(new e.Request(i.tree(), this._onRequestStateChange.bind(this, o.bind(this._conn)), i.tree().getAttribute(\"rid\"))), this._throttledRequestHandler();\n          },\n          _attach: function _attach(t, n, r, i, o, a, s) {\n            this._conn.jid = t, this.sid = n, this.rid = r, this._conn.connect_callback = i, this._conn.domain = e.getDomainFromJid(this._conn.jid), this._conn.authenticated = !0, this._conn.connected = !0, this.wait = o || this.wait, this.hold = a || this.hold, this.window = s || this.window, this._conn._changeConnectStatus(e.Status.ATTACHED, null);\n          },\n          _restore: function _restore(t, n, r, i, o) {\n            var a = JSON.parse(window.sessionStorage.getItem(\"strophe-bosh-session\"));\n            if (!(null != a && a.rid && a.sid && a.jid && (null == t || e.getBareJidFromJid(a.jid) === e.getBareJidFromJid(t) || null === e.getNodeFromJid(t) && e.getDomainFromJid(a.jid) === t))) throw {\n              name: \"StropheSessionError\",\n              message: \"_restore: no restoreable session.\"\n            };\n            this._conn.restored = !0, this._attach(a.jid, a.sid, a.rid, n, r, i, o);\n          },\n          _cacheSession: function _cacheSession() {\n            this._conn.authenticated ? this._conn.jid && this.rid && this.sid && window.sessionStorage.setItem(\"strophe-bosh-session\", JSON.stringify({\n              jid: this._conn.jid,\n              rid: this.rid,\n              sid: this.sid\n            })) : window.sessionStorage.removeItem(\"strophe-bosh-session\");\n          },\n          _connect_cb: function _connect_cb(t) {\n            var n,\n                r,\n                i = t.getAttribute(\"type\");\n            if (null !== i && \"terminate\" === i) return n = t.getAttribute(\"condition\"), e.error(\"BOSH-Connection failed: \" + n), r = t.getElementsByTagName(\"conflict\"), null !== n ? (\"remote-stream-error\" === n && r.length > 0 && (n = \"conflict\"), this._conn._changeConnectStatus(e.Status.CONNFAIL, n)) : this._conn._changeConnectStatus(e.Status.CONNFAIL, \"unknown\"), this._conn._doDisconnect(n), e.Status.CONNFAIL;\n            this.sid || (this.sid = t.getAttribute(\"sid\"));\n            var o = t.getAttribute(\"requests\");\n            o && (this.window = parseInt(o, 10));\n            var a = t.getAttribute(\"hold\");\n            a && (this.hold = parseInt(a, 10));\n            var s = t.getAttribute(\"wait\");\n            s && (this.wait = parseInt(s, 10));\n            var c = t.getAttribute(\"inactivity\");\n            c && (this.inactivity = parseInt(c, 10));\n          },\n          _disconnect: function _disconnect(e) {\n            this._sendTerminate(e);\n          },\n          _doDisconnect: function _doDisconnect() {\n            this.sid = null, this.rid = Math.floor(4294967295 * Math.random()), this._conn._sessionCachingSupported() && window.sessionStorage.removeItem(\"strophe-bosh-session\"), this._conn.nextValidRid(this.rid);\n          },\n          _emptyQueue: function _emptyQueue() {\n            return 0 === this._requests.length;\n          },\n          _callProtocolErrorHandlers: function _callProtocolErrorHandlers(e) {\n            var t,\n                n = this._getRequestStatus(e);\n\n            (t = this._conn.protocolErrorHandlers.HTTP[n]) && t.call(this, n);\n          },\n          _hitError: function _hitError(t) {\n            this.errors++, e.warn(\"request errored, status: \" + t + \", number of errors: \" + this.errors), this.errors > 4 && this._conn._onDisconnectTimeout();\n          },\n          _no_auth_received: function _no_auth_received(t) {\n            e.warn(\"Server did not yet offer a supported authentication mechanism. Sending a blank poll request.\"), t = t ? t.bind(this._conn) : this._conn._connect_cb.bind(this._conn);\n\n            var n = this._buildBody();\n\n            this._requests.push(new e.Request(n.tree(), this._onRequestStateChange.bind(this, t), n.tree().getAttribute(\"rid\"))), this._throttledRequestHandler();\n          },\n          _onDisconnectTimeout: function _onDisconnectTimeout() {\n            this._abortAllRequests();\n          },\n          _abortAllRequests: function _abortAllRequests() {\n            for (var e; this._requests.length > 0;) {\n              (e = this._requests.pop()).abort = !0, e.xhr.abort(), e.xhr.onreadystatechange = function () {};\n            }\n          },\n          _onIdle: function _onIdle() {\n            var t = this._conn._data;\n\n            if (this._conn.authenticated && 0 === this._requests.length && 0 === t.length && !this._conn.disconnecting && (e.info(\"no requests during idle cycle, sending blank request\"), t.push(null)), !this._conn.paused) {\n              if (this._requests.length < 2 && t.length > 0) {\n                for (var n = this._buildBody(), r = 0; r < t.length; r++) {\n                  null !== t[r] && (\"restart\" === t[r] ? n.attrs({\n                    to: this._conn.domain,\n                    \"xml:lang\": \"en\",\n                    \"xmpp:restart\": \"true\",\n                    \"xmlns:xmpp\": e.NS.BOSH\n                  }) : n.cnode(t[r]).up());\n                }\n\n                delete this._conn._data, this._conn._data = [], this._requests.push(new e.Request(n.tree(), this._onRequestStateChange.bind(this, this._conn._dataRecv.bind(this._conn)), n.tree().getAttribute(\"rid\"))), this._throttledRequestHandler();\n              }\n\n              if (this._requests.length > 0) {\n                var i = this._requests[0].age();\n\n                null !== this._requests[0].dead && this._requests[0].timeDead() > Math.floor(e.SECONDARY_TIMEOUT * this.wait) && this._throttledRequestHandler(), i > Math.floor(e.TIMEOUT * this.wait) && (e.warn(\"Request \" + this._requests[0].id + \" timed out, over \" + Math.floor(e.TIMEOUT * this.wait) + \" seconds since last activity\"), this._throttledRequestHandler());\n              }\n            }\n          },\n          _getRequestStatus: function _getRequestStatus(t, n) {\n            var r;\n            if (4 === t.xhr.readyState) try {\n              r = t.xhr.status;\n            } catch (t) {\n              e.error(\"Caught an error while retrieving a request's status, reqStatus: \" + r);\n            }\n            return void 0 === r && (r = \"number\" == typeof n ? n : 0), r;\n          },\n          _onRequestStateChange: function _onRequestStateChange(t, n) {\n            if (e.debug(\"request id \" + n.id + \".\" + n.sends + \" state changed to \" + n.xhr.readyState), n.abort) n.abort = !1;else if (4 === n.xhr.readyState) {\n              var r = this._getRequestStatus(n);\n\n              if (this.lastResponseHeaders = n.xhr.getAllResponseHeaders(), this.disconnecting && r >= 400) return this._hitError(r), void this._callProtocolErrorHandlers(n);\n              var i = r > 0 && r < 500,\n                  o = n.sends > this._conn.maxRetries;\n\n              if ((i || o) && (this._removeRequest(n), e.debug(\"request id \" + n.id + \" should now be removed\")), 200 === r) {\n                var a = this._requests[0] === n;\n                (this._requests[1] === n || a && this._requests.length > 0 && this._requests[0].age() > Math.floor(e.SECONDARY_TIMEOUT * this.wait)) && this._restartRequest(0), this._conn.nextValidRid(Number(n.rid) + 1), e.debug(\"request id \" + n.id + \".\" + n.sends + \" got 200\"), t(n), this.errors = 0;\n              } else 0 === r || r >= 400 && r < 600 || r >= 12e3 ? (e.error(\"request id \" + n.id + \".\" + n.sends + \" error \" + r + \" happened\"), this._hitError(r), this._callProtocolErrorHandlers(n), r >= 400 && r < 500 && (this._conn._changeConnectStatus(e.Status.DISCONNECTING, null), this._conn._doDisconnect())) : e.error(\"request id \" + n.id + \".\" + n.sends + \" error \" + r + \" happened\");\n\n              i || o ? o && !this._conn.connected && this._conn._changeConnectStatus(e.Status.CONNFAIL, \"giving-up\") : this._throttledRequestHandler();\n            }\n          },\n          _processRequest: function _processRequest(t) {\n            var n = this,\n                r = this._requests[t],\n                i = this._getRequestStatus(r, -1);\n\n            if (r.sends > this._conn.maxRetries) this._conn._onDisconnectTimeout();else {\n              var o = r.age(),\n                  a = !isNaN(o) && o > Math.floor(e.TIMEOUT * this.wait),\n                  s = null !== r.dead && r.timeDead() > Math.floor(e.SECONDARY_TIMEOUT * this.wait),\n                  c = 4 === r.xhr.readyState && (i < 1 || i >= 500);\n\n              if ((a || s || c) && (s && e.error(\"Request \" + this._requests[t].id + \" timed out (secondary), restarting\"), r.abort = !0, r.xhr.abort(), r.xhr.onreadystatechange = function () {}, this._requests[t] = new e.Request(r.xmlData, r.origFunc, r.rid, r.sends), r = this._requests[t]), 0 === r.xhr.readyState) {\n                e.debug(\"request id \" + r.id + \".\" + r.sends + \" posting\");\n\n                try {\n                  var u = this._conn.options.contentType || \"text/xml; charset=utf-8\";\n                  r.xhr.open(\"POST\", this._conn.service, !this._conn.options.sync), void 0 !== r.xhr.setRequestHeader && r.xhr.setRequestHeader(\"Content-Type\", u), this._conn.options.withCredentials && (r.xhr.withCredentials = !0);\n                } catch (t) {\n                  return e.error(\"XHR open failed: \" + t.toString()), this._conn.connected || this._conn._changeConnectStatus(e.Status.CONNFAIL, \"bad-service\"), void this._conn.disconnect();\n                }\n\n                var d = function d() {\n                  if (r.date = new Date(), n._conn.options.customHeaders) {\n                    var e = n._conn.options.customHeaders;\n\n                    for (var t in e) {\n                      e.hasOwnProperty(t) && r.xhr.setRequestHeader(t, e[t]);\n                    }\n                  }\n\n                  r.xhr.send(r.data);\n                };\n\n                if (r.sends > 1) {\n                  var l = 1e3 * Math.min(Math.floor(e.TIMEOUT * this.wait), Math.pow(r.sends, 3));\n                  setTimeout(function () {\n                    d();\n                  }, l);\n                } else d();\n\n                r.sends++, this._conn.xmlOutput !== e.Connection.prototype.xmlOutput && (r.xmlData.nodeName === this.strip && r.xmlData.childNodes.length ? this._conn.xmlOutput(r.xmlData.childNodes[0]) : this._conn.xmlOutput(r.xmlData)), this._conn.rawOutput !== e.Connection.prototype.rawOutput && this._conn.rawOutput(r.data);\n              } else e.debug(\"_processRequest: \" + (0 === t ? \"first\" : \"second\") + \" request has readyState of \" + r.xhr.readyState);\n            }\n          },\n          _removeRequest: function _removeRequest(t) {\n            var n;\n\n            for (e.debug(\"removing request\"), n = this._requests.length - 1; n >= 0; n--) {\n              t === this._requests[n] && this._requests.splice(n, 1);\n            }\n\n            t.xhr.onreadystatechange = function () {}, this._throttledRequestHandler();\n          },\n          _restartRequest: function _restartRequest(e) {\n            var t = this._requests[e];\n            null === t.dead && (t.dead = new Date()), this._processRequest(e);\n          },\n          _reqToData: function _reqToData(e) {\n            try {\n              return e.getResponse();\n            } catch (e) {\n              if (\"parsererror\" !== e) throw e;\n\n              this._conn.disconnect(\"strophe-parsererror\");\n            }\n          },\n          _sendTerminate: function _sendTerminate(t) {\n            e.info(\"_sendTerminate was called\");\n\n            var n = this._buildBody().attrs({\n              type: \"terminate\"\n            });\n\n            t && n.cnode(t.tree());\n            var r = new e.Request(n.tree(), this._onRequestStateChange.bind(this, this._conn._dataRecv.bind(this._conn)), n.tree().getAttribute(\"rid\"));\n            this._requests.push(r), this._throttledRequestHandler();\n          },\n          _send: function _send() {\n            clearTimeout(this._conn._idleTimeout), this._throttledRequestHandler(), this._conn._idleTimeout = setTimeout(function () {\n              this._onIdle();\n            }.bind(this._conn), 100);\n          },\n          _sendRestart: function _sendRestart() {\n            this._throttledRequestHandler(), clearTimeout(this._conn._idleTimeout);\n          },\n          _throttledRequestHandler: function _throttledRequestHandler() {\n            this._requests ? e.debug(\"_throttledRequestHandler called with \" + this._requests.length + \" requests\") : e.debug(\"_throttledRequestHandler called with undefined requests\"), this._requests && 0 !== this._requests.length && (this._requests.length > 0 && this._processRequest(0), this._requests.length > 1 && Math.abs(this._requests[0].rid - this._requests[1].rid) < this.window && this._processRequest(1));\n          }\n        }, e;\n      }), function (t, i) {\n        if (\"function\" == typeof r && r.amd) r(\"strophe-websocket\", [\"strophe-core\"], function (e) {\n          return i(e.Strophe, e.$build);\n        });else {\n          var o = n(\"./core\");\n          e.exports = i(o.Strophe, o.$build);\n        }\n      }(0, function (e, t) {\n        return e.Websocket = function (e) {\n          this._conn = e, this.strip = \"wrapper\";\n          var t = e.service;\n\n          if (0 !== t.indexOf(\"ws:\") && 0 !== t.indexOf(\"wss:\")) {\n            var n = \"\";\n            \"ws\" === e.options.protocol && \"https:\" !== window.location.protocol ? n += \"ws\" : n += \"wss\", n += \"://\" + window.location.host, 0 !== t.indexOf(\"/\") ? n += window.location.pathname + t : n += t, e.service = n;\n          }\n        }, e.Websocket.prototype = {\n          _buildStream: function _buildStream() {\n            return t(\"open\", {\n              xmlns: e.NS.FRAMING,\n              to: this._conn.domain,\n              version: \"1.0\"\n            });\n          },\n          _check_streamerror: function _check_streamerror(t, n) {\n            var r;\n            if (0 === (r = t.getElementsByTagNameNS ? t.getElementsByTagNameNS(e.NS.STREAM, \"error\") : t.getElementsByTagName(\"stream:error\")).length) return !1;\n\n            for (var i = r[0], o = \"\", a = \"\", s = 0; s < i.childNodes.length; s++) {\n              var c = i.childNodes[s];\n              if (\"urn:ietf:params:xml:ns:xmpp-streams\" !== c.getAttribute(\"xmlns\")) break;\n              \"text\" === c.nodeName ? a = c.textContent : o = c.nodeName;\n            }\n\n            var u = \"WebSocket stream error: \";\n            return u += o || \"unknown\", a && (u += \" - \" + a), e.error(u), this._conn._changeConnectStatus(n, o), this._conn._doDisconnect(), !0;\n          },\n          _reset: function _reset() {},\n          _connect: function _connect() {\n            this._closeSocket(), this.socket = new WebSocket(this._conn.service, \"xmpp\"), this.socket.onopen = this._onOpen.bind(this), this.socket.onerror = this._onError.bind(this), this.socket.onclose = this._onClose.bind(this), this.socket.onmessage = this._connect_cb_wrapper.bind(this);\n          },\n          _connect_cb: function _connect_cb(t) {\n            if (this._check_streamerror(t, e.Status.CONNFAIL)) return e.Status.CONNFAIL;\n          },\n          _handleStreamStart: function _handleStreamStart(t) {\n            var n = !1,\n                r = t.getAttribute(\"xmlns\");\n            \"string\" != typeof r ? n = \"Missing xmlns in <open />\" : r !== e.NS.FRAMING && (n = \"Wrong xmlns in <open />: \" + r);\n            var i = t.getAttribute(\"version\");\n            return \"string\" != typeof i ? n = \"Missing version in <open />\" : \"1.0\" !== i && (n = \"Wrong version in <open />: \" + i), !n || (this._conn._changeConnectStatus(e.Status.CONNFAIL, n), this._conn._doDisconnect(), !1);\n          },\n          _connect_cb_wrapper: function _connect_cb_wrapper(t) {\n            if (0 === t.data.indexOf(\"<open \") || 0 === t.data.indexOf(\"<?xml\")) {\n              var n = t.data.replace(/^(<\\?.*?\\?>\\s*)*/, \"\");\n              if (\"\" === n) return;\n              var r = new DOMParser().parseFromString(n, \"text/xml\").documentElement;\n              this._conn.xmlInput(r), this._conn.rawInput(t.data), this._handleStreamStart(r) && this._connect_cb(r);\n            } else if (0 === t.data.indexOf(\"<close \")) {\n              var i = new DOMParser().parseFromString(t.data, \"text/xml\").documentElement;\n              this._conn.xmlInput(i), this._conn.rawInput(t.data);\n              var o = i.getAttribute(\"see-other-uri\");\n\n              if (o) {\n                var a = this._conn.service;\n                (a.indexOf(\"wss:\") >= 0 && o.indexOf(\"wss:\") >= 0 || a.indexOf(\"ws:\") >= 0) && (this._conn._changeConnectStatus(e.Status.REDIRECT, \"Received see-other-uri, resetting connection\"), this._conn.reset(), this._conn.service = o, this._connect());\n              } else this._conn._changeConnectStatus(e.Status.CONNFAIL, \"Received closing stream\"), this._conn._doDisconnect();\n            } else {\n              var s = this._streamWrap(t.data),\n                  c = new DOMParser().parseFromString(s, \"text/xml\").documentElement;\n\n              this.socket.onmessage = this._onMessage.bind(this), this._conn._connect_cb(c, null, t.data);\n            }\n          },\n          _disconnect: function _disconnect(n) {\n            if (this.socket && this.socket.readyState !== WebSocket.CLOSED) {\n              n && this._conn.send(n);\n              var r = t(\"close\", {\n                xmlns: e.NS.FRAMING\n              });\n\n              this._conn.xmlOutput(r.tree());\n\n              var i = e.serialize(r);\n\n              this._conn.rawOutput(i);\n\n              try {\n                this.socket.send(i);\n              } catch (t) {\n                e.info(\"Couldn't send <close /> tag.\");\n              }\n            }\n\n            this._conn._doDisconnect();\n          },\n          _doDisconnect: function _doDisconnect() {\n            e.info(\"WebSockets _doDisconnect was called\"), this._closeSocket();\n          },\n          _streamWrap: function _streamWrap(e) {\n            return \"<wrapper>\" + e + \"</wrapper>\";\n          },\n          _closeSocket: function _closeSocket() {\n            if (this.socket) try {\n              this.socket.onerror = null, this.socket.close();\n            } catch (e) {}\n            this.socket = null;\n          },\n          _emptyQueue: function _emptyQueue() {\n            return !0;\n          },\n          _onClose: function _onClose(t) {\n            this._conn.connected && !this._conn.disconnecting ? (e.error(\"Websocket closed unexpectedly\"), this._conn._doDisconnect()) : t && 1006 === t.code && !this._conn.connected && this.socket ? (e.error(\"Websocket closed unexcectedly\"), this._conn._changeConnectStatus(e.Status.CONNFAIL, \"The WebSocket connection could not be established or was disconnected.\"), this._conn._doDisconnect()) : e.info(\"Websocket closed\");\n          },\n          _no_auth_received: function _no_auth_received(t) {\n            e.error(\"Server did not offer a supported authentication mechanism\"), this._changeConnectStatus(e.Status.CONNFAIL, e.ErrorCondition.NO_AUTH_MECH), t && t.call(this._conn), this._conn._doDisconnect();\n          },\n          _onDisconnectTimeout: function _onDisconnectTimeout() {},\n          _abortAllRequests: function _abortAllRequests() {},\n          _onError: function _onError(t) {\n            e.error(\"Websocket error \" + t), this._conn._changeConnectStatus(e.Status.CONNFAIL, \"The WebSocket connection could not be established or was disconnected.\"), this._disconnect();\n          },\n          _onIdle: function _onIdle() {\n            var t = this._conn._data;\n\n            if (t.length > 0 && !this._conn.paused) {\n              for (var n = 0; n < t.length; n++) {\n                var r, i;\n                null !== t[n] && (r = \"restart\" === t[n] ? this._buildStream().tree() : t[n], i = e.serialize(r), this._conn.xmlOutput(r), this._conn.rawOutput(i), this.socket.send(i));\n              }\n\n              this._conn._data = [];\n            }\n          },\n          _onMessage: function _onMessage(t) {\n            var n,\n                r,\n                i = '<close xmlns=\"urn:ietf:params:xml:ns:xmpp-framing\" />';\n            if (t.data === i) return this._conn.rawInput(i), this._conn.xmlInput(t), void (this._conn.disconnecting || this._conn._doDisconnect());\n\n            if (0 === t.data.search(\"<open \")) {\n              if (n = new DOMParser().parseFromString(t.data, \"text/xml\").documentElement, !this._handleStreamStart(n)) return;\n            } else r = this._streamWrap(t.data), n = new DOMParser().parseFromString(r, \"text/xml\").documentElement;\n\n            return this._check_streamerror(n, e.Status.ERROR) ? void 0 : this._conn.disconnecting && \"presence\" === n.firstChild.nodeName && \"unavailable\" === n.firstChild.getAttribute(\"type\") ? (this._conn.xmlInput(n), void this._conn.rawInput(e.serialize(n))) : void this._conn._dataRecv(n, t.data);\n          },\n          _onOpen: function _onOpen() {\n            e.info(\"Websocket open\");\n\n            var t = this._buildStream();\n\n            this._conn.xmlOutput(t.tree());\n\n            var n = e.serialize(t);\n            this._conn.rawOutput(n), this.socket.send(n);\n          },\n          _reqToData: function _reqToData(e) {\n            return e;\n          },\n          _send: function _send() {\n            this._conn.flush();\n          },\n          _sendRestart: function _sendRestart() {\n            clearTimeout(this._conn._idleTimeout), this._conn._onIdle.bind(this._conn)();\n          }\n        }, e;\n      }), function (t) {\n        if (\"function\" == typeof r && r.amd) r(\"strophe\", [\"strophe-core\", \"strophe-bosh\", \"strophe-websocket\"], function (e) {\n          return e;\n        });else {\n          var i = n(\"./core\");\n          n(\"./bosh\"), n(\"./websocket\"), e.exports = i;\n        }\n      }(), n([\"strophe-polyfill\"]), n(\"strophe\");\n    }) ? r.apply(t, i) : r) || (e.exports = o);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(69);\n    t.a = new r.a();\n  }, function (e, t, n) {\n    var r = n(62),\n        i = n(124),\n        o = {},\n        a = [],\n        s = r.levels.TRACE;\n    e.exports = {\n      addGlobalTransport: function addGlobalTransport(e) {\n        r.addGlobalTransport(e);\n      },\n      removeGlobalTransport: function removeGlobalTransport(e) {\n        r.removeGlobalTransport(e);\n      },\n      setGlobalOptions: function setGlobalOptions(e) {\n        r.setGlobalOptions(e);\n      },\n      getLogger: function getLogger(e, t, n) {\n        var i = new r(s, e, t, n);\n        return e ? (o[e] = o[e] || [], o[e].push(i)) : a.push(i), i;\n      },\n      setLogLevelById: function setLogLevelById(e, t) {\n        for (var n = t ? o[t] || [] : a, r = 0; r < n.length; r++) {\n          n[r].setLevel(e);\n        }\n      },\n      setLogLevel: function setLogLevel(e) {\n        s = e;\n\n        for (var t = 0; t < a.length; t++) {\n          a[t].setLevel(e);\n        }\n\n        for (var n in o) {\n          var r = o[n] || [];\n\n          for (t = 0; t < r.length; t++) {\n            r[t].setLevel(e);\n          }\n        }\n      },\n      levels: r.levels,\n      LogCollector: i\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return S;\n      });\n      var r = n(22),\n          i = n.n(r),\n          o = n(6),\n          a = n(68),\n          s = n(32),\n          c = n(49),\n          u = n(71),\n          d = n(3),\n          l = n(50),\n          p = n.n(l),\n          f = n(16),\n          h = n(24);\n\n      function m(e) {\n        return (m = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      var v,\n          g = n(4).getLogger(e),\n          y = !1;\n\n      function _(e) {\n        s.a.isBackendInitialized() || s.a.initBackend({\n          callStatsID: e.callStatsID,\n          callStatsSecret: e.callStatsSecret,\n          userName: e.userName,\n          aliasName: e.aliasName,\n          applicationName: e.applicationName,\n          getWiFiStatsMethod: e.getWiFiStatsMethod,\n          confID: e.confID\n        }) || g.error(\"CallStats Backend initialization failed bad\");\n      }\n\n      function S(e, t) {\n        this.rtpStatsMap = new Map(), this.eventEmitter = new i.a(), this.xmpp = e, this.options = t || {}, this.callStatsIntegrationEnabled = this.options.callStatsID && this.options.callStatsSecret && !0 !== S.disableThirdPartyRequests, this.callStatsIntegrationEnabled && (d.a.isReactNative() ? _(this.options) : function (e) {\n          y || (p.a.loadScript(e.customScriptUrl || \"https://api.callstats.io/static/callstats-ws.min.js\", !0, !0, void 0, function () {\n            return _(e);\n          }), y = !0);\n        }(this.options), this.options.confID || g.warn('\"confID\" is not defined'), this.options.callStatsConfIDNamespace || g.warn('\"callStatsConfIDNamespace\" is not defined')), this.callsStatsInstances = new Map(), S.instances.add(this);\n      }\n\n      S.init = function (e) {\n        S.audioLevelsEnabled = !e.disableAudioLevels, \"number\" == typeof e.audioLevelsInterval && (S.audioLevelsInterval = e.audioLevelsInterval), S.disableThirdPartyRequests = e.disableThirdPartyRequests;\n      }, S.audioLevelsEnabled = !1, S.audioLevelsInterval = 200, S.disableThirdPartyRequests = !1, S.analytics = a.a, Object.defineProperty(S, \"instances\", {\n        get: function get() {\n          return v || (v = new Set()), v;\n        }\n      }), S.prototype.startRemoteStats = function (e) {\n        this.stopRemoteStats(e);\n\n        try {\n          var t = new u.a(e, S.audioLevelsInterval, 2e3, this.eventEmitter);\n          t.start(S.audioLevelsEnabled), this.rtpStatsMap.set(e.id, t);\n        } catch (e) {\n          g.error(\"Failed to start collecting remote statistics: \".concat(e));\n        }\n      }, S.localStats = [], S.startLocalStats = function (e, t) {\n        if (S.audioLevelsEnabled) {\n          var n = new c.a(e, S.audioLevelsInterval, t);\n          this.localStats.push(n), n.start();\n        }\n      }, S.prototype.addAudioLevelListener = function (e) {\n        S.audioLevelsEnabled && this.eventEmitter.on(h.a, e);\n      }, S.prototype.removeAudioLevelListener = function (e) {\n        S.audioLevelsEnabled && this.eventEmitter.removeListener(h.a, e);\n      }, S.prototype.addBeforeDisposedListener = function (e) {\n        this.eventEmitter.on(h.b, e);\n      }, S.prototype.removeBeforeDisposedListener = function (e) {\n        this.eventEmitter.removeListener(h.b, e);\n      }, S.prototype.addConnectionStatsListener = function (e) {\n        this.eventEmitter.on(h.d, e);\n      }, S.prototype.removeConnectionStatsListener = function (e) {\n        this.eventEmitter.removeListener(h.d, e);\n      }, S.prototype.addByteSentStatsListener = function (e) {\n        this.eventEmitter.on(h.c, e);\n      }, S.prototype.removeByteSentStatsListener = function (e) {\n        this.eventEmitter.removeListener(h.c, e);\n      }, S.prototype.dispose = function () {\n        try {\n          this.callsStatsInstances.size || this.eventEmitter.emit(h.b);\n          var e = !0,\n              t = !1,\n              n = void 0;\n\n          try {\n            for (var r, i = this.callsStatsInstances.values()[Symbol.iterator](); !(e = (r = i.next()).done); e = !0) {\n              var o = r.value;\n              this.stopCallStats(o.tpc);\n            }\n          } catch (e) {\n            t = !0, n = e;\n          } finally {\n            try {\n              e || null == i.return || i.return();\n            } finally {\n              if (t) throw n;\n            }\n          }\n\n          var a = !0,\n              s = !1,\n              c = void 0;\n\n          try {\n            for (var u, d = this.rtpStatsMap.keys()[Symbol.iterator](); !(a = (u = d.next()).done); a = !0) {\n              var l = u.value;\n\n              this._stopRemoteStats(l);\n            }\n          } catch (e) {\n            s = !0, c = e;\n          } finally {\n            try {\n              a || null == d.return || d.return();\n            } finally {\n              if (s) throw c;\n            }\n          }\n\n          this.eventEmitter && this.eventEmitter.removeAllListeners();\n        } finally {\n          S.instances.delete(this);\n        }\n      }, S.stopLocalStats = function (e) {\n        if (S.audioLevelsEnabled) for (var t = 0; t < S.localStats.length; t++) {\n          if (S.localStats[t].stream === e) {\n            S.localStats.splice(t, 1)[0].stop();\n            break;\n          }\n        }\n      }, S.prototype._stopRemoteStats = function (e) {\n        var t = this.rtpStatsMap.get(e);\n        t && (t.stop(), this.rtpStatsMap.delete(e));\n      }, S.prototype.stopRemoteStats = function (e) {\n        this._stopRemoteStats(e.id);\n      }, S.prototype.startCallStats = function (e, t) {\n        if (this.callStatsIntegrationEnabled) if (this.callsStatsInstances.has(e.id)) g.error(\"CallStats instance for ${tpc} exists already\");else {\n          g.info(\"Starting CallStats for \".concat(e, \"...\"));\n          var n = new s.a(e, {\n            confID: this._getCallStatsConfID(),\n            remoteUserID: t\n          });\n          this.callsStatsInstances.set(e.id, n);\n        }\n      }, S._getAllCallStatsInstances = function () {\n        var e = new Set(),\n            t = !0,\n            n = !1,\n            r = void 0;\n\n        try {\n          for (var i, o = S.instances[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n            var a = i.value,\n                s = !0,\n                c = !1,\n                u = void 0;\n\n            try {\n              for (var d, l = a.callsStatsInstances.values()[Symbol.iterator](); !(s = (d = l.next()).done); s = !0) {\n                var p = d.value;\n                e.add(p);\n              }\n            } catch (e) {\n              c = !0, u = e;\n            } finally {\n              try {\n                s || null == l.return || l.return();\n              } finally {\n                if (c) throw u;\n              }\n            }\n          }\n        } catch (e) {\n          n = !0, r = e;\n        } finally {\n          try {\n            t || null == o.return || o.return();\n          } finally {\n            if (n) throw r;\n          }\n        }\n\n        return e;\n      }, S.prototype._getCallStatsConfID = function () {\n        return this.options.callStatsConfIDNamespace ? \"\".concat(this.options.callStatsConfIDNamespace, \"/\").concat(this.options.roomName) : this.options.roomName;\n      }, S.prototype.stopCallStats = function (e) {\n        var t = this.callsStatsInstances.get(e.id);\n        t && (1 === this.callsStatsInstances.size && this.eventEmitter.emit(h.b), this.callsStatsInstances.delete(e.id), t.sendTerminateEvent());\n      }, S.prototype.isCallstatsEnabled = function () {\n        return this.callStatsIntegrationEnabled;\n      }, S.prototype.sendConnectionResumeOrHoldEvent = function (e, t) {\n        var n = this.callsStatsInstances.get(e.id);\n        n && n.sendResumeOrHoldEvent(t);\n      }, S.prototype.sendIceConnectionFailedEvent = function (e) {\n        var t = this.callsStatsInstances.get(e.id);\n        t && t.sendIceConnectionFailedEvent();\n      }, S.prototype.sendMuteEvent = function (e, t, n) {\n        var r = e && this.callsStatsInstances.get(e.id);\n        s.a.sendMuteEvent(t, n, r);\n      }, S.prototype.sendScreenSharingEvent = function (e, t) {\n        var n = !0,\n            r = !1,\n            i = void 0;\n\n        try {\n          for (var o, a = this.callsStatsInstances.values()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n            o.value.sendScreenSharingEvent(e, t);\n          }\n        } catch (e) {\n          r = !0, i = e;\n        } finally {\n          try {\n            n || null == a.return || a.return();\n          } finally {\n            if (r) throw i;\n          }\n        }\n      }, S.prototype.sendDominantSpeakerEvent = function (e) {\n        var t = !0,\n            n = !1,\n            r = void 0;\n\n        try {\n          for (var i, o = this.callsStatsInstances.values()[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n            i.value.sendDominantSpeakerEvent();\n          }\n        } catch (e) {\n          n = !0, r = e;\n        } finally {\n          try {\n            t || null == o.return || o.return();\n          } finally {\n            if (n) throw r;\n          }\n        }\n\n        this.xmpp.sendDominantSpeakerEvent(e);\n      }, S.sendActiveDeviceListEvent = function (e) {\n        var t = S._getAllCallStatsInstances();\n\n        if (t.size) {\n          var n = !0,\n              r = !1,\n              i = void 0;\n\n          try {\n            for (var o, a = t[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n              var c = o.value;\n              s.a.sendActiveDeviceListEvent(e, c);\n            }\n          } catch (e) {\n            r = !0, i = e;\n          } finally {\n            try {\n              n || null == a.return || a.return();\n            } finally {\n              if (r) throw i;\n            }\n          }\n        } else s.a.sendActiveDeviceListEvent(e, null);\n      }, S.prototype.associateStreamWithVideoTag = function (e, t, n, r, i, o) {\n        var a = this.callsStatsInstances.get(e.id);\n        a && a.associateStreamWithVideoTag(t, n, r, i, o);\n      }, S.sendGetUserMediaFailed = function (e) {\n        var t = e instanceof f.a ? function (e) {\n          var t = new Error();\n          return t.stack = e.stack, t.name = (e.name || \"Unknown error\") + (e.gum && e.gum.error && e.gum.error.name ? \" - \".concat(e.gum.error.name) : \"\"), t.constraintName = e.gum && e.gum.constraints ? JSON.stringify(e.gum.constraints) : \"\", t.message = e.message, t;\n        }(e) : e,\n            n = S._getAllCallStatsInstances();\n\n        if (n.size) {\n          var r = !0,\n              i = !1,\n              o = void 0;\n\n          try {\n            for (var a, c = n[Symbol.iterator](); !(r = (a = c.next()).done); r = !0) {\n              var u = a.value;\n              s.a.sendGetUserMediaFailed(t, u);\n            }\n          } catch (e) {\n            i = !0, o = e;\n          } finally {\n            try {\n              r || null == c.return || c.return();\n            } finally {\n              if (i) throw o;\n            }\n          }\n        } else s.a.sendGetUserMediaFailed(t, null);\n      }, S.prototype.sendCreateOfferFailed = function (e, t) {\n        var n = this.callsStatsInstances.get(t.id);\n        n && n.sendCreateOfferFailed(e);\n      }, S.prototype.sendCreateAnswerFailed = function (e, t) {\n        var n = this.callsStatsInstances.get(t.id);\n        n && n.sendCreateAnswerFailed(e);\n      }, S.prototype.sendSetLocalDescFailed = function (e, t) {\n        var n = this.callsStatsInstances.get(t.id);\n        n && n.sendSetLocalDescFailed(e);\n      }, S.prototype.sendSetRemoteDescFailed = function (e, t) {\n        var n = this.callsStatsInstances.get(t.id);\n        n && n.sendSetRemoteDescFailed(e);\n      }, S.prototype.sendAddIceCandidateFailed = function (e, t) {\n        var n = this.callsStatsInstances.get(t.id);\n        n && n.sendAddIceCandidateFailed(e);\n      }, S.sendLog = function (e) {\n        var t = new Set(),\n            n = !0,\n            r = !1,\n            i = void 0;\n\n        try {\n          for (var o, a = S.instances[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n            var c = o.value;\n            c.callsStatsInstances.size && t.add(c.callsStatsInstances.values().next().value);\n          }\n        } catch (e) {\n          r = !0, i = e;\n        } finally {\n          try {\n            n || null == a.return || a.return();\n          } finally {\n            if (r) throw i;\n          }\n        }\n\n        if (t.size) {\n          var u = !0,\n              d = !1,\n              l = void 0;\n\n          try {\n            for (var p, f = t[Symbol.iterator](); !(u = (p = f.next()).done); u = !0) {\n              var h = p.value;\n              s.a.sendApplicationLog(e, h);\n            }\n          } catch (e) {\n            d = !0, l = e;\n          } finally {\n            try {\n              u || null == f.return || f.return();\n            } finally {\n              if (d) throw l;\n            }\n          }\n        } else s.a.sendApplicationLog(e, null);\n      }, S.prototype.sendFeedback = function (e, t) {\n        return S.analytics.sendEvent(o.n, {\n          rating: e,\n          comment: t\n        }), s.a.sendFeedback(this._getCallStatsConfID(), e, t);\n      }, S.LOCAL_JID = n(127).LOCAL_JID, S.reportGlobalError = function (e) {\n        e instanceof f.a && e.gum ? S.sendGetUserMediaFailed(e) : S.sendLog(e);\n      }, S.sendAnalyticsAndLog = function (e) {\n        var t,\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        e ? (t = \"object\" === m(e) ? e : {\n          name: e,\n          properties: n\n        }, g.log(JSON.stringify(t)), this.analytics.sendEvent(e, n)) : g.warn(\"No event or event name given.\");\n      }, S.sendAnalytics = function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        this.analytics.sendEvent(e, t);\n      };\n    }).call(this, \"modules/statistics/statistics.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      var n = Object.keys(e);\n\n      if (Object.getOwnPropertySymbols) {\n        var r = Object.getOwnPropertySymbols(e);\n        t && (r = r.filter(function (t) {\n          return Object.getOwnPropertyDescriptor(e, t).enumerable;\n        })), n.push.apply(n, r);\n      }\n\n      return n;\n    }\n\n    function i(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {};\n        t % 2 ? r(Object(n), !0).forEach(function (t) {\n          o(e, t, n[t]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach(function (t) {\n          Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n        });\n      }\n\n      return e;\n    }\n\n    function o(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    n.d(t, \"t\", function () {\n      return a;\n    }), n.d(t, \"u\", function () {\n      return s;\n    }), n.d(t, \"v\", function () {\n      return c;\n    }), n.d(t, \"w\", function () {\n      return u;\n    }), n.d(t, \"a\", function () {\n      return d;\n    }), n.d(t, \"b\", function () {\n      return l;\n    }), n.d(t, \"c\", function () {\n      return p;\n    }), n.d(t, \"d\", function () {\n      return f;\n    }), n.d(t, \"e\", function () {\n      return h;\n    }), n.d(t, \"f\", function () {\n      return m;\n    }), n.d(t, \"g\", function () {\n      return v;\n    }), n.d(t, \"h\", function () {\n      return g;\n    }), n.d(t, \"i\", function () {\n      return y;\n    }), n.d(t, \"j\", function () {\n      return _;\n    }), n.d(t, \"k\", function () {\n      return S;\n    }), n.d(t, \"l\", function () {\n      return b;\n    }), n.d(t, \"m\", function () {\n      return E;\n    }), n.d(t, \"n\", function () {\n      return T;\n    }), n.d(t, \"o\", function () {\n      return C;\n    }), n.d(t, \"p\", function () {\n      return A;\n    }), n.d(t, \"q\", function () {\n      return R;\n    }), n.d(t, \"r\", function () {\n      return w;\n    }), n.d(t, \"s\", function () {\n      return O;\n    }), n.d(t, \"z\", function () {\n      return k;\n    }), n.d(t, \"B\", function () {\n      return P;\n    }), n.d(t, \"A\", function () {\n      return I;\n    }), n.d(t, \"C\", function () {\n      return D;\n    }), n.d(t, \"D\", function () {\n      return N;\n    }), n.d(t, \"E\", function () {\n      return M;\n    }), n.d(t, \"F\", function () {\n      return L;\n    }), n.d(t, \"J\", function () {\n      return x;\n    }), n.d(t, \"G\", function () {\n      return j;\n    }), n.d(t, \"H\", function () {\n      return F;\n    }), n.d(t, \"I\", function () {\n      return U;\n    }), n.d(t, \"K\", function () {\n      return H;\n    }), n.d(t, \"L\", function () {\n      return J;\n    }), n.d(t, \"M\", function () {\n      return G;\n    }), n.d(t, \"x\", function () {\n      return B;\n    }), n.d(t, \"y\", function () {\n      return V;\n    }), n.d(t, \"N\", function () {\n      return q;\n    });\n\n    var a = \"operational\",\n        s = \"page\",\n        c = \"track\",\n        u = \"ui\",\n        d = \"restart\",\n        l = \"session-accept.timeout\",\n        p = \"session-initiate.received\",\n        f = \"session-initiate.timeout\",\n        h = \"terminate\",\n        m = \"transport-replace.received\",\n        v = \"transport-replace.success\",\n        g = \"decline\",\n        y = \"established\",\n        _ = \"failed\",\n        S = \"switch.to.jvb\",\n        b = \"available.device\",\n        E = \"connection.disconnected\",\n        T = \"feedback\",\n        C = \"ice.duration\",\n        A = \"ice.establishment.duration.diff\",\n        R = \"ice.state.changed\",\n        w = \"track.no-bytes-sent\",\n        O = \"track.unmuted\",\n        k = function k() {\n      return {\n        action: \"bridge.down\",\n        actionSubject: \"bridge.down\",\n        type: a\n      };\n    },\n        P = function P(e, t, n) {\n      return {\n        type: a,\n        action: \"connection.failed\",\n        attributes: i({\n          error_type: e,\n          error_message: t\n        }, n)\n      };\n    };\n\n    function I(e, t) {\n      return {\n        action: e,\n        attributes: t,\n        source: \"conference\",\n        type: a\n      };\n    }\n\n    var D = function D(e, t) {\n      var n = \"connection.stage.reached\";\n      return {\n        action: n,\n        actionSubject: e,\n        attributes: t,\n        source: n,\n        type: a\n      };\n    },\n        N = function N(e, t, n) {\n      return {\n        attributes: {\n          participant_id: e,\n          region: t,\n          rtt: n\n        },\n        name: \"e2e_rtt\",\n        type: a\n      };\n    },\n        M = function M() {\n      return {\n        action: \"focus.left\",\n        actionSubject: \"focus.left\",\n        type: a\n      };\n    },\n        L = function L(e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      return {\n        type: a,\n        source: \"get.user.media\",\n        action: e,\n        attributes: t\n      };\n    },\n        x = function x() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n          t = \"duration\";\n      return {\n        type: a,\n        source: \"peer.conn.status\",\n        action: t,\n        attributes: e\n      };\n    },\n        j = function j(e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      return {\n        type: a,\n        action: e,\n        source: \"jingle\",\n        attributes: t\n      };\n    },\n        F = function F(e, t) {\n      return {\n        attributes: {\n          media_type: e,\n          value: t\n        },\n        action: \"track.no.data.from.source\",\n        type: a\n      };\n    },\n        U = function U(e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      return {\n        type: a,\n        action: e,\n        source: \"p2p\",\n        attributes: t\n      };\n    },\n        H = function H() {\n      return {\n        type: a,\n        action: \"remotely.muted\"\n      };\n    },\n        J = function J(e) {\n      return {\n        type: a,\n        action: \"rtp.stats\",\n        attributes: e\n      };\n    },\n        G = function G(e) {\n      return {\n        type: a,\n        action: \"rtt.by.region\",\n        attributes: e\n      };\n    };\n\n    function B(e, t, n) {\n      return {\n        type: a,\n        action: \"audio.output.problem\",\n        attributes: {\n          userID: e,\n          localAudioLevels: t,\n          remoteAudioLevels: n\n        }\n      };\n    }\n\n    var V = function V(e, t) {\n      return {\n        type: a,\n        action: \"bridge-channel.error\",\n        attributes: {\n          code: e,\n          reason: t\n        }\n      };\n    },\n        q = function q(e) {\n      return D(\"ttfm\", e);\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(34),\n          o = n.n(i),\n          a = n(3);\n\n      function s(e) {\n        return function (e) {\n          if (Array.isArray(e)) {\n            for (var t = 0, n = new Array(e.length); t < e.length; t++) {\n              n[t] = e[t];\n            }\n\n            return n;\n          }\n        }(e) || function (e) {\n          if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n        }(e) || function () {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n        }();\n      }\n\n      var c = Object(r.getLogger)(e),\n          u = {\n        filterSpecialChars: function filterSpecialChars(e) {\n          return e ? e.replace(/[\\\\\\/\\{,\\}\\+]/g, \"\") : e;\n        },\n        iceparams: function iceparams(e, t) {\n          var n,\n              r,\n              i = null;\n          return (r = u.findLine(e, \"a=ice-ufrag:\", t)) && (n = u.findLine(e, \"a=ice-pwd:\", t)) && (i = {\n            ufrag: u.parseICEUfrag(r),\n            pwd: u.parseICEPwd(n)\n          }), i;\n        },\n        parseICEUfrag: function parseICEUfrag(e) {\n          return e.substring(12);\n        },\n        buildICEUfrag: function buildICEUfrag(e) {\n          return \"a=ice-ufrag:\".concat(e);\n        },\n        parseICEPwd: function parseICEPwd(e) {\n          return e.substring(10);\n        },\n        buildICEPwd: function buildICEPwd(e) {\n          return \"a=ice-pwd:\".concat(e);\n        },\n        parseMID: function parseMID(e) {\n          return e.substring(6);\n        },\n        parseMLine: function parseMLine(e) {\n          var t = {},\n              n = e.substring(2).split(\" \");\n          return t.media = n.shift(), t.port = n.shift(), t.proto = n.shift(), \"\" === n[n.length - 1] && n.pop(), t.fmt = n, t;\n        },\n        buildMLine: function buildMLine(e) {\n          return \"m=\".concat(e.media, \" \").concat(e.port, \" \").concat(e.proto, \" \").concat(e.fmt.join(\" \"));\n        },\n        parseRTPMap: function parseRTPMap(e) {\n          var t = {},\n              n = e.substring(9).split(\" \");\n          return t.id = n.shift(), n = n[0].split(\"/\"), t.name = n.shift(), t.clockrate = n.shift(), t.channels = n.length ? n.shift() : \"1\", t;\n        },\n        parseSCTPMap: function parseSCTPMap(e) {\n          var t = e.substring(10).split(\" \");\n          return [t[0], t[1], t.length > 2 ? t[2] : null];\n        },\n        buildRTPMap: function buildRTPMap(e) {\n          var t = \"a=rtpmap:\".concat(e.getAttribute(\"id\"), \" \").concat(e.getAttribute(\"name\"), \"/\").concat(e.getAttribute(\"clockrate\"));\n          return e.getAttribute(\"channels\") && \"1\" !== e.getAttribute(\"channels\") && (t += \"/\".concat(e.getAttribute(\"channels\"))), t;\n        },\n        parseCrypto: function parseCrypto(e) {\n          var t = {},\n              n = e.substring(9).split(\" \");\n          return t.tag = n.shift(), t[\"crypto-suite\"] = n.shift(), t[\"key-params\"] = n.shift(), n.length && (t[\"session-params\"] = n.join(\" \")), t;\n        },\n        parseFingerprint: function parseFingerprint(e) {\n          var t = {},\n              n = e.substring(14).split(\" \");\n          return t.hash = n.shift(), t.fingerprint = n.shift(), t;\n        },\n        parseFmtp: function parseFmtp(e) {\n          var t = [],\n              n = e.split(\" \");\n          n.shift(), n = n.join(\" \").split(\";\");\n\n          for (var r = 0; r < n.length; r++) {\n            for (var i = n[r].split(\"=\")[0]; i.length && \" \" === i[0];) {\n              i = i.substring(1);\n            }\n\n            var o = n[r].split(\"=\")[1];\n            i && o ? t.push({\n              name: i,\n              value: o\n            }) : i && t.push({\n              name: \"\",\n              value: i\n            });\n          }\n\n          return t;\n        },\n        parseICECandidate: function parseICECandidate(e) {\n          var t = {},\n              n = e.split(\" \");\n          t.foundation = n[0].substring(12), t.component = n[1], t.protocol = n[2].toLowerCase(), t.priority = n[3], t.ip = n[4], t.port = n[5], t.type = n[7], t.generation = 0;\n\n          for (var r = 8; r < n.length; r += 2) {\n            switch (n[r]) {\n              case \"raddr\":\n                t[\"rel-addr\"] = n[r + 1];\n                break;\n\n              case \"rport\":\n                t[\"rel-port\"] = n[r + 1];\n                break;\n\n              case \"generation\":\n                t.generation = n[r + 1];\n                break;\n\n              case \"tcptype\":\n                t.tcptype = n[r + 1];\n                break;\n\n              default:\n                c.log('parseICECandidate not translating \"'.concat(n[r], '\" = \"').concat(n[r + 1], '\"'));\n            }\n          }\n\n          return t.network = \"1\", t.id = Math.random().toString(36).substr(2, 10), t;\n        },\n        buildICECandidate: function buildICECandidate(e) {\n          var t = [\"a=candidate:\".concat(e.foundation), e.component, e.protocol, e.priority, e.ip, e.port, \"typ\", e.type].join(\" \");\n\n          switch (t += \" \", e.type) {\n            case \"srflx\":\n            case \"prflx\":\n            case \"relay\":\n              e.hasOwnAttribute(\"rel-addr\") && e.hasOwnAttribute(\"rel-port\") && (t += \"raddr\", t += \" \", t += e[\"rel-addr\"], t += \" \", t += \"rport\", t += \" \", t += e[\"rel-port\"], t += \" \");\n          }\n\n          return e.hasOwnAttribute(\"tcptype\") && (t += \"tcptype\", t += \" \", t += e.tcptype, t += \" \"), t += \"generation\", t += \" \", t += e.hasOwnAttribute(\"generation\") ? e.generation : \"0\";\n        },\n        parseSSRC: function parseSSRC(e) {\n          for (var t = new Map(), n = e.split(\"\\r\\n\"), r = 0; r < n.length; r++) {\n            if (\"a=ssrc:\" === n[r].substring(0, 7)) {\n              var i = n[r].split(\"a=ssrc:\")[1].split(\" \")[0];\n              t.get(i) || t.set(i, []), t.get(i).push(n[r]);\n            }\n          }\n\n          return t;\n        },\n        parseRTCPFB: function parseRTCPFB(e) {\n          var t = e.substr(10).split(\" \"),\n              n = {};\n          return n.pt = t.shift(), n.type = t.shift(), n.params = t, n;\n        },\n        parseExtmap: function parseExtmap(e) {\n          var t = e.substr(9).split(\" \"),\n              n = {};\n          return n.value = t.shift(), -1 === n.value.indexOf(\"/\") ? n.direction = \"both\" : (n.direction = n.value.substr(n.value.indexOf(\"/\") + 1), n.value = n.value.substr(0, n.value.indexOf(\"/\"))), n.uri = t.shift(), n.params = t, n;\n        },\n        findLine: function findLine(e, t, n) {\n          for (var r = e.split(\"\\r\\n\"), i = 0; i < r.length; i++) {\n            if (r[i].substring(0, t.length) === t) return r[i];\n          }\n\n          if (!n) return !1;\n          r = n.split(\"\\r\\n\");\n\n          for (var o = 0; o < r.length; o++) {\n            if (r[o].substring(0, t.length) === t) return r[o];\n          }\n\n          return !1;\n        },\n        findLines: function findLines(e, t, n) {\n          for (var r = e.split(\"\\r\\n\"), i = [], o = 0; o < r.length; o++) {\n            r[o].substring(0, t.length) === t && i.push(r[o]);\n          }\n\n          if (i.length || !n) return i;\n          r = n.split(\"\\r\\n\");\n\n          for (var a = 0; a < r.length; a++) {\n            r[a].substring(0, t.length) === t && i.push(r[a]);\n          }\n\n          return i;\n        },\n        candidateToJingle: function candidateToJingle(e) {\n          if (0 === e.indexOf(\"candidate:\")) e = \"a=\".concat(e);else if (\"a=candidate:\" !== e.substring(0, 12)) return c.log(\"parseCandidate called with a line that is not a candidate line\"), c.log(e), null;\n          \"\\r\\n\" === e.substring(e.length - 2) && (e = e.substring(0, e.length - 2));\n          var t = {},\n              n = e.split(\" \");\n          if (\"typ\" !== n[6]) return c.log(\"did not find typ in the right place\"), c.log(e), null;\n          t.foundation = n[0].substring(12), t.component = n[1], t.protocol = n[2].toLowerCase(), t.priority = n[3], t.ip = n[4], t.port = n[5], t.type = n[7], t.generation = \"0\";\n\n          for (var r = 8; r < n.length; r += 2) {\n            switch (n[r]) {\n              case \"raddr\":\n                t[\"rel-addr\"] = n[r + 1];\n                break;\n\n              case \"rport\":\n                t[\"rel-port\"] = n[r + 1];\n                break;\n\n              case \"generation\":\n                t.generation = n[r + 1];\n                break;\n\n              case \"tcptype\":\n                t.tcptype = n[r + 1];\n                break;\n\n              default:\n                c.log('not translating \"'.concat(n[r], '\" = \"').concat(n[r + 1], '\"'));\n            }\n          }\n\n          return t.network = \"1\", t.id = Math.random().toString(36).substr(2, 10), t;\n        },\n        candidateFromJingle: function candidateFromJingle(e) {\n          var t = \"a=candidate:\";\n          t += e.getAttribute(\"foundation\"), t += \" \", t += e.getAttribute(\"component\"), t += \" \";\n          var n = e.getAttribute(\"protocol\");\n\n          switch (a.a.isFirefox() && \"ssltcp\" === n.toLowerCase() && (n = \"tcp\"), t += n, t += \" \", t += e.getAttribute(\"priority\"), t += \" \", t += e.getAttribute(\"ip\"), t += \" \", t += e.getAttribute(\"port\"), t += \" \", t += \"typ\", t += \" \".concat(e.getAttribute(\"type\")), t += \" \", e.getAttribute(\"type\")) {\n            case \"srflx\":\n            case \"prflx\":\n            case \"relay\":\n              e.getAttribute(\"rel-addr\") && e.getAttribute(\"rel-port\") && (t += \"raddr\", t += \" \", t += e.getAttribute(\"rel-addr\"), t += \" \", t += \"rport\", t += \" \", t += e.getAttribute(\"rel-port\"), t += \" \");\n          }\n\n          return \"tcp\" === n.toLowerCase() && (t += \"tcptype\", t += \" \", t += e.getAttribute(\"tcptype\"), t += \" \"), t += \"generation\", t += \" \", t += e.getAttribute(\"generation\") || \"0\", \"\".concat(t, \"\\r\\n\");\n        },\n        parsePrimaryVideoSsrc: function parsePrimaryVideoSsrc(e) {\n          var t = e.ssrcs.map(function (e) {\n            return e.id;\n          }).filter(function (e, t, n) {\n            return n.indexOf(e) === t;\n          }).length,\n              n = e.ssrcGroups && e.ssrcGroups.length || 0;\n\n          if (!(t > 1 && 0 === n)) {\n            var r = null;\n            if (1 === t) r = e.ssrcs[0].id;else if (2 === t) {\n              var i = e.ssrcGroups.find(function (e) {\n                return \"FID\" === e.semantics;\n              });\n              i && (r = i.ssrcs.split(\" \")[0]);\n            } else if (t >= 3) {\n              var o = e.ssrcGroups.find(function (e) {\n                return \"SIM\" === e.semantics;\n              });\n              o && (r = o.ssrcs.split(\" \")[0]);\n            }\n            return r;\n          }\n        },\n        generateSsrc: function generateSsrc() {\n          return o.a.randomInt(1, 4294967295);\n        },\n        getSsrcAttribute: function getSsrcAttribute(e, t, n) {\n          for (var r = 0; r < e.ssrcs.length; ++r) {\n            var i = e.ssrcs[r];\n            if (i.id === t && i.attribute === n) return i.value;\n          }\n        },\n        parseGroupSsrcs: function parseGroupSsrcs(e) {\n          return e.ssrcs.split(\" \").map(function (e) {\n            return parseInt(e, 10);\n          });\n        },\n        getMedia: function getMedia(e, t) {\n          return e.media.find(function (e) {\n            return e.type === t;\n          });\n        },\n        getUfrag: function getUfrag(e) {\n          var t = e.split(\"\\n\").filter(function (e) {\n            return e.startsWith(\"a=ice-ufrag:\");\n          });\n          if (t.length > 0) return t[0].substr(\"a=ice-ufrag:\".length);\n        },\n        preferVideoCodec: function preferVideoCodec(e, t) {\n          var n = null;\n\n          if (e && t) {\n            for (var r = 0; r < e.rtp.length; ++r) {\n              var i = e.rtp[r];\n\n              if (i.codec && i.codec.toLowerCase() === t.toLowerCase()) {\n                n = i.payload;\n                break;\n              }\n            }\n\n            if (n) {\n              var o = e.payloads.toString().split(\" \").map(function (e) {\n                return parseInt(e, 10);\n              }),\n                  a = o.indexOf(n);\n              o.splice(a, 1), o.unshift(n), e.payloads = o.join(\" \");\n            }\n          }\n        },\n        stripVideoCodec: function stripVideoCodec(e, t) {\n          if (e && t) {\n            var n = [],\n                r = !0,\n                i = !1,\n                o = void 0;\n\n            try {\n              for (var a, c = e.rtp[Symbol.iterator](); !(r = (a = c.next()).done); r = !0) {\n                var u = a.value;\n                u.codec && u.codec.toLowerCase() === t.toLowerCase() && n.push(u.payload);\n              }\n            } catch (e) {\n              i = !0, o = e;\n            } finally {\n              try {\n                r || null == c.return || c.return();\n              } finally {\n                if (i) throw o;\n              }\n            }\n\n            if (n.length > 0) {\n              var d = n.map(function (e) {\n                return \"apt=\".concat(e);\n              }),\n                  l = e.fmtp.filter(function (e) {\n                return -1 !== d.indexOf(e.config);\n              });\n              n.push.apply(n, s(l.map(function (e) {\n                return e.payload;\n              })));\n              var p = e.payloads.toString().split(\" \").map(Number).filter(function (e) {\n                return -1 === n.indexOf(e);\n              });\n              0 === p.length ? (e.port = 0, e.direction = \"inactive\", e.payloads = \"*\") : e.payloads = p.join(\" \"), e.rtp = e.rtp.filter(function (e) {\n                return -1 !== p.indexOf(e.payload);\n              }), e.fmtp = e.fmtp.filter(function (e) {\n                return -1 !== p.indexOf(e.payload);\n              }), e.rtcpFb && (e.rtcpFb = e.rtcpFb.filter(function (e) {\n                return -1 !== p.indexOf(e.payload);\n              }));\n            }\n          }\n        }\n      };\n      t.a = u;\n    }).call(this, \"modules/xmpp/SDPUtil.js\");\n  }, function (e, t) {\n    e.exports = {\n      CREATE_ANSWER_FAILED: \"rtc.create_answer_failed\",\n      CREATE_OFFER_FAILED: \"rtc.create_offer_failed\",\n      DATA_CHANNEL_OPEN: \"rtc.data_channel_open\",\n      ENDPOINT_CONN_STATUS_CHANGED: \"rtc.endpoint_conn_status_changed\",\n      DOMINANT_SPEAKER_CHANGED: \"rtc.dominant_speaker_changed\",\n      LASTN_ENDPOINT_CHANGED: \"rtc.lastn_endpoint_changed\",\n      GRANTED_PERMISSIONS: \"rtc.granted_permissions\",\n      IS_SELECTED_CHANGED: \"rtc.is_selected_change\",\n      LASTN_VALUE_CHANGED: \"rtc.lastn_value_changed\",\n      LOCAL_TRACK_SSRC_UPDATED: \"rtc.local_track_ssrc_updated\",\n      TRACK_ATTACHED: \"rtc.track_attached\",\n      REMOTE_TRACK_ADDED: \"rtc.remote_track_added\",\n      REMOTE_TRACK_MUTE: \"rtc.remote_track_mute\",\n      REMOTE_TRACK_REMOVED: \"rtc.remote_track_removed\",\n      REMOTE_TRACK_UNMUTE: \"rtc.remote_track_unmute\",\n      SET_LOCAL_DESCRIPTION_FAILED: \"rtc.set_local_description_failed\",\n      SET_REMOTE_DESCRIPTION_FAILED: \"rtc.set_remote_description_failed\",\n      AUDIO_OUTPUT_DEVICE_CHANGED: \"rtc.audio_output_device_changed\",\n      DEVICE_LIST_CHANGED: \"rtc.device_list_changed\",\n      DEVICE_LIST_WILL_CHANGE: \"rtc.device_list_will_change\",\n      DEVICE_LIST_AVAILABLE: \"rtc.device_list_available\",\n      ENDPOINT_MESSAGE_RECEIVED: \"rtc.endpoint_message_received\",\n      LOCAL_UFRAG_CHANGED: \"rtc.local_ufrag_changed\",\n      REMOTE_UFRAG_CHANGED: \"rtc.remote_ufrag_changed\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return r;\n    }), n.d(t, \"b\", function () {\n      return i;\n    }), n.d(t, \"c\", function () {\n      return o;\n    });\n    var r = \"audio\",\n        i = \"presenter\",\n        o = \"video\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(6),\n          i = n(40),\n          o = n.n(i),\n          a = n(22),\n          s = n.n(a),\n          c = n(4),\n          u = n(11),\n          d = n.n(u),\n          l = n(16),\n          p = n(25),\n          f = n(9),\n          h = n(30),\n          m = n.n(h),\n          v = n(3),\n          g = n(8),\n          y = n.n(g),\n          _ = n(41),\n          S = n(7),\n          b = n(5),\n          E = n(14),\n          T = n.n(E);\n\n      function C(e) {\n        return (C = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function A(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function R(e, t) {\n        return !t || \"object\" !== C(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function w(e) {\n        return (w = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function O(e, t) {\n        return (O = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      function k(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function P(e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? k(Object(n), !0).forEach(function (t) {\n            I(e, t, n[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : k(Object(n)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n          });\n        }\n\n        return e;\n      }\n\n      function I(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      var D = Object(c.getLogger)(e);\n      v.a.usesAdapter() && n(128);\n      var N,\n          M,\n          L = new s.a(),\n          x = [\"audio\", \"video\"],\n          j = {\n        video: {\n          aspectRatio: 16 / 9,\n          height: {\n            ideal: 720,\n            max: 720,\n            min: 240\n          }\n        }\n      },\n          F = 5,\n          U = \"default\",\n          H = !1,\n          J = !1,\n          G = !1,\n          B = !1,\n          V = !1,\n          q = !1,\n          W = document.createElement(\"audio\"),\n          K = void 0 !== W.setSinkId;\n\n      function z() {\n        if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) return function (e) {\n          navigator.mediaDevices.enumerateDevices().then(e, function () {\n            return e([]);\n          });\n        };\n      }\n\n      function $(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n            n = {\n          audio: !1,\n          video: !1\n        },\n            r = v.a.isFirefox() || v.a.isSafariWithVP8() || v.a.isEdge() || v.a.isReactNative();\n\n        if (e.indexOf(\"video\") >= 0) {\n          if (n.video = {\n            mandatory: {},\n            optional: []\n          }, t.cameraDeviceId) r && (n.video.deviceId = t.cameraDeviceId), n.video.mandatory.sourceId = t.cameraDeviceId;else {\n            var i = t.facingMode || o.a.USER;\n            r && (n.video.facingMode = i), n.video.optional.push({\n              facingMode: i\n            });\n          }\n          (t.minFps || t.maxFps || t.fps) && ((t.minFps || t.fps) && (t.minFps = t.minFps || t.fps, n.video.mandatory.minFrameRate = t.minFps), t.maxFps && (n.video.mandatory.maxFrameRate = t.maxFps)), function (e, t, n) {\n            m.a[n] && (t && (e.video.width = {\n              ideal: m.a[n].width\n            }, e.video.height = {\n              ideal: m.a[n].height\n            }), e.video.mandatory.minWidth = m.a[n].width, e.video.mandatory.minHeight = m.a[n].height), e.video.mandatory.minWidth && (e.video.mandatory.maxWidth = e.video.mandatory.minWidth), e.video.mandatory.minHeight && (e.video.mandatory.maxHeight = e.video.mandatory.minHeight);\n          }(n, r, t.resolution);\n        }\n\n        if (e.indexOf(\"audio\") >= 0 && (v.a.isReactNative() ? n.audio = !0 : v.a.isFirefox() ? t.micDeviceId ? n.audio = {\n          mandatory: {},\n          deviceId: t.micDeviceId,\n          optional: [{\n            sourceId: t.micDeviceId\n          }]\n        } : n.audio = !0 : (n.audio = {\n          mandatory: {},\n          optional: []\n        }, t.micDeviceId && (r && (n.audio.deviceId = t.micDeviceId), n.audio.optional.push({\n          sourceId: t.micDeviceId\n        })), n.audio.optional.push({\n          echoCancellation: !G && !J\n        }, {\n          googEchoCancellation: !G && !J\n        }, {\n          googAutoGainControl: !V && !J\n        }, {\n          googNoiseSuppression: !B && !J\n        }, {\n          googHighpassFilter: !q && !J\n        }, {\n          googNoiseSuppression2: !B && !J\n        }, {\n          googEchoCancellation2: !G && !J\n        }, {\n          googAutoGainControl2: !V && !J\n        }))), e.indexOf(\"screen\") >= 0) if (v.a.isChrome()) n.video = {\n          mandatory: X(P({}, t, {\n            source: \"screen\"\n          })),\n          optional: []\n        };else if (v.a.isFirefox()) n.video = {\n          mozMediaSource: \"window\",\n          mediaSource: \"window\",\n          frameRate: t.frameRate || {\n            min: F,\n            max: F\n          }\n        };else {\n          var a = \"'screen' WebRTC media source is supported only in Chrome and Firefox\";\n          d.a.callErrorHandler(new Error(a)), D.error(a);\n        }\n        return e.indexOf(\"desktop\") >= 0 && (n.video = {\n          mandatory: X(P({}, t, {\n            source: \"desktop\"\n          })),\n          optional: []\n        }), t.bandwidth && (n.video || (n.video = {\n          mandatory: {},\n          optional: []\n        }), n.video.optional.push({\n          bandwidth: t.bandwidth\n        })), v.a.isFirefox() && t.firefox_fake_device && (n.fake = !0), n;\n      }\n\n      function X() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = e.desktopStream,\n            n = e.frameRate,\n            r = void 0 === n ? {\n          min: F,\n          max: F\n        } : n,\n            i = r.max,\n            o = r.min,\n            a = {\n          chromeMediaSource: e.source,\n          maxWidth: window.screen.width,\n          maxHeight: window.screen.height\n        };\n        return \"number\" == typeof o && (a.minFrameRate = o), \"number\" == typeof i && (a.maxFrameRate = i), void 0 !== t && (a.chromeMediaSourceId = t), a;\n      }\n\n      function Q() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = {\n          frameRate: F\n        },\n            n = e.desktopSharingFrameRate;\n        return n && n.max && (t.frameRate = n.max), t;\n      }\n\n      function Y(e, t) {\n        var n = Boolean(t) && t.getAudioTracks().length > 0,\n            r = Boolean(t) && t.getVideoTracks().length > 0,\n            i = {};\n        -1 !== e.indexOf(\"video\") && (i.video = r), -1 !== e.indexOf(\"audio\") && (i.audio = n), L.emit(y.a.GRANTED_PERMISSIONS, i);\n      }\n\n      function Z(e) {\n        return e.length !== N.length || e.map(t).sort().join(\"\") !== N.map(t).sort().join(\"\");\n\n        function t(e) {\n          return JSON.stringify({\n            kind: e.kind,\n            deviceId: e.deviceId,\n            groupId: e.groupId,\n            label: e.label,\n            facing: e.facing\n          });\n        }\n      }\n\n      function ee(e) {\n        var t = e.filter(function (e) {\n          return \"audioinput\" === e.kind;\n        }).length,\n            n = e.filter(function (e) {\n          return \"audiooutput\" === e.kind;\n        }).length,\n            i = e.filter(function (e) {\n          return \"videoinput\" === e.kind;\n        }).length,\n            o = e.filter(function (e) {\n          return \"videooutput\" === e.kind;\n        }).length;\n        e.forEach(function (e) {\n          var a = {\n            audio_input_device_count: t,\n            audio_output_device_count: n,\n            video_input_device_count: i,\n            video_output_device_count: o,\n            device_id: e.deviceId,\n            device_group_id: e.groupId,\n            device_kind: e.kind,\n            device_label: e.label\n          };\n          b.a.sendAnalytics(r.l, a);\n        });\n      }\n\n      function te(e) {\n        N = e.slice(0), D.info(\"list of media devices has changed:\", N), ee(N), L.emit(y.a.DEVICE_LIST_WILL_CHANGE, e), L.emit(y.a.DEVICE_LIST_CHANGED, e);\n      }\n\n      function ne(e, t) {\n        var n,\n            r,\n            i,\n            o = [];\n\n        if (e) {\n          var a = e.audioVideo;\n\n          if (a) {\n            var s = a.getAudioTracks();\n\n            if (s.length) {\n              n = new MediaStream();\n\n              for (var c = 0; c < s.length; c++) {\n                n.addTrack(s[c]);\n              }\n            }\n\n            var u = a.getVideoTracks();\n\n            if (u.length) {\n              i = new MediaStream();\n\n              for (var d = 0; d < u.length; d++) {\n                i.addTrack(u[d]);\n              }\n            }\n          } else n = e.audio, i = e.video;\n\n          r = e.desktop;\n        }\n\n        if (r) {\n          var l = r,\n              p = l.stream,\n              h = l.sourceId,\n              m = l.sourceType;\n          o.push({\n            stream: p,\n            sourceId: h,\n            sourceType: m,\n            track: p.getVideoTracks()[0],\n            mediaType: f.c,\n            videoType: T.a.DESKTOP\n          });\n        }\n\n        return n && o.push({\n          stream: n,\n          track: n.getAudioTracks()[0],\n          mediaType: f.a,\n          videoType: null\n        }), i && o.push({\n          stream: i,\n          track: i.getVideoTracks()[0],\n          mediaType: f.c,\n          videoType: T.a.CAMERA,\n          resolution: t\n        }), o;\n      }\n\n      function re(e, t) {\n        var n,\n            r = \"srcObject\";\n        (r in e || (r = \"mozSrcObject\") in e || (r = null), r) ? e[r] = t : (t && ((n = t.jitsiObjectURL) || (t.jitsiObjectURL = n = URL.createObjectURL(t))), e.src = n || \"\");\n      }\n\n      var ie = new (function (e) {\n        function t() {\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), R(this, w(t).call(this, L));\n        }\n\n        var n, r, i;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && O(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"init\",\n          value: function value() {\n            var e = this,\n                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            if (\"boolean\" == typeof t.disableAEC && (G = t.disableAEC, D.info(\"Disable AEC: \".concat(G))), \"boolean\" == typeof t.disableNS && (B = t.disableNS, D.info(\"Disable NS: \".concat(B))), \"boolean\" == typeof t.disableAP && (J = t.disableAP, D.info(\"Disable AP: \".concat(J))), \"boolean\" == typeof t.disableAGC && (V = t.disableAGC, D.info(\"Disable AGC: \".concat(V))), \"boolean\" == typeof t.disableHPF && (q = t.disableHPF, D.info(\"Disable HPF: \".concat(q))), N = void 0, window.clearInterval(M), M = void 0, this.enumerateDevices = z(), v.a.usesNewGumFlow()) this.RTCPeerConnectionType = RTCPeerConnection, this.attachMediaStream = oe(function (e, t) {\n              e && (e.srcObject = t);\n            }), this.getStreamID = function (e) {\n              return e.id;\n            }, this.getTrackID = function (e) {\n              return e.id;\n            };else {\n              if (!v.a.isChromiumBased() && !v.a.isReactNative()) {\n                var n = \"Endpoint does not appear to be WebRTC-capable\";\n                throw D.error(n), new Error(n);\n              }\n\n              this.RTCPeerConnectionType = RTCPeerConnection, this.attachMediaStream = oe(function (e, t) {\n                return re(e, t), e;\n              }), this.getStreamID = function (e) {\n                var t = e.id;\n                return \"number\" == typeof t ? t : S.a.filterSpecialChars(t);\n              }, this.getTrackID = function (e) {\n                return e.id;\n              }, MediaStream.prototype.getVideoTracks || (MediaStream.prototype.getVideoTracks = function () {\n                return this.videoTracks;\n              }), MediaStream.prototype.getAudioTracks || (MediaStream.prototype.getAudioTracks = function () {\n                return this.audioTracks;\n              });\n            }\n            this._initPCConstraints(t), _.a.init(t, this.getUserMediaWithConstraints.bind(this)), this.isDeviceListAvailable() && this.enumerateDevices(function (t) {\n              N = t.splice(0), D.debug(\"Available devices: \", N), ee(N), L.emit(y.a.DEVICE_LIST_AVAILABLE, N);\n\n              var n = function n() {\n                return e.enumerateDevices(function (e) {\n                  Z(e) && te(e);\n                });\n              };\n\n              v.a.supportsDeviceChangeEvent() ? navigator.mediaDevices.addEventListener(\"devicechange\", n) : M = window.setInterval(n, 3e3);\n            });\n          }\n        }, {\n          key: \"_initPCConstraints\",\n          value: function value(e) {\n            v.a.isFirefox() ? this.pcConstraints = {} : (v.a.isChromiumBased() || v.a.isReactNative()) && (this.pcConstraints = {\n              optional: [{\n                googHighStartBitrate: 0\n              }, {\n                googPayloadPadding: !0\n              }, {\n                googScreencastMinBitrate: 100\n              }, {\n                googCpuOveruseDetection: !0\n              }, {\n                googCpuOveruseEncodeUsage: !0\n              }, {\n                googCpuUnderuseThreshold: 55\n              }, {\n                googCpuOveruseThreshold: 85\n              }]\n            }, e.useIPv6 && this.pcConstraints.optional.push({\n              googIPv6: !0\n            }), this.p2pPcConstraints = JSON.parse(JSON.stringify(this.pcConstraints))), this.p2pPcConstraints = this.p2pPcConstraints || this.pcConstraints;\n          }\n        }, {\n          key: \"getUserMediaWithConstraints\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                n = $(e, t);\n            return D.info(\"Get media constraints\", n), new Promise(function (t, r) {\n              navigator.mediaDevices.getUserMedia(n).then(function (n) {\n                D.log(\"onUserMediaSuccess\"), Y(e, n), t(n);\n              }).catch(function (t) {\n                D.warn(\"Failed to get access to local media. \" + \" \".concat(t, \" \").concat(n, \" \")), Y(e, void 0), r(new l.a(t, n, e));\n              });\n            });\n          }\n        }, {\n          key: \"_newGetUserMediaWithConstraints\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n            return new Promise(function (n, r) {\n              navigator.mediaDevices.getUserMedia(t).then(function (t) {\n                D.log(\"onUserMediaSuccess\"), Y(e, t), n(t);\n              }).catch(function (n) {\n                D.warn(\"Failed to get access to local media. \" + \" \".concat(n, \" \").concat(t, \" \")), Y(e, void 0), r(new l.a(n, t, e));\n              });\n            });\n          }\n        }, {\n          key: \"_newGetDesktopMedia\",\n          value: function value(e) {\n            var t = this;\n            return _.a.isSupported() && v.a.supportsVideo() ? new Promise(function (n, r) {\n              _.a.obtainStream(t._parseDesktopSharingOptions(e), function (e) {\n                n(e);\n              }, function (e) {\n                r(e);\n              });\n            }) : Promise.reject(new Error(\"Desktop sharing is not supported!\"));\n          }\n        }, {\n          key: \"obtainAudioAndVideoPermissions\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            e.devices = e.devices || [].concat(x), e.resolution = e.resolution || 720;\n            var t = e.devices.includes(\"desktop\");\n            return t && !_.a.isSupported() ? Promise.reject(new Error(\"Desktop sharing is not supported!\")) : this._getAudioAndVideoStreams(e).then(function (t) {\n              return ne(t, e.resolution);\n            });\n          }\n        }, {\n          key: \"_getAudioAndVideoStreams\",\n          value: function value(e) {\n            var t = this,\n                n = e.devices.includes(\"desktop\");\n            return e.devices = e.devices.filter(function (e) {\n              return \"desktop\" !== e;\n            }), (e.devices.length ? this.getUserMediaWithConstraints(e.devices, e) : Promise.resolve(null)).then(function (n) {\n              var r = t._getMissingTracks(e.devices, n);\n\n              return r.length ? (t.stopMediaStream(n), t.getUserMediaWithConstraints(r, e).then(function () {\n                return Promise.reject(new l.a({\n                  name: \"UnknownError\"\n                }, $(e.devices, e), r));\n              })) : n;\n            }).then(function (r) {\n              if (!n) return {\n                audioVideo: r\n              };\n              if (e.desktopSharingSourceDevice) throw t.stopMediaStream(r), new Error(\"Using a camera as screenshare source isnot supported on this browser.\");\n              return new Promise(function (n, i) {\n                _.a.obtainStream(t._parseDesktopSharingOptions(e), function (e) {\n                  return n({\n                    audioVideo: r,\n                    desktop: e\n                  });\n                }, function (e) {\n                  r && t.stopMediaStream(r), i(e);\n                });\n              });\n            });\n          }\n        }, {\n          key: \"_getMissingTracks\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                t = arguments.length > 1 ? arguments[1] : void 0,\n                n = [],\n                r = e.includes(\"audio\"),\n                i = t && t.getAudioTracks().length > 0;\n            r && !i && n.push(\"audio\");\n            var o = e.includes(\"video\"),\n                a = t && t.getVideoTracks().length > 0;\n            return o && !a && n.push(\"video\"), n;\n          }\n        }, {\n          key: \"_parseDesktopSharingOptions\",\n          value: function value(e) {\n            return P({}, e.desktopSharingExtensionExternalInstallation, {\n              desktopSharingSources: e.desktopSharingSources,\n              gumOptions: {\n                frameRate: e.desktopSharingFrameRate\n              },\n              trackOptions: Q(e)\n            });\n          }\n        }, {\n          key: \"newObtainAudioAndVideoPermissions\",\n          value: function value(e) {\n            var t = this;\n            D.info(\"Using the new gUM flow\");\n\n            var n = [],\n                r = function () {\n              if (-1 === (e.devices || []).indexOf(\"desktop\")) return Promise.resolve();\n              var t = e.desktopSharingExtensionExternalInstallation,\n                  n = e.desktopSharingSourceDevice,\n                  r = e.desktopSharingSources,\n                  i = e.desktopSharingFrameRate;\n\n              if (n) {\n                var o = N && N.find(function (e) {\n                  return \"videoinput\" === e.kind && (e.deviceId === n || e.label === n);\n                }),\n                    a = this._parseDesktopSharingOptions(e),\n                    s = a.gumOptions,\n                    c = a.trackOptions,\n                    u = {\n                  video: P({}, s, {\n                    deviceId: {\n                      exact: o && o.deviceId || n\n                    }\n                  })\n                };\n\n                return this._newGetUserMediaWithConstraints([\"video\"], u).then(function (e) {\n                  var t = e && e.getTracks()[0];\n                  return (t && t.applyConstraints ? t.applyConstraints(c) : Promise.resolve()).then(function () {\n                    return {\n                      sourceType: \"device\",\n                      stream: e\n                    };\n                  });\n                });\n              }\n\n              return this._newGetDesktopMedia({\n                desktopSharingExtensionExternalInstallation: t,\n                desktopSharingSources: r,\n                desktopSharingFrameRate: i\n              });\n            }.bind(this),\n                i = function () {\n              var t = (e.devices || [\"audio\", \"video\"]).filter(function (e) {\n                return \"audio\" === e || \"video\" === e && v.a.supportsVideo();\n              });\n              if (!t.length) return Promise.resolve();\n\n              var n = function () {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                    n = JSON.parse(JSON.stringify(t.constraints || j));\n                if (e.indexOf(\"video\") >= 0) {\n                  if (n.video || (n.video = {}), t.cameraDeviceId) n.video.deviceId = t.cameraDeviceId;else {\n                    var r = t.facingMode || o.a.USER;\n                    n.video.facingMode = r;\n                  }\n                } else n.video = !1;\n                return e.indexOf(\"audio\") >= 0 ? (n.audio && \"boolean\" != typeof n.audio || (n.audio = {}), n.audio.optional || (n.audio.optional = []), n.audio.optional.push({\n                  sourceId: t.micDeviceId\n                }, {\n                  echoCancellation: !G && !J\n                }, {\n                  googEchoCancellation: !G && !J\n                }, {\n                  googAutoGainControl: !V && !J\n                }, {\n                  googNoiseSuppression: !B && !J\n                }, {\n                  googHighpassFilter: !q && !J\n                }, {\n                  googNoiseSuppression2: !B && !J\n                }, {\n                  googEchoCancellation2: !G && !J\n                }, {\n                  googAutoGainControl2: !V && !J\n                })) : n.audio = !1, e.indexOf(\"desktop\") >= 0 && (n.video && \"boolean\" != typeof n.video || (n.video = {}), n.video = {\n                  mandatory: X(P({}, t, {\n                    source: \"desktop\"\n                  }))\n                }), n;\n              }(t, e);\n\n              return D.info(\"Got media constraints: \", n), this._newGetUserMediaWithConstraints(t, n);\n            }.bind(this);\n\n            return r().then(function (e) {\n              if (e) {\n                var t = e.stream,\n                    r = e.sourceId,\n                    i = e.sourceType;\n                n.push({\n                  stream: t,\n                  sourceId: r,\n                  sourceType: i,\n                  track: t.getVideoTracks()[0],\n                  videoType: T.a.DESKTOP\n                });\n              }\n            }).then(i).then(function (t) {\n              if (t) {\n                var r = t.getAudioTracks();\n\n                if (r.length) {\n                  var i = new MediaStream(r);\n                  n.push({\n                    stream: i,\n                    track: i.getAudioTracks()[0],\n                    effects: e.effects\n                  });\n                }\n\n                var o = t.getVideoTracks();\n\n                if (o.length) {\n                  var a = new MediaStream(o);\n                  n.push({\n                    stream: a,\n                    track: a.getVideoTracks()[0],\n                    videoType: T.a.CAMERA,\n                    effects: e.effects\n                  });\n                }\n              }\n            }).then(function () {\n              return n;\n            }).catch(function (e) {\n              return n.forEach(function (e) {\n                var n = e.stream;\n                t.stopMediaStream(n);\n              }), Promise.reject(e);\n            });\n          }\n        }, {\n          key: \"isDeviceListAvailable\",\n          value: function value() {\n            return Boolean(navigator.mediaDevices && navigator.mediaDevices.enumerateDevices);\n          }\n        }, {\n          key: \"isDeviceChangeAvailable\",\n          value: function value(e) {\n            return \"output\" === e || \"audiooutput\" === e ? K : v.a.isChromiumBased() || v.a.isFirefox() || v.a.isEdge();\n          }\n        }, {\n          key: \"stopMediaStream\",\n          value: function value(e) {\n            if (e) {\n              e.getTracks().forEach(function (e) {\n                e.stop && e.stop();\n              }), e.stop && e.stop(), e.release && e.release();\n              var t = e.jitsiObjectURL;\n              t && (delete e.jitsiObjectURL, URL.revokeObjectURL(t));\n            }\n          }\n        }, {\n          key: \"isDesktopSharingEnabled\",\n          value: function value() {\n            return _.a.isSupported();\n          }\n        }, {\n          key: \"setAudioOutputDevice\",\n          value: function value(e) {\n            return this.isDeviceChangeAvailable(\"output\") ? W.setSinkId(e).then(function () {\n              U = e, H = !0, D.log(\"Audio output device set to \".concat(e)), L.emit(y.a.AUDIO_OUTPUT_DEVICE_CHANGED, e);\n            }) : Promise.reject(new Error(\"Audio output device change is not supported\"));\n          }\n        }, {\n          key: \"getAudioOutputDevice\",\n          value: function value() {\n            return U;\n          }\n        }, {\n          key: \"getCurrentlyAvailableMediaDevices\",\n          value: function value() {\n            return N;\n          }\n        }, {\n          key: \"getEventDataForActiveDevice\",\n          value: function value(e) {\n            var t = [],\n                n = {\n              deviceId: e.deviceId,\n              kind: e.kind,\n              label: e.label,\n              groupId: e.groupId\n            };\n            return t.push(n), {\n              deviceList: t\n            };\n          }\n        }, {\n          key: \"setSuspendVideo\",\n          value: function value(e, t) {\n            e.optional || (e.optional = []), e.optional = e.optional.filter(function (e) {\n              return !e.hasOwnProperty(\"googSuspendBelowMinBitrate\");\n            }), t && e.optional.push({\n              googSuspendBelowMinBitrate: \"true\"\n            });\n          }\n        }]) && A(n.prototype, r), i && A(n, i), t;\n      }(p.a))();\n\n      function oe(e) {\n        return function (t, n) {\n          var r = e.apply(ie, arguments);\n          return n && ie.isDeviceChangeAvailable(\"output\") && n.getAudioTracks && n.getAudioTracks().length && H && t.setSinkId(ie.getAudioOutputDevice()).catch(function (e) {\n            var n = new l.a(e, null, [\"audiooutput\"]);\n            d.a.callUnhandledRejectionHandler({\n              promise: this,\n              reason: n\n            }), D.warn(\"Failed to set audio output device for the element. Default audio output device will be used instead\", t, n);\n          }), r;\n        };\n      }\n\n      t.a = ie;\n    }).call(this, \"modules/RTC/RTCUtils.js\");\n  }, function (e, t) {\n    var n = [],\n        r = window.onerror;\n    var i = window.onunhandledrejection;\n    window.onerror = function () {\n      for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) {\n        t[i] = arguments[i];\n      }\n\n      n.forEach(function (e) {\n        return e.apply(void 0, t);\n      }), r && r.apply(void 0, t);\n    }, window.onunhandledrejection = function (e) {\n      n.forEach(function (t) {\n        return t(null, null, null, null, e.reason);\n      }), i && i(e);\n    };\n    var o = {\n      addHandler: function addHandler(e) {\n        n.push(e);\n      },\n      callErrorHandler: function callErrorHandler(e) {\n        var t = window.onerror;\n        t && t(null, null, null, null, e);\n      },\n      callUnhandledRejectionHandler: function callUnhandledRejectionHandler(e) {\n        var t = window.onunhandledrejection;\n        t && t(e);\n      }\n    };\n    e.exports = o;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return D;\n      });\n\n      var r = n(4),\n          i = n(67),\n          o = n(11),\n          a = n.n(o),\n          s = n(1),\n          c = n(59),\n          u = n(25),\n          d = n(55),\n          l = n(9),\n          p = n(3),\n          f = n(8),\n          h = n.n(f),\n          m = n(10),\n          v = n(5),\n          g = n(72),\n          y = n(14),\n          _ = n.n(y);\n\n      function S(e) {\n        return (S = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function b(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function E(e) {\n        return (E = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function T(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function C(e, t) {\n        return (C = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      function A(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function R(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      var w = Object(r.getLogger)(e),\n          O = 0,\n          k = 0;\n\n      function P(e, t) {\n        var n = [],\n            r = null;\n        return e.forEach(function (e) {\n          e.mediaType === l.a ? r = t.micDeviceId : e.videoType === _.a.CAMERA && (r = t.cameraDeviceId), k = Object(d.a)(k);\n          var i = new c.a(function (e) {\n            for (var t = 1; t < arguments.length; t++) {\n              var n = null != arguments[t] ? arguments[t] : {};\n              t % 2 ? A(Object(n), !0).forEach(function (t) {\n                R(e, t, n[t]);\n              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : A(Object(n)).forEach(function (t) {\n                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n              });\n            }\n\n            return e;\n          }({}, e, {\n            deviceId: r,\n            facingMode: t.facingMode,\n            rtcId: k,\n            effects: t.effects\n          }));\n          n.push(i);\n        }), n;\n      }\n\n      function I() {\n        return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).map(function (e) {\n          var t = e.sourceId,\n              n = e.sourceType,\n              r = e.stream,\n              i = e.track,\n              o = e.videoType,\n              a = e.effects,\n              s = i.getSettings(),\n              u = s.deviceId,\n              l = s.facingMode;\n          return k = Object(d.a)(k), new c.a({\n            deviceId: u,\n            facingMode: l,\n            mediaType: i.kind,\n            rtcId: k,\n            sourceId: t,\n            sourceType: n,\n            stream: r,\n            track: i,\n            videoType: o || null,\n            effects: a\n          });\n        });\n      }\n\n      var D = function (e) {\n        function t(e) {\n          var n,\n              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (n = function (e, t) {\n            return !t || \"object\" !== S(t) && \"function\" != typeof t ? T(e) : t;\n          }(this, E(t).call(this))).conference = e, n.peerConnections = new Map(), n.localTracks = [], n.options = r, n._channel = null, n._channelOpen = !1, n._lastN = -1, n._lastNEndpoints = null, n._maxFrameHeight = void 0, n._pinnedEndpoint = null, n._selectedEndpoints = [], n._lastNChangeListener = n._onLastNChanged.bind(T(n)), n._onDeviceListChanged = n._onDeviceListChanged.bind(T(n)), n._updateAudioOutputForAudioTracks = n._updateAudioOutputForAudioTracks.bind(T(n)), m.a.isDeviceChangeAvailable(\"output\") && (m.a.addListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED, n._updateAudioOutputForAudioTracks), m.a.addListener(h.a.DEVICE_LIST_CHANGED, n._onDeviceListChanged)), n;\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && C(e, t);\n        }(t, e), n = t, o = [{\n          key: \"newCreateLocalTracks\",\n          value: function value(e) {\n            return I(e);\n          }\n        }, {\n          key: \"obtainAudioAndVideoPermissions\",\n          value: function value(e) {\n            var t = p.a.usesNewGumFlow();\n            return (t ? m.a.newObtainAudioAndVideoPermissions(e) : m.a.obtainAudioAndVideoPermissions(e)).then(function (n) {\n              return t ? I(n) : P(n, e);\n            });\n          }\n        }, {\n          key: \"addListener\",\n          value: function value(e, t) {\n            m.a.addListener(e, t);\n          }\n        }, {\n          key: \"removeListener\",\n          value: function value(e, t) {\n            m.a.removeListener(e, t);\n          }\n        }, {\n          key: \"init\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            return this.options = e, m.a.init(this.options);\n          }\n        }, {\n          key: \"getPCConstraints\",\n          value: function value(e) {\n            var t = e ? m.a.p2pPcConstraints : m.a.pcConstraints;\n            return t ? JSON.parse(JSON.stringify(t)) : {};\n          }\n        }, {\n          key: \"attachMediaStream\",\n          value: function value(e, t) {\n            return m.a.attachMediaStream(e, t);\n          }\n        }, {\n          key: \"getStreamID\",\n          value: function value(e) {\n            return m.a.getStreamID(e);\n          }\n        }, {\n          key: \"getTrackID\",\n          value: function value(e) {\n            return m.a.getTrackID(e);\n          }\n        }, {\n          key: \"isDeviceListAvailable\",\n          value: function value() {\n            return m.a.isDeviceListAvailable();\n          }\n        }, {\n          key: \"isDeviceChangeAvailable\",\n          value: function value(e) {\n            return m.a.isDeviceChangeAvailable(e);\n          }\n        }, {\n          key: \"isWebRtcSupported\",\n          value: function value() {\n            return p.a.isSupported();\n          }\n        }, {\n          key: \"getAudioOutputDevice\",\n          value: function value() {\n            return m.a.getAudioOutputDevice();\n          }\n        }, {\n          key: \"getCurrentlyAvailableMediaDevices\",\n          value: function value() {\n            return m.a.getCurrentlyAvailableMediaDevices();\n          }\n        }, {\n          key: \"getEventDataForActiveDevice\",\n          value: function value(e) {\n            return m.a.getEventDataForActiveDevice(e);\n          }\n        }, {\n          key: \"setAudioOutputDevice\",\n          value: function value(e) {\n            return m.a.setAudioOutputDevice(e);\n          }\n        }, {\n          key: \"isUserStream\",\n          value: function value(e) {\n            return t.isUserStreamById(m.a.getStreamID(e));\n          }\n        }, {\n          key: \"isUserStreamById\",\n          value: function value(e) {\n            return e && \"mixedmslabel\" !== e && \"default\" !== e;\n          }\n        }, {\n          key: \"enumerateDevices\",\n          value: function value(e) {\n            m.a.enumerateDevices(e);\n          }\n        }, {\n          key: \"stopMediaStream\",\n          value: function value(e) {\n            m.a.stopMediaStream(e);\n          }\n        }, {\n          key: \"isDesktopSharingEnabled\",\n          value: function value() {\n            return m.a.isDesktopSharingEnabled();\n          }\n        }], (r = [{\n          key: \"destroy\",\n          value: function value() {\n            m.a.removeListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED, this._updateAudioOutputForAudioTracks), m.a.removeListener(h.a.DEVICE_LIST_CHANGED, this._onDeviceListChanged), this.removeListener(h.a.LASTN_ENDPOINT_CHANGED, this._lastNChangeListener), this._channelOpenListener && this.removeListener(h.a.DATA_CHANNEL_OPEN, this._channelOpenListener);\n          }\n        }, {\n          key: \"initializeBridgeChannel\",\n          value: function value(e, t) {\n            var n = this;\n            this._channel = new i.a(e, t, this.eventEmitter), this._channelOpenListener = function () {\n              n._channelOpen = !0;\n\n              try {\n                n._channel.sendPinnedEndpointMessage(n._pinnedEndpoint), n._channel.sendSelectedEndpointsMessage(n._selectedEndpoints), void 0 !== n._maxFrameHeight && n._channel.sendReceiverVideoConstraintMessage(n._maxFrameHeight);\n              } catch (e) {\n                a.a.callErrorHandler(e), w.error(\"Cannot send selected(\".concat(n._selectedEndpoint, \")\") + \"pinned(\".concat(n._pinnedEndpoint, \")\") + \"frameHeight(\".concat(n._maxFrameHeight, \") endpoint message\"), e);\n              }\n\n              n.removeListener(h.a.DATA_CHANNEL_OPEN, n._channelOpenListener), n._channelOpenListener = null, -1 !== n._lastN && n._channel.sendSetLastNMessage(n._lastN);\n            }, this.addListener(h.a.DATA_CHANNEL_OPEN, this._channelOpenListener), this.addListener(h.a.LASTN_ENDPOINT_CHANGED, this._lastNChangeListener);\n          }\n        }, {\n          key: \"_onDeviceListChanged\",\n          value: function value() {\n            this._updateAudioOutputForAudioTracks(m.a.getAudioOutputDevice());\n          }\n        }, {\n          key: \"_onLastNChanged\",\n          value: function value() {\n            var e = this,\n                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                n = this._lastNEndpoints || [],\n                r = [],\n                i = [];\n            this._lastNEndpoints = t, r = n.filter(function (t) {\n              return !e.isInLastN(t);\n            }), i = t.filter(function (e) {\n              return -1 === n.indexOf(e);\n            }), this.conference.eventEmitter.emit(s.LAST_N_ENDPOINTS_CHANGED, r, i);\n          }\n        }, {\n          key: \"onCallEnded\",\n          value: function value() {\n            this._channel && (this._channel && \"websocket\" === this._channel.mode && this._channel.close(), this._channel = null, this._channelOpen = !1);\n          }\n        }, {\n          key: \"setReceiverVideoConstraint\",\n          value: function value(e) {\n            this._maxFrameHeight = e, this._channel && this._channelOpen && this._channel.sendReceiverVideoConstraintMessage(e);\n          }\n        }, {\n          key: \"selectEndpoints\",\n          value: function value(e) {\n            this._selectedEndpoints = e, this._channel && this._channelOpen && this._channel.sendSelectedEndpointsMessage(e);\n          }\n        }, {\n          key: \"pinEndpoint\",\n          value: function value(e) {\n            this._pinnedEndpoint = e, this._channel && this._channelOpen && this._channel.sendPinnedEndpointMessage(e);\n          }\n        }, {\n          key: \"createPeerConnection\",\n          value: function value(e, n, r, i) {\n            var o = t.getPCConstraints(r);\n            void 0 !== i.abtestSuspendVideo && (m.a.setSuspendVideo(o, i.abtestSuspendVideo), v.a.analytics.addPermanentProperties({\n              abtestSuspendVideo: i.abtestSuspendVideo\n            })), p.a.supportsSdpSemantics() && (n.sdpSemantics = \"plan-b\"), O = Object(d.a)(O);\n            var a = new g.a(this, O, e, n, o, r, i);\n            return this.peerConnections.set(a.id, a), a;\n          }\n        }, {\n          key: \"_removePeerConnection\",\n          value: function value(e) {\n            var t = e.id;\n            return !!this.peerConnections.has(t) && (this.peerConnections.delete(t), !0);\n          }\n        }, {\n          key: \"addLocalTrack\",\n          value: function value(e) {\n            if (!e) throw new Error(\"track must not be null nor undefined\");\n            this.localTracks.push(e), e.conference = this.conference;\n          }\n        }, {\n          key: \"getLastN\",\n          value: function value() {\n            return this._lastN;\n          }\n        }, {\n          key: \"getLocalVideoTrack\",\n          value: function value() {\n            var e = this.getLocalTracks(l.c);\n            return e.length ? e[0] : void 0;\n          }\n        }, {\n          key: \"getLocalAudioTrack\",\n          value: function value() {\n            var e = this.getLocalTracks(l.a);\n            return e.length ? e[0] : void 0;\n          }\n        }, {\n          key: \"getLocalTracks\",\n          value: function value(e) {\n            var t = this.localTracks.slice();\n            return void 0 !== e && (t = t.filter(function (t) {\n              return t.getType() === e;\n            })), t;\n          }\n        }, {\n          key: \"getRemoteTracks\",\n          value: function value(e) {\n            var t = [],\n                n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var o, a = this.peerConnections.values()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                var s = o.value.getRemoteTracks(void 0, e);\n                s && (t = t.concat(s));\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == a.return || a.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n\n            return t;\n          }\n        }, {\n          key: \"setAudioMute\",\n          value: function value(e) {\n            var t = [];\n            return this.getLocalTracks(l.a).forEach(function (n) {\n              t.push(e ? n.mute() : n.unmute());\n            }), Promise.all(t);\n          }\n        }, {\n          key: \"removeLocalTrack\",\n          value: function value(e) {\n            var t = this.localTracks.indexOf(e);\n            -1 !== t && this.localTracks.splice(t, 1);\n          }\n        }, {\n          key: \"removeRemoteTracks\",\n          value: function value(e) {\n            var t = [],\n                n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var o, a = this.peerConnections.values()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                var s = o.value.removeRemoteTracks(e);\n                t = t.concat(s);\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == a.return || a.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n\n            return w.debug(\"Removed remote tracks for \".concat(e) + \" count: \".concat(t.length)), t;\n          }\n        }, {\n          key: \"closeBridgeChannel\",\n          value: function value() {\n            this._channel && (this._channel.close(), this._channelOpen = !1, this.removeListener(h.a.LASTN_ENDPOINT_CHANGED, this._lastNChangeListener));\n          }\n        }, {\n          key: \"setAudioLevel\",\n          value: function value(e, t, n, r) {\n            var i = e.getTrackBySSRC(t);\n            i && (i.isAudioTrack() ? (i.isLocal() !== r && w.error(\"\".concat(i, \" was expected to \").concat(r ? \"be\" : \"not be\", \" local\")), i.setAudioLevel(n, e)) : w.warn(\"Received audio level for non-audio track: \".concat(t)));\n          }\n        }, {\n          key: \"sendChannelMessage\",\n          value: function value(e, t) {\n            if (!this._channel) throw new Error(\"Channel support is disabled!\");\n\n            this._channel.sendMessage(e, t);\n          }\n        }, {\n          key: \"setLastN\",\n          value: function value(e) {\n            this._lastN !== e && (this._lastN = e, this._channel && this._channelOpen && this._channel.sendSetLastNMessage(e), this.eventEmitter.emit(h.a.LASTN_VALUE_CHANGED, e));\n          }\n        }, {\n          key: \"isInLastN\",\n          value: function value(e) {\n            return !this._lastNEndpoints || this._lastNEndpoints.indexOf(e) > -1;\n          }\n        }, {\n          key: \"_updateAudioOutputForAudioTracks\",\n          value: function value(e) {\n            var t = this.getRemoteTracks(l.a),\n                n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var o, a = t[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                o.value.setAudioOutput(e);\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == a.return || a.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n          }\n        }]) && b(n.prototype, r), o && b(n, o), t;\n      }(u.a);\n    }).call(this, \"modules/RTC/RTC.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"CHROME_EXTENSION_GENERIC_ERROR\", function () {\n      return r;\n    }), n.d(t, \"CHROME_EXTENSION_INSTALLATION_ERROR\", function () {\n      return i;\n    }), n.d(t, \"CHROME_EXTENSION_USER_GESTURE_REQUIRED\", function () {\n      return o;\n    }), n.d(t, \"CHROME_EXTENSION_USER_CANCELED\", function () {\n      return a;\n    }), n.d(t, \"CONSTRAINT_FAILED\", function () {\n      return s;\n    }), n.d(t, \"ELECTRON_DESKTOP_PICKER_ERROR\", function () {\n      return c;\n    }), n.d(t, \"ELECTRON_DESKTOP_PICKER_NOT_FOUND\", function () {\n      return u;\n    }), n.d(t, \"FIREFOX_EXTENSION_NEEDED\", function () {\n      return d;\n    }), n.d(t, \"GENERAL\", function () {\n      return l;\n    }), n.d(t, \"NOT_FOUND\", function () {\n      return p;\n    }), n.d(t, \"PERMISSION_DENIED\", function () {\n      return f;\n    }), n.d(t, \"TRACK_IS_DISPOSED\", function () {\n      return h;\n    }), n.d(t, \"TRACK_NO_STREAM_FOUND\", function () {\n      return m;\n    }), n.d(t, \"UNSUPPORTED_RESOLUTION\", function () {\n      return v;\n    });\n    var r = \"gum.chrome_extension_generic_error\",\n        i = \"gum.chrome_extension_installation_error\",\n        o = \"gum.chrome_extension_user_gesture_required\",\n        a = \"gum.chrome_extension_user_canceled\",\n        s = \"gum.constraint_failed\",\n        c = \"gum.electron_desktop_picker_error\",\n        u = \"gum.electron_desktop_picker_not_found\",\n        d = \"gum.firefox_extension_needed\",\n        l = \"gum.general\",\n        p = \"gum.not_found\",\n        f = \"gum.permission_denied\",\n        h = \"track.track_is_disposed\",\n        m = \"track.no_stream_found\",\n        v = \"gum.unsupported_resolution\";\n  }, function (e, t) {\n    e.exports = {\n      CAMERA: \"camera\",\n      DESKTOP: \"desktop\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"LOCAL_TRACK_STOPPED\", function () {\n      return r;\n    }), n.d(t, \"TRACK_AUDIO_LEVEL_CHANGED\", function () {\n      return i;\n    }), n.d(t, \"TRACK_AUDIO_OUTPUT_CHANGED\", function () {\n      return o;\n    }), n.d(t, \"TRACK_MUTE_CHANGED\", function () {\n      return a;\n    }), n.d(t, \"TRACK_VIDEOTYPE_CHANGED\", function () {\n      return s;\n    }), n.d(t, \"NO_DATA_FROM_SOURCE\", function () {\n      return c;\n    });\n    var r = \"track.stopped\",\n        i = \"track.audioLevelsChanged\",\n        o = \"track.audioOutputChanged\",\n        a = \"track.trackMuteChanged\",\n        s = \"track.videoTypeChanged\",\n        c = \"track.no_data_from_source\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(13);\n\n    function i(e) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    var o = {};\n\n    function a(e, t, n) {\n      if (\"object\" === i(e) && void 0 !== e.name) switch (this.gum = {\n        error: e,\n        constraints: t,\n        devices: n && Array.isArray(n) ? n.slice(0) : void 0\n      }, e.name) {\n        case \"NotAllowedError\":\n        case \"PermissionDeniedError\":\n        case \"SecurityError\":\n          this.name = r.PERMISSION_DENIED, this.message = o[this.name] + (this.gum.devices || []).join(\", \");\n          break;\n\n        case \"DevicesNotFoundError\":\n        case \"NotFoundError\":\n          this.name = r.NOT_FOUND, this.message = o[this.name] + (this.gum.devices || []).join(\", \");\n          break;\n\n        case \"ConstraintNotSatisfiedError\":\n        case \"OverconstrainedError\":\n          var a = e.constraintName || e.constraint;\n          t && t.video && (!n || n.indexOf(\"video\") > -1) && (\"minWidth\" === a || \"maxWidth\" === a || \"minHeight\" === a || \"maxHeight\" === a || \"width\" === a || \"height\" === a || \"deviceId\" === a) ? (this.name = r.UNSUPPORTED_RESOLUTION, this.message = o[this.name] + function (e, t) {\n            if (t && t.video && t.video.mandatory) switch (e) {\n              case \"width\":\n                return t.video.mandatory.minWidth;\n\n              case \"height\":\n                return t.video.mandatory.minHeight;\n\n              default:\n                return t.video.mandatory[e] || \"\";\n            }\n            return \"\";\n          }(a, t)) : (this.name = r.CONSTRAINT_FAILED, this.message = o[this.name] + e.constraintName);\n          break;\n\n        default:\n          this.name = r.GENERAL, this.message = e.message || o[this.name];\n      } else {\n        if (\"string\" != typeof e) throw new Error(\"Invalid arguments\");\n        o[e] ? (this.name = e, this.message = t || o[e]) : this.message = e;\n      }\n      this.stack = e.stack || new Error().stack;\n    }\n\n    o[r.UNSUPPORTED_RESOLUTION] = \"Video resolution is not supported: \", o[r.CHROME_EXTENSION_INSTALLATION_ERROR] = \"Failed to install Chrome extension\", o[r.CHROME_EXTENSION_USER_GESTURE_REQUIRED] = \"Failed to install Chrome extension - installations can only be initiated by a user gesture.\", o[r.CHROME_EXTENSION_USER_CANCELED] = \"User canceled Chrome's screen sharing prompt\", o[r.CHROME_EXTENSION_GENERIC_ERROR] = \"Unknown error from Chrome extension\", o[r.ELECTRON_DESKTOP_PICKER_ERROR] = \"Unkown error from desktop picker\", o[r.ELECTRON_DESKTOP_PICKER_NOT_FOUND] = \"Failed to detect desktop picker\", o[r.GENERAL] = \"Generic getUserMedia error\", o[r.PERMISSION_DENIED] = \"User denied permission to use device(s): \", o[r.NOT_FOUND] = \"Requested device(s) was/were not found: \", o[r.CONSTRAINT_FAILED] = \"Constraint could not be satisfied: \", o[r.TRACK_IS_DISPOSED] = \"Track has been already disposed\", o[r.TRACK_NO_STREAM_FOUND] = \"Track does not have an associated Media Stream\", a.prototype = Object.create(Error.prototype), a.prototype.constructor = a, t.a = a;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"AUTHENTICATION_REQUIRED\", function () {\n      return r;\n    }), n.d(t, \"CHAT_ERROR\", function () {\n      return i;\n    }), n.d(t, \"CONFERENCE_DESTROYED\", function () {\n      return o;\n    }), n.d(t, \"CONFERENCE_MAX_USERS\", function () {\n      return a;\n    }), n.d(t, \"CONNECTION_ERROR\", function () {\n      return s;\n    }), n.d(t, \"NOT_ALLOWED_ERROR\", function () {\n      return c;\n    }), n.d(t, \"FOCUS_DISCONNECTED\", function () {\n      return u;\n    }), n.d(t, \"FOCUS_LEFT\", function () {\n      return d;\n    }), n.d(t, \"GRACEFUL_SHUTDOWN\", function () {\n      return l;\n    }), n.d(t, \"INCOMPATIBLE_SERVER_VERSIONS\", function () {\n      return p;\n    }), n.d(t, \"OFFER_ANSWER_FAILED\", function () {\n      return f;\n    }), n.d(t, \"PASSWORD_NOT_SUPPORTED\", function () {\n      return h;\n    }), n.d(t, \"PASSWORD_REQUIRED\", function () {\n      return m;\n    }), n.d(t, \"RESERVATION_ERROR\", function () {\n      return v;\n    }), n.d(t, \"SETUP_FAILED\", function () {\n      return g;\n    }), n.d(t, \"VIDEOBRIDGE_NOT_AVAILABLE\", function () {\n      return y;\n    });\n    var r = \"conference.authenticationRequired\",\n        i = \"conference.chatError\",\n        o = \"conference.destroyed\",\n        a = \"conference.max_users\",\n        s = \"conference.connectionError\",\n        c = \"conference.connectionError.notAllowed\",\n        u = \"conference.focusDisconnected\",\n        d = \"conference.focusLeft\",\n        l = \"conference.gracefulShutdown\",\n        p = \"conference.incompatible_server_versions\",\n        f = \"conference.offerAnswerFailed\",\n        h = \"conference.passwordNotSupported\",\n        m = \"conference.passwordRequired\",\n        v = \"conference.reservationError\",\n        g = \"conference.setup_failed\",\n        y = \"conference.videobridgeNotAvailable\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return o;\n    });\n    var r = n(7);\n\n    function i(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (!(Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e))) return;\n        var n = [],\n            r = !0,\n            i = !1,\n            o = void 0;\n\n        try {\n          for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0) {\n            ;\n          }\n        } catch (e) {\n          i = !0, o = e;\n        } finally {\n          try {\n            r || null == s.return || s.return();\n          } finally {\n            if (i) throw o;\n          }\n        }\n\n        return n;\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }();\n    }\n\n    function o(e) {\n      for (var t = e.split(\"\\r\\nm=\"), n = 1, r = t.length; n < r; n++) {\n        var i = \"m=\".concat(t[n]);\n        n !== r - 1 && (i += \"\\r\\n\"), t[n] = i;\n      }\n\n      var o = \"\".concat(t.shift(), \"\\r\\n\");\n      this.media = t, this.raw = o + t.join(\"\"), this.session = o;\n    }\n\n    o.prototype.failICE = !1, o.prototype.removeTcpCandidates = !1, o.prototype.removeUdpCandidates = !1, o.prototype.getMediaSsrcMap = function () {\n      for (var e, t = this, n = {}, i = function i(_i3) {\n        e = r.a.findLines(t.media[_i3], \"a=ssrc:\");\n        var o = {\n          mediaindex: _i3,\n          mid: r.a.parseMID(r.a.findLine(t.media[_i3], \"a=mid:\")),\n          ssrcs: {},\n          ssrcGroups: []\n        };\n        n[_i3] = o, e.forEach(function (e) {\n          var t = e.substring(7).split(\" \")[0];\n          o.ssrcs[t] || (o.ssrcs[t] = {\n            ssrc: t,\n            lines: []\n          }), o.ssrcs[t].lines.push(e);\n        }), (e = r.a.findLines(t.media[_i3], \"a=ssrc-group:\")).forEach(function (e) {\n          var t = e.indexOf(\" \"),\n              n = e.substr(0, t).substr(13),\n              r = e.substr(14 + n.length).split(\" \");\n          r.length && o.ssrcGroups.push({\n            semantics: n,\n            ssrcs: r\n          });\n        });\n      }, o = 0; o < t.media.length; o++) {\n        i(o);\n      }\n\n      return n;\n    }, o.prototype.containsSSRC = function (e) {\n      var t = this.getMediaSsrcMap(),\n          n = !1;\n      return Object.keys(t).forEach(function (r) {\n        n || t[r].ssrcs[e] && (n = !0);\n      }), n;\n    }, o.prototype.mangle = function () {\n      var e, t, n, i, o, a;\n\n      for (e = 0; e < this.media.length; e++) {\n        if ((n = this.media[e].split(\"\\r\\n\")).pop(), \"audio\" === (i = r.a.parseMLine(n.shift())).media) {\n          for (o = \"\", i.fmt.length = 0, t = 0; t < n.length; t++) {\n            if (\"a=rtpmap:\" === n[t].substr(0, 9)) {\n              if (\"CN\" === (a = r.a.parseRTPMap(n[t])).name || \"ISAC\" === a.name) continue;\n              i.fmt.push(a.id);\n            }\n\n            o += \"\".concat(n[t], \"\\r\\n\");\n          }\n\n          this.media[e] = \"\".concat(r.a.buildMLine(i), \"\\r\\n\").concat(o);\n        }\n      }\n\n      this.raw = this.session + this.media.join(\"\");\n    }, o.prototype.removeSessionLines = function (e) {\n      var t = this,\n          n = r.a.findLines(this.session, e);\n      return n.forEach(function (e) {\n        t.session = t.session.replace(\"\".concat(e, \"\\r\\n\"), \"\");\n      }), this.raw = this.session + this.media.join(\"\"), n;\n    }, o.prototype.removeMediaLines = function (e, t) {\n      var n = this,\n          i = r.a.findLines(this.media[e], t);\n      return i.forEach(function (t) {\n        n.media[e] = n.media[e].replace(\"\".concat(t, \"\\r\\n\"), \"\");\n      }), this.raw = this.session + this.media.join(\"\"), i;\n    }, o.prototype.toJingle = function (e, t) {\n      var n, o, a, s, c, u, d, l;\n      if ((s = r.a.findLines(this.session, \"a=group:\")).length) for (n = 0; n < s.length; n++) {\n        var p = (l = s[n].split(\" \")).shift().substr(8);\n\n        for (e.c(\"group\", {\n          xmlns: \"urn:xmpp:jingle:apps:grouping:0\",\n          semantics: p\n        }), o = 0; o < l.length; o++) {\n          e.c(\"content\", {\n            name: l[o]\n          }).up();\n        }\n\n        e.up();\n      }\n\n      for (n = 0; n < this.media.length; n++) {\n        if (\"audio\" === (c = r.a.parseMLine(this.media[n].split(\"\\r\\n\")[0])).media || \"video\" === c.media || \"application\" === c.media) {\n          var f = r.a.findLine(this.media[n], \"a=ssrc:\");\n          d = !!f && f.substring(7).split(\" \")[0], e.c(\"content\", {\n            creator: t,\n            name: c.media\n          });\n          var h = r.a.findLine(this.media[n], \"a=mid:\");\n\n          if (h) {\n            var m = r.a.parseMID(h);\n            e.attrs({\n              name: m\n            });\n          }\n\n          if (r.a.findLine(this.media[n], \"a=rtpmap:\").length) {\n            for (e.c(\"description\", {\n              xmlns: \"urn:xmpp:jingle:apps:rtp:1\",\n              media: c.media\n            }), d && e.attrs({\n              ssrc: d\n            }), o = 0; o < c.fmt.length; o++) {\n              u = r.a.findLine(this.media[n], \"a=rtpmap:\".concat(c.fmt[o])), e.c(\"payload-type\", r.a.parseRTPMap(u));\n              var v = r.a.findLine(this.media[n], \"a=fmtp:\".concat(c.fmt[o]));\n              if (v) for (l = r.a.parseFmtp(v), a = 0; a < l.length; a++) {\n                e.c(\"parameter\", l[a]).up();\n              }\n              this.rtcpFbToJingle(n, e, c.fmt[o]), e.up();\n            }\n\n            var g = r.a.findLines(this.media[n], \"a=crypto:\", this.session);\n\n            if (g.length && (e.c(\"encryption\", {\n              required: 1\n            }), g.forEach(function (t) {\n              return e.c(\"crypto\", r.a.parseCrypto(t)).up();\n            }), e.up()), d) {\n              var y = r.a.parseSSRC(this.media[n]),\n                  _ = !0,\n                  S = !1,\n                  b = void 0;\n\n              try {\n                for (var E, T = y[Symbol.iterator](); !(_ = (E = T.next()).done); _ = !0) {\n                  var C = i(E.value, 2),\n                      A = C[0],\n                      R = C[1];\n                  e.c(\"source\", {\n                    ssrc: A,\n                    xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n                  }), R.forEach(function (t) {\n                    var n = t.indexOf(\" \"),\n                        i = t.substr(n + 1);\n                    if (e.c(\"parameter\"), -1 === i.indexOf(\":\")) e.attrs({\n                      name: i\n                    });else {\n                      var o = i.split(\":\", 2)[0];\n                      e.attrs({\n                        name: o\n                      });\n                      var a = i.split(\":\", 2)[1];\n                      a = r.a.filterSpecialChars(a), e.attrs({\n                        value: a\n                      });\n                    }\n                    e.up();\n                  }), e.up();\n                }\n              } catch (e) {\n                S = !0, b = e;\n              } finally {\n                try {\n                  _ || null == T.return || T.return();\n                } finally {\n                  if (S) throw b;\n                }\n              }\n\n              r.a.findLines(this.media[n], \"a=ssrc-group:\").forEach(function (t) {\n                var n = t.indexOf(\" \"),\n                    r = t.substr(0, n).substr(13),\n                    i = t.substr(14 + r.length).split(\" \");\n                i.length && (e.c(\"ssrc-group\", {\n                  semantics: r,\n                  xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n                }), i.forEach(function (t) {\n                  return e.c(\"source\", {\n                    ssrc: t\n                  }).up();\n                }), e.up());\n              });\n            }\n\n            var w = r.a.findLines(this.media[n], \"a=rid\");\n\n            if (w.length) {\n              var O = w.map(function (e) {\n                return e.split(\":\")[1];\n              }).map(function (e) {\n                return e.split(\" \")[0];\n              });\n              O.forEach(function (t) {\n                e.c(\"source\", {\n                  rid: t,\n                  xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n                }), e.up();\n              }), r.a.findLine(this.media[n], \"a=simulcast\") && (e.c(\"rid-group\", {\n                semantics: \"SIM\",\n                xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n              }), O.forEach(function (t) {\n                e.c(\"source\", {\n                  rid: t\n                }).up();\n              }), e.up());\n            }\n\n            if (r.a.findLine(this.media[n], \"a=rtcp-mux\") && e.c(\"rtcp-mux\").up(), this.rtcpFbToJingle(n, e, \"*\"), (s = r.a.findLines(this.media[n], \"a=extmap:\")).length) for (o = 0; o < s.length; o++) {\n              if (l = r.a.parseExtmap(s[o]), e.c(\"rtp-hdrext\", {\n                xmlns: \"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0\",\n                uri: l.uri,\n                id: l.value\n              }), l.hasOwnProperty(\"direction\")) switch (l.direction) {\n                case \"sendonly\":\n                  e.attrs({\n                    senders: \"responder\"\n                  });\n                  break;\n\n                case \"recvonly\":\n                  e.attrs({\n                    senders: \"initiator\"\n                  });\n                  break;\n\n                case \"sendrecv\":\n                  e.attrs({\n                    senders: \"both\"\n                  });\n                  break;\n\n                case \"inactive\":\n                  e.attrs({\n                    senders: \"none\"\n                  });\n              }\n              e.up();\n            }\n            e.up();\n          }\n\n          this.transportToJingle(n, e);\n          var k = this.media[n];\n          r.a.findLine(k, \"a=sendrecv\", this.session) ? e.attrs({\n            senders: \"both\"\n          }) : r.a.findLine(k, \"a=sendonly\", this.session) ? e.attrs({\n            senders: \"initiator\"\n          }) : r.a.findLine(k, \"a=recvonly\", this.session) ? e.attrs({\n            senders: \"responder\"\n          }) : r.a.findLine(k, \"a=inactive\", this.session) && e.attrs({\n            senders: \"none\"\n          }), \"0\" === c.port && e.attrs({\n            senders: \"rejected\"\n          }), e.up();\n        }\n      }\n\n      return e.up(), e;\n    }, o.prototype.transportToJingle = function (e, t) {\n      var n,\n          i = this;\n      t.c(\"transport\");\n      var o = r.a.findLine(this.media[e], \"a=sctpmap:\", i.session);\n\n      if (o) {\n        var a = r.a.parseSCTPMap(o);\n        t.c(\"sctpmap\", {\n          xmlns: \"urn:xmpp:jingle:transports:dtls-sctp:1\",\n          number: a[0],\n          protocol: a[1]\n        }), a.length > 2 && t.attrs({\n          streams: a[2]\n        }), t.up();\n      }\n\n      if (r.a.findLines(this.media[e], \"a=fingerprint:\", this.session).forEach(function (o) {\n        (n = r.a.parseFingerprint(o)).xmlns = \"urn:xmpp:jingle:apps:dtls:0\", t.c(\"fingerprint\").t(n.fingerprint), delete n.fingerprint, (o = r.a.findLine(i.media[e], \"a=setup:\", i.session)) && (n.setup = o.substr(8)), t.attrs(n), t.up();\n      }), n = r.a.iceparams(this.media[e], this.session)) {\n        n.xmlns = \"urn:xmpp:jingle:transports:ice-udp:1\", t.attrs(n);\n        var s = r.a.findLines(this.media[e], \"a=candidate:\", this.session);\n        s.length && s.forEach(function (e) {\n          var n = r.a.candidateToJingle(e);\n          i.failICE && (n.ip = \"1.1.1.1\");\n          var o = n && \"string\" == typeof n.protocol ? n.protocol.toLowerCase() : \"\";\n          i.removeTcpCandidates && (\"tcp\" === o || \"ssltcp\" === o) || i.removeUdpCandidates && \"udp\" === o || t.c(\"candidate\", n).up();\n        });\n      }\n\n      t.up();\n    }, o.prototype.rtcpFbToJingle = function (e, t, n) {\n      r.a.findLines(this.media[e], \"a=rtcp-fb:\".concat(n)).forEach(function (e) {\n        var n = r.a.parseRTCPFB(e);\n        \"trr-int\" === n.type ? (t.c(\"rtcp-fb-trr-int\", {\n          xmlns: \"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\",\n          value: n.params[0]\n        }), t.up()) : (t.c(\"rtcp-fb\", {\n          xmlns: \"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\",\n          type: n.type\n        }), n.params.length > 0 && t.attrs({\n          subtype: n.params[0]\n        }), t.up());\n      });\n    }, o.prototype.rtcpFbFromJingle = function (e, t) {\n      var n = \"\",\n          r = e.find('>rtcp-fb-trr-int[xmlns=\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\"]');\n      return r.length && (n += \"a=rtcp-fb:* trr-int \", r.attr(\"value\") ? n += r.attr(\"value\") : n += \"0\", n += \"\\r\\n\"), (r = e.find('>rtcp-fb[xmlns=\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\"]')).each(function () {\n        n += \"a=rtcp-fb:\".concat(t, \" \").concat($(this).attr(\"type\")), $(this).attr(\"subtype\") && (n += \" \".concat($(this).attr(\"subtype\"))), n += \"\\r\\n\";\n      }), n;\n    }, o.prototype.fromJingle = function (e) {\n      var t = this;\n      this.raw = \"v=0\\r\\no=- 1923518516 2 IN IP4 0.0.0.0\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n      var n = $(e).find('>group[xmlns=\"urn:xmpp:jingle:apps:grouping:0\"]');\n      n.length && n.each(function (e, n) {\n        var r = $(n).find(\">content\").map(function (e, t) {\n          return t.getAttribute(\"name\");\n        }).get();\n        r.length > 0 && (t.raw += \"a=group:\".concat(n.getAttribute(\"semantics\") || n.getAttribute(\"type\"), \" \").concat(r.join(\" \"), \"\\r\\n\"));\n      }), this.session = this.raw, e.find(\">content\").each(function () {\n        var e = t.jingle2media($(this));\n        t.media.push(e);\n      }), this.raw = this.session + this.media.join(\"\");\n    }, o.prototype.jingle2media = function (e) {\n      var t = e.find(\"description\"),\n          n = \"\",\n          i = this,\n          o = e.find('>transport>sctpmap[xmlns=\"urn:xmpp:jingle:transports:dtls-sctp:1\"]'),\n          a = {\n        media: t.attr(\"media\"),\n        port: \"1\"\n      };\n\n      if (\"rejected\" === e.attr(\"senders\") && (a.port = \"0\"), e.find(\">transport>fingerprint\").length || t.find(\"encryption\").length ? a.proto = o.length ? \"DTLS/SCTP\" : \"RTP/SAVPF\" : a.proto = \"RTP/AVPF\", o.length) {\n        n += \"m=application \".concat(a.port, \" DTLS/SCTP \").concat(o.attr(\"number\"), \"\\r\\n\"), n += \"a=sctpmap:\".concat(o.attr(\"number\"), \" \").concat(o.attr(\"protocol\"));\n        var s = o.attr(\"streams\");\n        n += s ? \" \".concat(s, \"\\r\\n\") : \"\\r\\n\";\n      } else a.fmt = t.find(\"payload-type\").map(function () {\n        return this.getAttribute(\"id\");\n      }).get(), n += \"\".concat(r.a.buildMLine(a), \"\\r\\n\");\n\n      switch (n += \"c=IN IP4 0.0.0.0\\r\\n\", o.length || (n += \"a=rtcp:1 IN IP4 0.0.0.0\\r\\n\"), (a = e.find('>transport[xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\"]')).length && (a.attr(\"ufrag\") && (n += \"\".concat(r.a.buildICEUfrag(a.attr(\"ufrag\")), \"\\r\\n\")), a.attr(\"pwd\") && (n += \"\".concat(r.a.buildICEPwd(a.attr(\"pwd\")), \"\\r\\n\")), a.find(\">fingerprint\").each(function () {\n        n += \"a=fingerprint:\".concat(this.getAttribute(\"hash\")), n += \" \".concat($(this).text()), n += \"\\r\\n\", this.getAttribute(\"setup\") && (n += \"a=setup:\".concat(this.getAttribute(\"setup\"), \"\\r\\n\"));\n      })), e.attr(\"senders\")) {\n        case \"initiator\":\n          n += \"a=sendonly\\r\\n\";\n          break;\n\n        case \"responder\":\n          n += \"a=recvonly\\r\\n\";\n          break;\n\n        case \"none\":\n          n += \"a=inactive\\r\\n\";\n          break;\n\n        case \"both\":\n          n += \"a=sendrecv\\r\\n\";\n      }\n\n      return n += \"a=mid:\".concat(e.attr(\"name\"), \"\\r\\n\"), t.find(\"rtcp-mux\").length && (n += \"a=rtcp-mux\\r\\n\"), t.find(\"encryption\").length && t.find(\"encryption>crypto\").each(function () {\n        n += \"a=crypto:\".concat(this.getAttribute(\"tag\")), n += \" \".concat(this.getAttribute(\"crypto-suite\")), n += \" \".concat(this.getAttribute(\"key-params\")), this.getAttribute(\"session-params\") && (n += \" \".concat(this.getAttribute(\"session-params\"))), n += \"\\r\\n\";\n      }), t.find(\"payload-type\").each(function () {\n        n += \"\".concat(r.a.buildRTPMap(this), \"\\r\\n\"), $(this).find(\">parameter\").length && (n += \"a=fmtp:\".concat(this.getAttribute(\"id\"), \" \"), n += $(this).find(\"parameter\").map(function () {\n          var e = this.getAttribute(\"name\");\n          return (e ? \"\".concat(e, \"=\") : \"\") + this.getAttribute(\"value\");\n        }).get().join(\"; \"), n += \"\\r\\n\"), n += i.rtcpFbFromJingle($(this), this.getAttribute(\"id\"));\n      }), n += i.rtcpFbFromJingle(t, \"*\"), (a = t.find('>rtp-hdrext[xmlns=\"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0\"]')).each(function () {\n        n += \"a=extmap:\".concat(this.getAttribute(\"id\"), \" \").concat(this.getAttribute(\"uri\"), \"\\r\\n\");\n      }), e.find('>transport[xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\"]>candidate').each(function () {\n        var e = this.getAttribute(\"protocol\");\n        e = \"string\" == typeof e ? e.toLowerCase() : \"\", i.removeTcpCandidates && (\"tcp\" === e || \"ssltcp\" === e) || i.removeUdpCandidates && \"udp\" === e || (i.failICE && this.setAttribute(\"ip\", \"1.1.1.1\"), n += r.a.candidateFromJingle(this));\n      }), e.find('description>ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function () {\n        var e = this.getAttribute(\"semantics\"),\n            t = $(this).find(\">source\").map(function () {\n          return this.getAttribute(\"ssrc\");\n        }).get();\n        t.length && (n += \"a=ssrc-group:\".concat(e, \" \").concat(t.join(\" \"), \"\\r\\n\"));\n      }), (a = e.find('description>source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]')).each(function () {\n        var e = this.getAttribute(\"ssrc\");\n        $(this).find(\">parameter\").each(function () {\n          var t = this.getAttribute(\"name\"),\n              i = this.getAttribute(\"value\");\n          i = r.a.filterSpecialChars(i), n += \"a=ssrc:\".concat(e, \" \").concat(t), i && i.length && (n += \":\".concat(i)), n += \"\\r\\n\";\n        });\n      }), n;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = {};\n    n.r(r), n.d(r, \"CHROME\", function () {\n      return a;\n    }), n.d(r, \"OPERA\", function () {\n      return s;\n    }), n.d(r, \"FIREFOX\", function () {\n      return c;\n    }), n.d(r, \"INTERNET_EXPLORER\", function () {\n      return u;\n    }), n.d(r, \"EDGE\", function () {\n      return d;\n    }), n.d(r, \"SAFARI\", function () {\n      return l;\n    }), n.d(r, \"NWJS\", function () {\n      return p;\n    }), n.d(r, \"ELECTRON\", function () {\n      return f;\n    }), n.d(r, \"REACT_NATIVE\", function () {\n      return h;\n    }), n.d(r, \"UNKNOWN\", function () {\n      return m;\n    });\n    var i = n(70),\n        o = n.n(i),\n        a = \"chrome\",\n        s = \"opera\",\n        c = \"firefox\",\n        u = \"iexplorer\",\n        d = \"edge\",\n        l = \"safari\",\n        p = \"nwjs\",\n        f = \"electron\",\n        h = \"react-native\",\n        m = \"unknown\";\n\n    function v(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function g(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var y = {\n      Chrome: a,\n      Chromium: a,\n      Opera: s,\n      Firefox: c,\n      \"Internet Explorer\": u,\n      \"Microsoft Edge\": d,\n      Safari: l\n    };\n\n    function _() {\n      var e = navigator.userAgent;\n\n      if (e.match(/Electron/)) {\n        var t = e.match(/Electron\\/([\\d.]+)/)[1];\n        return {\n          name: f,\n          version: t\n        };\n      }\n    }\n\n    function S() {\n      var e = navigator.userAgent;\n\n      if (e.match(/JitsiMeetNW/)) {\n        var t = e.match(/JitsiMeetNW\\/([\\d.]+)/)[1];\n        return {\n          name: p,\n          version: t\n        };\n      }\n    }\n\n    function b() {\n      var e,\n          t,\n          n = navigator.userAgent.match(/\\b(react[ \\t_-]*native)(?:\\/(\\S+))?/i);\n      if (n || \"ReactNative\" === navigator.product) return n && n.length > 2 && (t = n[1], e = n[2]), t || (t = \"react-native\"), e || (e = \"unknown\"), {\n        name: h,\n        version: e\n      };\n    }\n\n    function E(e) {\n      for (var t, n = [b, _, S], r = 0; r < n.length; r++) {\n        if (t = n[r]()) return t;\n      }\n\n      var i = e.getBrowserName();\n      return i in y ? {\n        name: y[i],\n        version: e.getBrowserVersion()\n      } : (t = function () {\n        var e = navigator.userAgent;\n\n        if (Boolean(window.chrome) && !e.match(/Edge/) && e.match(/Chrome/)) {\n          var t = e.match(/Chrome\\/([\\d.]+)/)[1];\n          return {\n            name: a,\n            version: t\n          };\n        }\n      }()) || {\n        name: m,\n        version: void 0\n      };\n    }\n\n    var T = function () {\n      function e(t) {\n        var n, r;\n\n        if (function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._bowser = o.a.getParser(navigator.userAgent), void 0 === t) {\n          var i = E(this._bowser);\n          n = i.name, r = i.version;\n        } else t.name in y ? (n = y[t.name], r = t.version) : (n = m, r = void 0);\n\n        this._name = n, this._version = r;\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"getName\",\n        value: function value() {\n          return this._name;\n        }\n      }, {\n        key: \"isChrome\",\n        value: function value() {\n          return this._name === a;\n        }\n      }, {\n        key: \"isOpera\",\n        value: function value() {\n          return this._name === s;\n        }\n      }, {\n        key: \"isFirefox\",\n        value: function value() {\n          return this._name === c;\n        }\n      }, {\n        key: \"isIExplorer\",\n        value: function value() {\n          return this._name === u;\n        }\n      }, {\n        key: \"isEdge\",\n        value: function value() {\n          return this._name === d;\n        }\n      }, {\n        key: \"isSafari\",\n        value: function value() {\n          return this._name === l;\n        }\n      }, {\n        key: \"isNWJS\",\n        value: function value() {\n          return this._name === p;\n        }\n      }, {\n        key: \"isElectron\",\n        value: function value() {\n          return this._name === f;\n        }\n      }, {\n        key: \"isReactNative\",\n        value: function value() {\n          return this._name === h;\n        }\n      }, {\n        key: \"getVersion\",\n        value: function value() {\n          return this._version;\n        }\n      }, {\n        key: \"_checkCondition\",\n        value: function value(e) {\n          if (this._version) return this._bowser.satisfies(e);\n        }\n      }, {\n        key: \"isVersionGreaterThan\",\n        value: function value(e) {\n          return this._checkCondition(v({}, this._name, \">\".concat(e)));\n        }\n      }, {\n        key: \"isVersionLessThan\",\n        value: function value(e) {\n          return this._checkCondition(v({}, this._name, \"<\".concat(e)));\n        }\n      }, {\n        key: \"isVersionEqualTo\",\n        value: function value(e) {\n          return this._checkCondition(v({}, this._name, \"~\".concat(e)));\n        }\n      }]) && g(t.prototype, n), r && g(t, r), e;\n    }();\n\n    n(58);\n    n.d(t, \"a\", function () {\n      return T;\n    }), n.d(t, \"b\", function () {\n      return r;\n    });\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"STATUS_AVAILABLE\", function () {\n      return r;\n    }), n.d(t, \"STATUS_UNDEFINED\", function () {\n      return i;\n    }), n.d(t, \"STATUS_BUSY\", function () {\n      return o;\n    }), n.d(t, \"STATE_ON\", function () {\n      return a;\n    }), n.d(t, \"STATE_OFF\", function () {\n      return s;\n    }), n.d(t, \"STATE_PENDING\", function () {\n      return c;\n    }), n.d(t, \"STATE_RETRYING\", function () {\n      return u;\n    }), n.d(t, \"STATE_FAILED\", function () {\n      return d;\n    }), n.d(t, \"ERROR_NO_CONNECTION\", function () {\n      return l;\n    }), n.d(t, \"ERROR_SESSION_EXISTS\", function () {\n      return p;\n    });\n    var r = \"available\",\n        i = \"undefined\",\n        o = \"busy\",\n        a = \"on\",\n        s = \"off\",\n        c = \"pending\",\n        u = \"retrying\",\n        d = \"failed\",\n        l = \"error_no_connection\",\n        p = \"error_session_already_exists\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"CONNECTION_DISCONNECTED\", function () {\n      return r;\n    }), n.d(t, \"CONNECTION_ESTABLISHED\", function () {\n      return i;\n    }), n.d(t, \"CONNECTION_FAILED\", function () {\n      return o;\n    }), n.d(t, \"WRONG_STATE\", function () {\n      return a;\n    });\n    var r = \"connection.connectionDisconnected\",\n        i = \"connection.connectionEstablished\",\n        o = \"connection.connectionFailed\",\n        a = \"connection.wrongState\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r,\n        i = \"object\" == typeof Reflect ? Reflect : null,\n        o = i && \"function\" == typeof i.apply ? i.apply : function (e, t, n) {\n      return Function.prototype.apply.call(e, t, n);\n    };\n    r = i && \"function\" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function (e) {\n      return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));\n    } : function (e) {\n      return Object.getOwnPropertyNames(e);\n    };\n\n    var a = Number.isNaN || function (e) {\n      return e != e;\n    };\n\n    function s() {\n      s.init.call(this);\n    }\n\n    e.exports = s, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._eventsCount = 0, s.prototype._maxListeners = void 0;\n    var c = 10;\n\n    function u(e) {\n      return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners;\n    }\n\n    function d(e, t, n, r) {\n      var i, o, a, s;\n      if (\"function\" != typeof n) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof n);\n      if (void 0 === (o = e._events) ? (o = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit(\"newListener\", t, n.listener ? n.listener : n), o = e._events), a = o[t]), void 0 === a) a = o[t] = n, ++e._eventsCount;else if (\"function\" == typeof a ? a = o[t] = r ? [n, a] : [a, n] : r ? a.unshift(n) : a.push(n), (i = u(e)) > 0 && a.length > i && !a.warned) {\n        a.warned = !0;\n        var c = new Error(\"Possible EventEmitter memory leak detected. \" + a.length + \" \" + String(t) + \" listeners added. Use emitter.setMaxListeners() to increase limit\");\n        c.name = \"MaxListenersExceededWarning\", c.emitter = e, c.type = t, c.count = a.length, s = c, console && console.warn && console.warn(s);\n      }\n      return e;\n    }\n\n    function l() {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e.push(arguments[t]);\n      }\n\n      this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, o(this.listener, this.target, e));\n    }\n\n    function p(e, t, n) {\n      var r = {\n        fired: !1,\n        wrapFn: void 0,\n        target: e,\n        type: t,\n        listener: n\n      },\n          i = l.bind(r);\n      return i.listener = n, r.wrapFn = i, i;\n    }\n\n    function f(e, t, n) {\n      var r = e._events;\n      if (void 0 === r) return [];\n      var i = r[t];\n      return void 0 === i ? [] : \"function\" == typeof i ? n ? [i.listener || i] : [i] : n ? function (e) {\n        for (var t = new Array(e.length), n = 0; n < t.length; ++n) {\n          t[n] = e[n].listener || e[n];\n        }\n\n        return t;\n      }(i) : m(i, i.length);\n    }\n\n    function h(e) {\n      var t = this._events;\n\n      if (void 0 !== t) {\n        var n = t[e];\n        if (\"function\" == typeof n) return 1;\n        if (void 0 !== n) return n.length;\n      }\n\n      return 0;\n    }\n\n    function m(e, t) {\n      for (var n = new Array(t), r = 0; r < t; ++r) {\n        n[r] = e[r];\n      }\n\n      return n;\n    }\n\n    Object.defineProperty(s, \"defaultMaxListeners\", {\n      enumerable: !0,\n      get: function get() {\n        return c;\n      },\n      set: function set(e) {\n        if (\"number\" != typeof e || e < 0 || a(e)) throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n        c = e;\n      }\n    }), s.init = function () {\n      void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;\n    }, s.prototype.setMaxListeners = function (e) {\n      if (\"number\" != typeof e || e < 0 || a(e)) throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n      return this._maxListeners = e, this;\n    }, s.prototype.getMaxListeners = function () {\n      return u(this);\n    }, s.prototype.emit = function (e) {\n      for (var t = [], n = 1; n < arguments.length; n++) {\n        t.push(arguments[n]);\n      }\n\n      var r = \"error\" === e,\n          i = this._events;\n      if (void 0 !== i) r = r && void 0 === i.error;else if (!r) return !1;\n\n      if (r) {\n        var a;\n        if (t.length > 0 && (a = t[0]), a instanceof Error) throw a;\n        var s = new Error(\"Unhandled error.\" + (a ? \" (\" + a.message + \")\" : \"\"));\n        throw s.context = a, s;\n      }\n\n      var c = i[e];\n      if (void 0 === c) return !1;\n      if (\"function\" == typeof c) o(c, this, t);else {\n        var u = c.length,\n            d = m(c, u);\n\n        for (n = 0; n < u; ++n) {\n          o(d[n], this, t);\n        }\n      }\n      return !0;\n    }, s.prototype.addListener = function (e, t) {\n      return d(this, e, t, !1);\n    }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function (e, t) {\n      return d(this, e, t, !0);\n    }, s.prototype.once = function (e, t) {\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      return this.on(e, p(this, e, t)), this;\n    }, s.prototype.prependOnceListener = function (e, t) {\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      return this.prependListener(e, p(this, e, t)), this;\n    }, s.prototype.removeListener = function (e, t) {\n      var n, r, i, o, a;\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      if (void 0 === (r = this._events)) return this;\n      if (void 0 === (n = r[e])) return this;\n      if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit(\"removeListener\", e, n.listener || t));else if (\"function\" != typeof n) {\n        for (i = -1, o = n.length - 1; o >= 0; o--) {\n          if (n[o] === t || n[o].listener === t) {\n            a = n[o].listener, i = o;\n            break;\n          }\n        }\n\n        if (i < 0) return this;\n        0 === i ? n.shift() : function (e, t) {\n          for (; t + 1 < e.length; t++) {\n            e[t] = e[t + 1];\n          }\n\n          e.pop();\n        }(n, i), 1 === n.length && (r[e] = n[0]), void 0 !== r.removeListener && this.emit(\"removeListener\", e, a || t);\n      }\n      return this;\n    }, s.prototype.off = s.prototype.removeListener, s.prototype.removeAllListeners = function (e) {\n      var t, n, r;\n      if (void 0 === (n = this._events)) return this;\n      if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this;\n\n      if (0 === arguments.length) {\n        var i,\n            o = Object.keys(n);\n\n        for (r = 0; r < o.length; ++r) {\n          \"removeListener\" !== (i = o[r]) && this.removeAllListeners(i);\n        }\n\n        return this.removeAllListeners(\"removeListener\"), this._events = Object.create(null), this._eventsCount = 0, this;\n      }\n\n      if (\"function\" == typeof (t = n[e])) this.removeListener(e, t);else if (void 0 !== t) for (r = t.length - 1; r >= 0; r--) {\n        this.removeListener(e, t[r]);\n      }\n      return this;\n    }, s.prototype.listeners = function (e) {\n      return f(this, e, !0);\n    }, s.prototype.rawListeners = function (e) {\n      return f(this, e, !1);\n    }, s.listenerCount = function (e, t) {\n      return \"function\" == typeof e.listenerCount ? e.listenerCount(t) : h.call(e, t);\n    }, s.prototype.listenerCount = h, s.prototype.eventNames = function () {\n      return this._eventsCount > 0 ? r(this._events) : [];\n    };\n  }, function (e, t, n) {\n    var r = n(139),\n        i = n(140);\n    t.write = i, t.parse = r.parse, t.parseFmtpConfig = r.parseFmtpConfig, t.parseParams = r.parseParams, t.parsePayloads = r.parsePayloads, t.parseRemoteCandidates = r.parseRemoteCandidates, t.parseImageAttributes = r.parseImageAttributes, t.parseSimulcastStreamList = r.parseSimulcastStreamList;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return r;\n    }), n.d(t, \"b\", function () {\n      return i;\n    }), n.d(t, \"c\", function () {\n      return o;\n    }), n.d(t, \"d\", function () {\n      return a;\n    });\n    var r = \"statistics.audioLevel\",\n        i = \"statistics.before_disposed\",\n        o = \"statistics.byte_sent_stats\",\n        a = \"statistics.connectionstats\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return a;\n    });\n    var r = n(22),\n        i = n.n(r);\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var a = function () {\n      function e() {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new i.a();\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.eventEmitter = t, this.addEventListener = this.on = this.addListener, this.removeEventListener = this.off = this.removeListener;\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"addListener\",\n        value: function value(e, t) {\n          this.eventEmitter.addListener(e, t);\n        }\n      }, {\n        key: \"removeListener\",\n        value: function value(e, t) {\n          this.eventEmitter.removeListener(e, t);\n        }\n      }]) && o(t.prototype, n), r && o(t, r), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"NO_AUDIO_INPUT\", function () {\n      return r;\n    }), n.d(t, \"AUDIO_INPUT_STATE_CHANGE\", function () {\n      return i;\n    }), n.d(t, \"VAD_REPORT_PUBLISHED\", function () {\n      return o;\n    }), n.d(t, \"VAD_SCORE_PUBLISHED\", function () {\n      return a;\n    }), n.d(t, \"VAD_TALK_WHILE_MUTED\", function () {\n      return s;\n    });\n    var r = \"no_audio_input_detected\",\n        i = \"audio_input_state_changed\",\n        o = \"vad-report-published\",\n        a = \"detection.vad_score_published\",\n        s = \"detection.vad_talk_while_muted\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"b\", function () {\n      return s;\n    }), n.d(t, \"c\", function () {\n      return c;\n    }), n.d(t, \"a\", function () {\n      return l;\n    });\n    var r = n(23);\n\n    function i(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function a(e, t, n) {\n      return t && o(e.prototype, t), n && o(e, n), e;\n    }\n\n    function s(e) {\n      return parseInt(e.ssrcs.split(\" \")[0], 10);\n    }\n\n    function c(e) {\n      return parseInt(e.ssrcs.split(\" \")[1], 10);\n    }\n\n    function u(e) {\n      return e.ssrcs ? e.ssrcs.map(function (e) {\n        return e.id;\n      }).filter(function (e, t, n) {\n        return n.indexOf(e) === t;\n      }).length : 0;\n    }\n\n    var d = function () {\n      function e(t) {\n        if (i(this, e), !t) throw new Error(\"mLine is undefined\");\n        this.mLine = t;\n      }\n\n      return a(e, [{\n        key: \"getSSRCAttrValue\",\n        value: function value(e, t) {\n          var n = this.ssrcs.find(function (n) {\n            return n.id === e && n.attribute === t;\n          });\n          return n && n.value;\n        }\n      }, {\n        key: \"removeSSRC\",\n        value: function value(e) {\n          this.mLine.ssrcs && this.mLine.ssrcs.length && (this.mLine.ssrcs = this.mLine.ssrcs.filter(function (t) {\n            return t.id !== e;\n          }));\n        }\n      }, {\n        key: \"addSSRCAttribute\",\n        value: function value(e) {\n          this.ssrcs.push(e);\n        }\n      }, {\n        key: \"findGroup\",\n        value: function value(e, t) {\n          return this.ssrcGroups.find(function (n) {\n            return n.semantics === e && (!t || t === n.ssrcs);\n          });\n        }\n      }, {\n        key: \"findGroups\",\n        value: function value(e) {\n          return this.ssrcGroups.filter(function (t) {\n            return t.semantics === e;\n          });\n        }\n      }, {\n        key: \"findGroupByPrimarySSRC\",\n        value: function value(e, t) {\n          return this.ssrcGroups.find(function (n) {\n            return n.semantics === e && s(n) === t;\n          });\n        }\n      }, {\n        key: \"findSSRCByMSID\",\n        value: function value(e) {\n          return this.ssrcs.find(function (t) {\n            return \"msid\" === t.attribute && (null === e || t.value === e);\n          });\n        }\n      }, {\n        key: \"getSSRCCount\",\n        value: function value() {\n          return u(this.mLine);\n        }\n      }, {\n        key: \"containsAnySSRCGroups\",\n        value: function value() {\n          return void 0 !== this.mLine.ssrcGroups;\n        }\n      }, {\n        key: \"getPrimaryVideoSsrc\",\n        value: function value() {\n          var e = this.mLine.type;\n          if (\"video\" !== e) throw new Error(\"getPrimarySsrc doesn't work with '\".concat(e, \"'\"));\n          if (1 === u(this.mLine)) return this.mLine.ssrcs[0].id;\n\n          if (this.mLine.ssrcGroups) {\n            var t = this.findGroup(\"SIM\");\n            if (t) return s(t);\n            var n = this.findGroup(\"FID\");\n            if (n) return s(n);\n            var r = this.findGroup(\"FEC-FR\");\n            if (r) return s(r);\n          }\n        }\n      }, {\n        key: \"getRtxSSRC\",\n        value: function value(e) {\n          var t = this.findGroupByPrimarySSRC(\"FID\", e);\n          return t && c(t);\n        }\n      }, {\n        key: \"getSSRCs\",\n        value: function value() {\n          return this.ssrcs.map(function (e) {\n            return e.id;\n          }).filter(function (e, t, n) {\n            return n.indexOf(e) === t;\n          });\n        }\n      }, {\n        key: \"getPrimaryVideoSSRCs\",\n        value: function value() {\n          var e = this.mLine.type;\n          if (\"video\" !== e) throw new Error(\"getPrimaryVideoSSRCs doesn't work with \".concat(e));\n          var t = this.getSSRCs(),\n              n = !0,\n              r = !1,\n              i = void 0;\n\n          try {\n            for (var o, a = this.ssrcGroups[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n              var s = o.value;\n\n              if (\"FID\" === s.semantics || \"FEC-FR\" === s.semantics) {\n                var u = c(s);\n                t.splice(t.indexOf(u), 1);\n              }\n            }\n          } catch (e) {\n            r = !0, i = e;\n          } finally {\n            try {\n              n || null == a.return || a.return();\n            } finally {\n              if (r) throw i;\n            }\n          }\n\n          return t;\n        }\n      }, {\n        key: \"dumpSSRCGroups\",\n        value: function value() {\n          return JSON.stringify(this.mLine.ssrcGroups);\n        }\n      }, {\n        key: \"removeGroupsWithSSRC\",\n        value: function value(e) {\n          this.mLine.ssrcGroups && (this.mLine.ssrcGroups = this.mLine.ssrcGroups.filter(function (t) {\n            return -1 === t.ssrcs.indexOf(\"\".concat(e));\n          }));\n        }\n      }, {\n        key: \"removeGroupsBySemantics\",\n        value: function value(e) {\n          this.mLine.ssrcGroups && (this.mLine.ssrcGroups = this.mLine.ssrcGroups.filter(function (t) {\n            return t.semantics !== e;\n          }));\n        }\n      }, {\n        key: \"replaceSSRC\",\n        value: function value(e, t) {\n          this.mLine.ssrcs && this.mLine.ssrcs.forEach(function (n) {\n            n.id === e && (n.id = t);\n          });\n        }\n      }, {\n        key: \"addSSRCGroup\",\n        value: function value(e) {\n          this.ssrcGroups.push(e);\n        }\n      }, {\n        key: \"ssrcs\",\n        get: function get() {\n          return this.mLine.ssrcs || (this.mLine.ssrcs = []), this.mLine.ssrcs;\n        },\n        set: function set(e) {\n          this.mLine.ssrcs = e;\n        }\n      }, {\n        key: \"direction\",\n        get: function get() {\n          return this.mLine.direction;\n        },\n        set: function set(e) {\n          this.mLine.direction = e;\n        }\n      }, {\n        key: \"ssrcGroups\",\n        get: function get() {\n          return this.mLine.ssrcGroups || (this.mLine.ssrcGroups = []), this.mLine.ssrcGroups;\n        },\n        set: function set(e) {\n          this.mLine.ssrcGroups = e;\n        }\n      }]), e;\n    }(),\n        l = function () {\n      function e(t) {\n        i(this, e), this.parsedSDP = r.parse(t);\n      }\n\n      return a(e, [{\n        key: \"selectMedia\",\n        value: function value(e) {\n          var t = this.parsedSDP.media.find(function (t) {\n            return t.type === e;\n          });\n          return t ? new d(t) : null;\n        }\n      }, {\n        key: \"toRawSDP\",\n        value: function value() {\n          return r.write(this.parsedSDP);\n        }\n      }]), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"LOCAL_STATS_UPDATED\", function () {\n      return r;\n    }), n.d(t, \"REMOTE_STATS_UPDATED\", function () {\n      return i;\n    });\n    var r = \"cq.local_stats_updated\",\n        i = \"cq.remote_stats_updated\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return r;\n    });\n    var r = {\n      ACCEPT: \"session-accept\",\n      CONNECTION_ERROR: \"connection-error-encountered\",\n      INITIATE: \"session-initiate\",\n      TERMINATE: \"session-terminate\",\n      TRANSPORT_INFO: \"transport-info\",\n      UNAVAILABLE: \"unavailable\"\n    };\n  }, function (e, t) {\n    e.exports = {\n      1080: {\n        width: 1920,\n        height: 1080,\n        order: 8\n      },\n      fullhd: {\n        width: 1920,\n        height: 1080,\n        order: 8\n      },\n      720: {\n        width: 1280,\n        height: 720,\n        order: 7\n      },\n      hd: {\n        width: 1280,\n        height: 720,\n        order: 7\n      },\n      960: {\n        width: 960,\n        height: 720,\n        order: 6\n      },\n      540: {\n        width: 960,\n        height: 540,\n        order: 5\n      },\n      qhd: {\n        width: 960,\n        height: 540,\n        order: 5\n      },\n      360: {\n        width: 640,\n        height: 360,\n        order: 4\n      },\n      640: {\n        width: 640,\n        height: 480,\n        order: 3\n      },\n      vga: {\n        width: 640,\n        height: 480,\n        order: 3\n      },\n      180: {\n        width: 320,\n        height: 180,\n        order: 2\n      },\n      320: {\n        width: 320,\n        height: 240,\n        order: 1\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"c\", function () {\n      return r;\n    }), n.d(t, \"a\", function () {\n      return i;\n    }), n.d(t, \"b\", function () {\n      return o;\n    });\n    var r = \"pending\",\n        i = \"active\",\n        o = \"ended\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return D;\n      });\n      var r = n(3),\n          i = n(11),\n          o = n.n(i);\n\n      function a(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function s(e, t, n) {\n        return t && a(e.prototype, t), n && a(e, n), e;\n      }\n\n      var c,\n          u = n(4).getLogger(e),\n          d = \"createOffer\",\n          l = \"createAnswer\",\n          p = \"setLocalDescription\",\n          f = \"setRemoteDescription\",\n          h = \"addIceCandidate\",\n          m = \"getUserMedia\",\n          v = \"iceConnectionFailure\",\n          g = \"applicationLog\",\n          y = \"fabricHold\",\n          _ = \"fabricResume\",\n          S = \"audioMute\",\n          b = \"audioUnmute\",\n          E = \"videoPause\",\n          T = \"videoResume\",\n          C = \"screenShareStart\",\n          A = \"screenShareStop\",\n          R = \"dominantSpeaker\",\n          w = \"activeDeviceList\",\n          O = \"jitsi\",\n          k = \"error\",\n          P = \"event\",\n          I = \"mstWithUserID\",\n          D = function () {\n        function e(t, n) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.confID = n.confID, this.tpc = t, this.peerconnection = t.peerconnection, this.remoteUserID = n.remoteUserID || O, this.hasFabric = !1, e.fabrics.add(this), e.backendInitialized && (this._addNewFabric(), 1 === e.fabrics.size && e._emptyReportQueue(this));\n        }\n\n        return s(e, null, [{\n          key: \"_addNewFabricCallback\",\n          value: function value(t, n) {\n            e.backend && \"success\" !== t && u.error(\"Monitoring status: \".concat(t, \" msg: \").concat(n));\n          }\n        }, {\n          key: \"_initCallback\",\n          value: function value(t, n) {\n            if (u.log(\"CallStats Status: err=\".concat(t, \" msg=\").concat(n)), \"success\" === t) {\n              e.backendInitialized = !0;\n              var r = !1,\n                  i = null,\n                  o = !0,\n                  a = !1,\n                  s = void 0;\n\n              try {\n                for (var c, d = e.fabrics.values()[Symbol.iterator](); !(o = (c = d.next()).done); o = !0) {\n                  var l = c.value;\n                  l.hasFabric || (u.debug(\"addNewFabric - initCallback\"), l._addNewFabric() && (r = !0, i || (i = l)));\n                }\n              } catch (e) {\n                a = !0, s = e;\n              } finally {\n                try {\n                  o || null == d.return || d.return();\n                } finally {\n                  if (a) throw s;\n                }\n              }\n\n              r && e._emptyReportQueue(i);\n            }\n          }\n        }, {\n          key: \"_emptyReportQueue\",\n          value: function value(t) {\n            var n = t.confID,\n                r = t.peerconnection,\n                i = !0,\n                o = !1,\n                a = void 0;\n\n            try {\n              for (var s, c = e.reportsQueue[Symbol.iterator](); !(i = (s = c.next()).done); i = !0) {\n                var u = s.value;\n\n                if (u.type === k) {\n                  var d = u.data;\n\n                  e._reportError(t, d.type, d.error, d.pc || r);\n                } else if (u.type === P) {\n                  var l = u.data;\n                  e.backend.sendFabricEvent(u.pc || r, l.event, n, l.eventData);\n                } else if (u.type === I) {\n                  var p = u.data;\n                  e.backend.associateMstWithUserID(u.pc || r, p.callStatsId, n, p.ssrc, p.usageLabel, p.containerId);\n                }\n              }\n            } catch (e) {\n              o = !0, a = e;\n            } finally {\n              try {\n                i || null == c.return || c.return();\n              } finally {\n                if (o) throw a;\n              }\n            }\n\n            e.reportsQueue.length = 0;\n          }\n        }, {\n          key: \"_reportError\",\n          value: function value(t, n, r, i) {\n            var o = r;\n            o || (u.warn(\"No error is passed!\"), o = new Error(\"Unknown error\")), e.backendInitialized && t ? e.backend.reportError(i, t.confID, n, o) : e.reportsQueue.push({\n              type: k,\n              data: {\n                error: o,\n                pc: i,\n                type: n\n              }\n            });\n          }\n        }, {\n          key: \"_reportEvent\",\n          value: function value(t, n, r) {\n            var i = t && t.peerconnection,\n                o = t && t.confID;\n            e.backendInitialized && t ? e.backend.sendFabricEvent(i, n, o, r) : e.reportsQueue.push({\n              confID: o,\n              pc: i,\n              type: P,\n              data: {\n                event: n,\n                eventData: r\n              }\n            });\n          }\n        }, {\n          key: \"_traceAndCatchBackendCalls\",\n          value: function value(e) {\n            for (var t = function t() {\n              var t = i[n],\n                  r = e[t];\n\n              e[t] = function () {\n                try {\n                  for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) {\n                    n[i] = arguments[i];\n                  }\n\n                  return r.apply(e, n);\n                } catch (e) {\n                  o.a.callErrorHandler(e);\n                }\n              };\n            }, n = 0, i = [\"associateMstWithUserID\", \"sendFabricEvent\", \"sendUserFeedback\"]; n < i.length; n++) {\n              t();\n            }\n\n            for (var a = function a() {\n              var t = c[s],\n                  n = e[t];\n\n              e[t] = function () {\n                for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) {\n                  i[o] = arguments[o];\n                }\n\n                u.debug(t, i), n.apply(e, i);\n              };\n            }, s = 0, c = [\"associateMstWithUserID\", \"sendFabricEvent\", \"sendUserFeedback\"]; s < c.length; s++) {\n              a();\n            }\n\n            var d = e.reportError;\n\n            e.reportError = function (t, n, i) {\n              for (var a = arguments.length, s = new Array(a > 3 ? a - 3 : 0), c = 3; c < a; c++) {\n                s[c - 3] = arguments[c];\n              }\n\n              i === g ? r.a.isReactNative() || console && console.debug(t, n, i) : u.debug.apply(u, [\"reportError\", t, n, i].concat(s));\n\n              try {\n                d.call.apply(d, [e, t, n, i].concat(s));\n              } catch (e) {\n                i === g ? console && console.error(e) : o.a.callErrorHandler(e);\n              }\n            };\n          }\n        }, {\n          key: \"initBackend\",\n          value: function value(t) {\n            if (e.backend) throw new Error(\"CallStats backend has been initialized already!\");\n\n            try {\n              var n,\n                  i = callstats;\n\n              if (e.backend = new i(), e._traceAndCatchBackendCalls(e.backend), e.userID = {\n                aliasName: t.aliasName,\n                userName: t.userName\n              }, e.callStatsID = t.callStatsID, e.callStatsSecret = t.callStatsSecret, t.applicationName && (n = {\n                applicationVersion: \"\".concat(t.applicationName, \" (\").concat(r.a.getName(), \")\")\n              }), t.confID) {\n                var a = t.confID.match(/.*\\/(.*)\\/.*/);\n                n.siteID = a && a[1] || \"/\";\n              }\n\n              e.backend.initialize(e.callStatsID, e.callStatsSecret, e.userID, e._initCallback, void 0, n);\n              var s = t.getWiFiStatsMethod;\n              return s && (e.backend.attachWifiStatsHandler(s), s().then(function (e) {\n                e && u.info(\"Reported wifi addresses:\", JSON.parse(e).addresses);\n              }).catch(function () {})), !0;\n            } catch (t) {\n              return o.a.callErrorHandler(t), e.backend = null, u.error(t), !1;\n            }\n          }\n        }, {\n          key: \"isBackendInitialized\",\n          value: function value() {\n            return Boolean(e.backend);\n          }\n        }, {\n          key: \"sendActiveDeviceListEvent\",\n          value: function value(t, n) {\n            e._reportEvent(n, w, t);\n          }\n        }, {\n          key: \"sendApplicationLog\",\n          value: function value(t, n) {\n            try {\n              e._reportError(n, g, t, n && n.peerconnection);\n            } catch (e) {\n              console && \"function\" == typeof console.error && console.error(e);\n            }\n          }\n        }, {\n          key: \"sendFeedback\",\n          value: function value(t, n, r) {\n            return new Promise(function (i, o) {\n              if (e.backend) e.backend.sendUserFeedback(t, {\n                userID: e.userID,\n                overall: n,\n                comment: r\n              }, function (e, t) {\n                \"success\" === e ? i(t) : o(t);\n              });else {\n                var a = \"Failed to submit feedback to CallStats - no backend\";\n                u.error(a), o(a);\n              }\n            });\n          }\n        }, {\n          key: \"sendGetUserMediaFailed\",\n          value: function value(t, n) {\n            e._reportError(n, m, t, null);\n          }\n        }, {\n          key: \"sendMuteEvent\",\n          value: function value(t, n, r) {\n            var i;\n            i = \"video\" === n ? t ? E : T : t ? S : b, e._reportEvent(r, i);\n          }\n        }, {\n          key: \"fabrics\",\n          get: function get() {\n            return c || (c = new Set()), c;\n          }\n        }]), s(e, [{\n          key: \"_addNewFabric\",\n          value: function value() {\n            u.info(\"addNewFabric\", this.remoteUserID);\n\n            try {\n              var t = {\n                remoteEndpointType: this.tpc.isP2P ? e.backend.endpointType.peer : e.backend.endpointType.server\n              },\n                  n = e.backend.addNewFabric(this.peerconnection, this.remoteUserID, e.backend.fabricUsage.multiplex, this.confID, t, e._addNewFabricCallback);\n              this.hasFabric = !0;\n              var r = \"success\" === n.status;\n              return r || u.error(\"callstats fabric not initilized\", n.message), r;\n            } catch (e) {\n              return o.a.callErrorHandler(e), !1;\n            }\n          }\n        }, {\n          key: \"associateStreamWithVideoTag\",\n          value: function value(t, n, r, i, o) {\n            if (e.backend) {\n              var a = n ? e.userID : r;\n              e.backendInitialized ? e.backend.associateMstWithUserID(this.peerconnection, a, this.confID, t, i, o) : e.reportsQueue.push({\n                type: I,\n                pc: this.peerconnection,\n                data: {\n                  callStatsId: a,\n                  containerId: o,\n                  ssrc: t,\n                  usageLabel: i\n                }\n              });\n            }\n          }\n        }, {\n          key: \"sendDominantSpeakerEvent\",\n          value: function value() {\n            e._reportEvent(this, R);\n          }\n        }, {\n          key: \"sendTerminateEvent\",\n          value: function value() {\n            e.backendInitialized && e.backend.sendFabricEvent(this.peerconnection, e.backend.fabricEvent.fabricTerminated, this.confID), e.fabrics.delete(this);\n          }\n        }, {\n          key: \"sendIceConnectionFailedEvent\",\n          value: function value() {\n            e._reportError(this, v, null, this.peerconnection);\n          }\n        }, {\n          key: \"sendCreateOfferFailed\",\n          value: function value(t) {\n            e._reportError(this, d, t, this.peerconnection);\n          }\n        }, {\n          key: \"sendCreateAnswerFailed\",\n          value: function value(t) {\n            e._reportError(this, l, t, this.peerconnection);\n          }\n        }, {\n          key: \"sendResumeOrHoldEvent\",\n          value: function value(t) {\n            e._reportEvent(this, t ? _ : y);\n          }\n        }, {\n          key: \"sendScreenSharingEvent\",\n          value: function value(t, n) {\n            var r;\n            n && (r = {\n              ssrc: n\n            }), e._reportEvent(this, t ? C : A, r);\n          }\n        }, {\n          key: \"sendSetLocalDescFailed\",\n          value: function value(t) {\n            e._reportError(this, p, t, this.peerconnection);\n          }\n        }, {\n          key: \"sendSetRemoteDescFailed\",\n          value: function value(t) {\n            e._reportError(this, f, t, this.peerconnection);\n          }\n        }, {\n          key: \"sendAddIceCandidateFailed\",\n          value: function value(t) {\n            e._reportError(this, h, t, this.peerconnection);\n          }\n        }]), e;\n      }();\n\n      D.backend = null, D.reportsQueue = [], D.backendInitialized = !1, D.callStatsID = null, D.callStatsSecret = null, D.userID = null;\n    }).call(this, \"modules/statistics/CallStats.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r,\n          i,\n          o = n(4),\n          a = n(88),\n          s = n.n(a),\n          c = Object(o.getLogger)(e);\n\n      function u() {\n        var e;\n\n        try {\n          e = (window || this).localStorage;\n        } catch (e) {\n          c.error(e);\n        }\n\n        return e;\n      }\n\n      function d() {\n        return \"\".concat(Math.random().toString(16), \"000000000\").substr(2, 8);\n      }\n\n      t.a = {\n        get callStatsUserName() {\n          if (!r) {\n            var e = u();\n            e && (r = e.getItem(\"callStatsUserName\")), r || (t = s.a.generateUsername(), c.log(\"generated callstats uid\", t), r = t, e && e.setItem(\"callStatsUserName\", r));\n          }\n\n          var t;\n          return r;\n        },\n\n        get machineId() {\n          if (!i) {\n            var e = u();\n            e && (i = e.getItem(\"jitsiMeetId\")), i || (t = d() + d() + d() + d(), c.log(\"generated id\", t), i = t, e && e.setItem(\"jitsiMeetId\", i));\n          }\n\n          var t;\n          return i;\n        },\n\n        get sessionId() {\n          var e = u();\n          return e ? e.getItem(\"sessionId\") : void 0;\n        },\n\n        set sessionId(e) {\n          var t = u();\n          t && (e ? t.setItem(\"sessionId\", e) : t.removeItem(\"sessionId\"));\n        }\n\n      };\n    }).call(this, \"modules/settings/Settings.js\");\n  }, function (e, t) {\n    var n = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n    function r(e, t) {\n      return Math.floor(Math.random() * (t - e + 1)) + e;\n    }\n\n    function i(e) {\n      return e[r(0, e.length - 1)];\n    }\n\n    var o = {\n      randomHexDigit: function randomHexDigit() {\n        return i(\"0123456789abcdef\");\n      },\n      randomHexString: function randomHexString(e) {\n        for (var t = \"\"; e--;) {\n          t += this.randomHexDigit();\n        }\n\n        return t;\n      },\n      randomElement: i,\n      randomAlphanumStr: function randomAlphanumStr(e) {\n        for (var t = \"\", r = 0; r < e; r += 1) {\n          t += i(n);\n        }\n\n        return t;\n      },\n      randomInt: r\n    };\n    e.exports = o;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return l;\n    });\n    var r = n(25);\n\n    function i(e) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function a(e, t) {\n      return !t || \"object\" !== i(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function s(e) {\n      return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function c(e, t) {\n      return (c = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function u(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function d() {\n      return function (e) {\n        function t() {\n          var e, n;\n          u(this, t);\n\n          for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) {\n            i[o] = arguments[o];\n          }\n\n          return (n = a(this, (e = s(t)).call.apply(e, [this].concat(i)))).connection = null, n;\n        }\n\n        var n, r, i;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && c(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"init\",\n          value: function value(e) {\n            this.connection = e;\n          }\n        }]) && o(n.prototype, r), i && o(n, i), t;\n      }(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function () {\n        return function e() {\n          u(this, e);\n        };\n      }());\n    }\n\n    t.b = d();\n    var l = d(r.a);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return k;\n      }), n.d(t, \"b\", function () {\n        return P;\n      }), n.d(t, \"c\", function () {\n        return I;\n      });\n\n      var r = n(4),\n          i = n(2),\n          o = (n(148), n(34)),\n          a = n.n(o),\n          s = n(38),\n          c = n(21),\n          u = n(3),\n          d = n(85),\n          l = n(89),\n          p = n(96),\n          f = n(97),\n          h = n(98),\n          m = n(99),\n          v = n(100),\n          g = n(25),\n          y = n(101),\n          _ = n(11),\n          S = n.n(_),\n          b = n(0),\n          E = n.n(b);\n\n      function T(e) {\n        return (T = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function C(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function A(e) {\n        return (A = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function R(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function w(e, t) {\n        return (w = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var O = Object(r.getLogger)(e);\n\n      var k = [{\n        urls: \"stun:stun.l.google.com:19302\"\n      }, {\n        urls: \"stun:stun1.l.google.com:19302\"\n      }, {\n        urls: \"stun:stun2.l.google.com:19302\"\n      }],\n          P = \"type\",\n          I = function (e) {\n        function t(e, n) {\n          var r;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (r = function (e, t) {\n            return !t || \"object\" !== T(t) && \"function\" != typeof t ? R(e) : t;\n          }(this, A(t).call(this))).connection = null, r.disconnectInProgress = !1, r.connectionTimes = {}, r.options = e, r.token = n, r.authenticatedUser = !1, r._initStrophePlugins(R(r)), r.connection = function (e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"/http-bind\";\n            e && (t += \"\".concat(-1 === t.indexOf(\"?\") ? \"?\" : \"&\", \"token=\").concat(e));\n            var n = new i.Strophe.Connection(t);\n            return n.maxRetries = 3, n;\n          }(n, e.bosh), r._lastSuccessTracker = new v.a(), r._lastSuccessTracker.startTracking(r.connection), r.caps = new y.a(r.connection, r.options.clientNode), r.initFeaturesList(), $(window).on(\"beforeunload unload\", function (e) {\n            r.disconnect(e).catch(function () {});\n          }), r;\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && w(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"initFeaturesList\",\n          value: function value() {\n            this.caps.addFeature(\"urn:xmpp:jingle:1\"), this.caps.addFeature(\"urn:xmpp:jingle:apps:rtp:1\"), this.caps.addFeature(\"urn:xmpp:jingle:transports:ice-udp:1\"), this.caps.addFeature(\"urn:xmpp:jingle:apps:dtls:0\"), this.caps.addFeature(\"urn:xmpp:jingle:transports:dtls-sctp:1\"), this.caps.addFeature(\"urn:xmpp:jingle:apps:rtp:audio\"), this.caps.addFeature(\"urn:xmpp:jingle:apps:rtp:video\"), !this.options.disableRtx && u.a.supportsRtx() && this.caps.addFeature(\"urn:ietf:rfc:4588\"), this.caps.addFeature(\"urn:ietf:rfc:5761\"), this.caps.addFeature(\"urn:ietf:rfc:5888\"), u.a.isChrome() && !1 !== this.options.enableLipSync && (O.info(\"Lip-sync enabled !\"), this.caps.addFeature(\"http://jitsi.org/meet/lipsync\")), this.connection.rayo && this.caps.addFeature(\"urn:xmpp:rayo:client:1\");\n          }\n        }, {\n          key: \"isPingSupported\",\n          value: function value() {\n            return !1 !== this._pingSupported;\n          }\n        }, {\n          key: \"getConnection\",\n          value: function value() {\n            return this.connection;\n          }\n        }, {\n          key: \"connectionHandler\",\n          value: function value() {\n            var e = this,\n                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                n = arguments.length > 1 ? arguments[1] : void 0,\n                r = arguments.length > 2 ? arguments[2] : void 0,\n                o = window.performance.now(),\n                a = i.Strophe.getStatusString(n).toLowerCase();\n\n            if (this.connectionTimes[a] = o, O.log(\"(TIME) Strophe \".concat(a).concat(r ? \"[\".concat(r, \"]\") : \"\", \":\\t\"), o), this.eventEmitter.emit(E.a.CONNECTION_STATUS_CHANGED, t, n, r), n === i.Strophe.Status.CONNECTED || n === i.Strophe.Status.ATTACHED) {\n              (this.options.useStunTurn || this.options.p2p && this.options.p2p.useStunTurn) && this.connection.jingle.getStunAndTurnCredentials(), O.info(\"My Jabber ID: \".concat(this.connection.jid));\n              var u = this.connection.domain;\n              this.caps.getFeaturesAndIdentities(u).then(function (t) {\n                var n = t.features,\n                    r = t.identities;\n                n.has(i.Strophe.NS.PING) ? (e._pingSupported = !0, e.connection.ping.startInterval(u)) : O.warn(\"Ping NOT supported by \".concat(u)), r.forEach(function (t) {\n                  \"speakerstats\" === t.type && (e.speakerStatsComponentAddress = t.name, e.connection.addHandler(e._onPrivateMessage.bind(e), null, \"message\", null, null));\n                });\n              }).catch(function (e) {\n                var t = \"Feature discovery error\";\n                S.a.callErrorHandler(new Error(\"\".concat(t, \": \").concat(e))), O.error(t, e);\n              }), t.password && (this.authenticatedUser = !0), this.connection && this.connection.connected && i.Strophe.getResourceFromJid(this.connection.jid) && this.eventEmitter.emit(c.CONNECTION_ESTABLISHED, i.Strophe.getResourceFromJid(this.connection.jid));\n            } else if (n === i.Strophe.Status.CONNFAIL) \"x-strophe-bad-non-anon-jid\" === r ? this.anonymousConnectionFailed = !0 : this.connectionFailed = !0, this.lastErrorMsg = r, \"giving-up\" === r && this.eventEmitter.emit(c.CONNECTION_FAILED, s.OTHER_ERROR, r);else if (n === i.Strophe.Status.DISCONNECTED) {\n              this.connection.ping.stopInterval();\n              var d = this.disconnectInProgress,\n                  l = r || this.lastErrorMsg;\n              if (this.disconnectInProgress = !1, this.anonymousConnectionFailed) this.eventEmitter.emit(c.CONNECTION_FAILED, s.PASSWORD_REQUIRED);else if (this.connectionFailed) this.eventEmitter.emit(c.CONNECTION_FAILED, s.OTHER_ERROR, l, void 0, this._getConnectionFailedReasonDetails());else if (d) this.eventEmitter.emit(c.CONNECTION_DISCONNECTED, l);else {\n                O.error(\"XMPP connection dropped!\");\n                var p = i.Strophe.getLastErrorStatus();\n                p >= 500 && p < 600 ? this.eventEmitter.emit(c.CONNECTION_FAILED, s.SERVER_ERROR, l || \"server-error\", void 0, this._getConnectionFailedReasonDetails()) : this.eventEmitter.emit(c.CONNECTION_FAILED, s.CONNECTION_DROPPED_ERROR, l || \"connection-dropped-error\", void 0, this._getConnectionFailedReasonDetails());\n              }\n            } else n === i.Strophe.Status.AUTHFAIL && this.eventEmitter.emit(c.CONNECTION_FAILED, s.PASSWORD_REQUIRED, r, t);\n          }\n        }, {\n          key: \"_connect\",\n          value: function value(e, t) {\n            this.anonymousConnectionFailed = !1, this.connectionFailed = !1, this.lastErrorMsg = void 0, this.connection.connect(e, t, this.connectionHandler.bind(this, {\n              jid: e,\n              password: t\n            }));\n          }\n        }, {\n          key: \"attach\",\n          value: function value(e) {\n            var t = this.connectionTimes.attaching = window.performance.now();\n            O.log(\"(TIME) Strophe Attaching\\t:\".concat(t)), this.connection.attach(e.jid, e.sid, parseInt(e.rid, 10) + 1, this.connectionHandler.bind(this, {\n              jid: e.jid,\n              password: e.password\n            }));\n          }\n        }, {\n          key: \"connect\",\n          value: function value(e, t) {\n            if (!e) {\n              var n = this.options.hosts,\n                  r = n.anonymousdomain,\n                  i = n.domain,\n                  o = r || i,\n                  a = window.location;\n\n              if (r) {\n                var s = a && a.search;\n                (s && -1 !== s.indexOf(\"login=true\") || this.token) && (o = i);\n              }\n\n              e = o || a && a.hostname;\n            }\n\n            return this._connect(e, t);\n          }\n        }, {\n          key: \"createRoom\",\n          value: function value(e, t, n) {\n            var r = \"\".concat(e, \"@\").concat(this.options.hosts.muc, \"/\"),\n                i = n ? n(this.connection.jid, this.authenticatedUser) : a.a.randomHexString(8).toLowerCase();\n            return O.info(\"JID \".concat(this.connection.jid, \" using MUC nickname \").concat(i)), r += i, this.connection.emuc.createRoom(r, null, t);\n          }\n        }, {\n          key: \"getJid\",\n          value: function value() {\n            return this.connection.jid;\n          }\n        }, {\n          key: \"getJingleLog\",\n          value: function value() {\n            var e = this.connection.jingle;\n            return e ? e.getLog() : {};\n          }\n        }, {\n          key: \"getXmppLog\",\n          value: function value() {\n            return (this.connection.logger || {}).log || null;\n          }\n        }, {\n          key: \"dial\",\n          value: function value() {\n            var e;\n            (e = this.connection.rayo).dial.apply(e, arguments);\n          }\n        }, {\n          key: \"ping\",\n          value: function value(e) {\n            var t = this;\n            return new Promise(function (n, r) {\n              t.isPingSupported() ? t.connection.ping.ping(t.connection.domain, n, r, e) : r(\"PING operation is not supported by the server\");\n            });\n          }\n        }, {\n          key: \"getSessions\",\n          value: function value() {\n            return this.connection.jingle.sessions;\n          }\n        }, {\n          key: \"disconnect\",\n          value: function value(e) {\n            var t = this;\n            return this.disconnectInProgress || !this.connection ? (this.eventEmitter.emit(c.WRONG_STATE), Promise.reject(new Error(\"Wrong connection state!\"))) : (this.disconnectInProgress = !0, new Promise(function (n) {\n              if (t.eventEmitter.on(E.a.CONNECTION_STATUS_CHANGED, function e(r, o) {\n                o === i.Strophe.Status.DISCONNECTED && (n(), t.eventEmitter.removeListener(E.a.CONNECTION_STATUS_CHANGED, e));\n              }), t.connection.flush(), null != e) {\n                var r = e.type;\n\n                if ((\"beforeunload\" === r || \"unload\" === r) && (t.connection.options.sync = !0, navigator.sendBeacon && !t.connection.disconnecting && t.connection.connected)) {\n                  t.connection._changeConnectStatus(i.Strophe.Status.DISCONNECTING), t.connection.disconnecting = !0;\n\n                  var o = t.connection._proto._buildBody().attrs({\n                    type: \"terminate\"\n                  }),\n                      a = Object(i.$pres)({\n                    xmlns: i.Strophe.NS.CLIENT,\n                    type: \"unavailable\"\n                  });\n\n                  o.cnode(a.tree());\n                  var s = navigator.sendBeacon(\"https:\".concat(t.connection.service), i.Strophe.serialize(o.tree()));\n                  return O.info(\"Successfully send unavailable beacon \".concat(s)), t.connection._proto._abortAllRequests(), void t.connection._doDisconnect();\n                }\n              }\n\n              t.connection.disconnect(), !0 !== t.connection.options.sync && t.connection.flush();\n            }));\n          }\n        }, {\n          key: \"_initStrophePlugins\",\n          value: function value() {\n            var e = {\n              jvb: {\n                iceServers: []\n              },\n              p2p: {\n                iceServers: []\n              }\n            },\n                t = this.options.p2p && this.options.p2p.stunServers || k;\n            Array.isArray(t) && (O.info(\"P2P STUN servers: \", t), e.p2p.iceServers = t), this.options.p2p && this.options.p2p.iceTransportPolicy && (O.info(\"P2P ICE transport policy: \", this.options.p2p.iceTransportPolicy), e.p2p.iceTransportPolicy = this.options.p2p.iceTransportPolicy), Object(d.a)(this), Object(l.a)(this, this.eventEmitter, e), Object(p.a)(), Object(f.a)(this), Object(h.a)(), Object(m.a)();\n          }\n        }, {\n          key: \"_getConnectionFailedReasonDetails\",\n          value: function value() {\n            var e = {};\n\n            if (this.options.deploymentInfo && this.options.deploymentInfo.shard && this.connection._proto && this.connection._proto.lastResponseHeaders) {\n              var t = this.connection._proto.lastResponseHeaders.trim().split(/[\\r\\n]+/),\n                  n = {};\n\n              t.forEach(function (e) {\n                var t = e.split(\": \"),\n                    r = t.shift(),\n                    i = t.join(\": \");\n                n[r] = i;\n              }), e.shard_changed = this.options.deploymentInfo.shard !== n[\"x-jitsi-shard\"];\n            }\n\n            return e.suspend_time = this.connection.ping.getPingSuspendTime(), e.time_since_last_success = this._lastSuccessTracker.getTimeSinceLastSuccess(), e;\n          }\n        }, {\n          key: \"sendDominantSpeakerEvent\",\n          value: function value(e) {\n            if (this.speakerStatsComponentAddress && e) {\n              var t = Object(i.$msg)({\n                to: this.speakerStatsComponentAddress\n              });\n              t.c(\"speakerstats\", {\n                xmlns: \"http://jitsi.org/jitmeet\",\n                room: e\n              }).up(), this.connection.send(t);\n            }\n          }\n        }, {\n          key: \"tryParseJSONAndVerify\",\n          value: function value(e) {\n            try {\n              var t = JSON.parse(e);\n\n              if (t && \"object\" === T(t)) {\n                var n = t[P];\n                if (void 0 !== n) return t;\n                O.debug(\"parsing valid json but does not have correct structure\", \"topic: \", n);\n              }\n            } catch (e) {\n              return !1;\n            }\n\n            return !1;\n          }\n        }, {\n          key: \"_onPrivateMessage\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\");\n\n            if (this.speakerStatsComponentAddress && t === this.speakerStatsComponentAddress) {\n              var n = $(e).find(\">json-message\").text(),\n                  r = this.tryParseJSONAndVerify(n);\n              return r && \"speakerstats\" === r[P] && r.users && this.eventEmitter.emit(E.a.SPEAKER_STATS_RECEIVED, r.users), !0;\n            }\n          }\n        }]) && C(n.prototype, r), o && C(n, o), t;\n      }(g.a);\n    }).call(this, \"modules/xmpp/xmpp.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return r;\n    }), n.d(t, \"b\", function () {\n      return i;\n    });\n    var r = \"signaling.peerMuted\",\n        i = \"signaling.peerVideoType\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"CONNECTION_DROPPED_ERROR\", function () {\n      return r;\n    }), n.d(t, \"OTHER_ERROR\", function () {\n      return i;\n    }), n.d(t, \"PASSWORD_REQUIRED\", function () {\n      return o;\n    }), n.d(t, \"SERVER_ERROR\", function () {\n      return a;\n    });\n    var r = \"connection.droppedError\",\n        i = \"connection.otherError\",\n        o = \"connection.passwordRequired\",\n        a = \"connection.serverError\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = !0,\n        i = !0,\n        o = {\n      disableLog: function disableLog(e) {\n        return \"boolean\" != typeof e ? new Error(\"Argument type: \" + typeof e + \". Please use a boolean.\") : (r = e, e ? \"adapter.js logging disabled\" : \"adapter.js logging enabled\");\n      },\n      disableWarnings: function disableWarnings(e) {\n        return \"boolean\" != typeof e ? new Error(\"Argument type: \" + typeof e + \". Please use a boolean.\") : (i = !e, \"adapter.js deprecation warnings \" + (e ? \"disabled\" : \"enabled\"));\n      },\n      log: function log() {\n        if (\"object\" == typeof window) {\n          if (r) return;\n          \"undefined\" != typeof console && \"function\" == typeof console.log && console.log.apply(console, arguments);\n        }\n      },\n      deprecated: function deprecated(e, t) {\n        i && console.warn('');\n      },\n      extractVersion: function extractVersion(e, t, n) {\n        var r = e.match(t);\n        return r && r.length >= n && parseInt(r[n], 10);\n      },\n      detectBrowser: function detectBrowser(e) {\n        var t = e && e.navigator,\n            n = {\n          browser: null,\n          version: null\n        };\n        if (void 0 === e || !e.navigator) return n.browser = \"Not a browser.\", n;\n        if (t.mozGetUserMedia) n.browser = \"firefox\", n.version = this.extractVersion(t.userAgent, /Firefox\\/(\\d+)\\./, 1);else if (t.webkitGetUserMedia) {\n          if (e.webkitRTCPeerConnection) n.browser = \"chrome\", n.version = this.extractVersion(t.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);else {\n            if (!t.userAgent.match(/Version\\/(\\d+).(\\d+)/)) return n.browser = \"Unsupported webkit-based browser with GUM support but no WebRTC support.\", n;\n            n.browser = \"safari\", n.version = this.extractVersion(t.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n          }\n        } else if (t.mediaDevices && t.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) n.browser = \"edge\", n.version = this.extractVersion(t.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);else {\n          if (!t.mediaDevices || !t.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) return n.browser = \"Not a supported browser.\", n;\n          n.browser = \"safari\", n.version = this.extractVersion(t.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n        }\n        return n;\n      }\n    };\n    e.exports = {\n      log: o.log,\n      deprecated: o.deprecated,\n      disableLog: o.disableLog,\n      disableWarnings: o.disableWarnings,\n      extractVersion: o.extractVersion,\n      shimCreateObjectURL: o.shimCreateObjectURL,\n      detectBrowser: o.detectBrowser.bind(o)\n    };\n  }, function (e, t) {\n    e.exports = {\n      ENVIRONMENT: \"environment\",\n      USER: \"user\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(16),\n          i = n(13),\n          o = n(3);\n\n      function a(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function s(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      var c = n(4).getLogger(e),\n          u = n(11),\n          d = !1,\n          l = !1,\n          p = null,\n          f = {\n        intChromeExtPromise: null,\n        obtainStream: null,\n        init: function init() {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n            desktopSharingChromeDisabled: !1,\n            desktopSharingChromeExtId: null,\n            desktopSharingFirefoxDisabled: !1\n          },\n              t = arguments.length > 1 ? arguments[1] : void 0;\n          this.options = e, p = t, this.obtainStream = this._createObtainStreamMethod(e), this.obtainStream || c.info(\"Desktop sharing disabled\");\n        },\n        _createObtainStreamMethod: function _createObtainStreamMethod(e) {\n          var t = this;\n          return o.a.isNWJS() ? function (e, t, n) {\n            window.JitsiMeetNW.obtainDesktopStream(t, function (e, t) {\n              var o;\n              o = e && \"InvalidStateError\" === e.name ? new r.a(i.CHROME_EXTENSION_USER_CANCELED) : new r.a(e, t, [\"desktop\"]), \"function\" == typeof n && n(o);\n            });\n          } : o.a.isElectron() ? this.obtainScreenOnElectron : o.a.isChrome() || o.a.isOpera() ? o.a.supportsGetDisplayMedia() && !e.desktopSharingChromeDisabled ? this.obtainScreenFromGetDisplayMedia : e.desktopSharingChromeDisabled || !e.desktopSharingChromeExtId ? null : (c.info(\"Using Chrome extension for desktop sharing\"), this.intChromeExtPromise = function (e) {\n            return function (e) {\n              0 === $(\"link[rel=chrome-webstore-item]\").length && $(\"head\").append('<link rel=\"chrome-webstore-item\">');\n              $(\"link[rel=chrome-webstore-item]\").attr(\"href\", h(e));\n            }(e), new Promise(function (t) {\n              m(function (e, n) {\n                d = e, l = n, c.info(\"Chrome extension installed: \".concat(d, \" updateRequired: \").concat(l)), t();\n              }, e);\n            });\n          }(e).then(function () {\n            t.intChromeExtPromise = null;\n          }), this.obtainScreenFromExtension) : o.a.isFirefox() ? e.desktopSharingFirefoxDisabled ? null : o.a.supportsGetDisplayMedia() ? this.obtainScreenFromGetDisplayMedia : this.obtainScreenOnFirefox : o.a.isEdge() && o.a.supportsGetDisplayMedia() ? this.obtainScreenFromGetDisplayMedia : (c.log(\"Screen sharing not supported by the current browser: \", o.a.getName()), null);\n        },\n        isSupported: function isSupported() {\n          return null !== this.obtainStream;\n        },\n        obtainScreenOnFirefox: function obtainScreenOnFirefox(e, t, n) {\n          !function (e, t, n) {\n            p([\"screen\"], e).then(function (e) {\n              return t({\n                stream: e\n              });\n            }, n);\n          }(e.gumOptions, t, n);\n        },\n        obtainScreenOnElectron: function obtainScreenOnElectron() {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n              t = arguments.length > 1 ? arguments[1] : void 0,\n              n = arguments.length > 2 ? arguments[2] : void 0;\n\n          if (window.JitsiMeetScreenObtainer && window.JitsiMeetScreenObtainer.openDesktopPicker) {\n            var o = e.desktopSharingSources,\n                a = e.gumOptions;\n            window.JitsiMeetScreenObtainer.openDesktopPicker({\n              desktopSharingSources: o || this.options.desktopSharingChromeSources\n            }, function (e, r) {\n              return v({\n                response: {\n                  streamId: e,\n                  streamType: r\n                },\n                gumOptions: a\n              }, t, n);\n            }, function (e) {\n              return n(new r.a(i.ELECTRON_DESKTOP_PICKER_ERROR, e));\n            });\n          } else n(new r.a(i.ELECTRON_DESKTOP_PICKER_NOT_FOUND));\n        },\n        obtainScreenFromExtension: function obtainScreenFromExtension(e, t, n) {\n          var o = this;\n\n          if (null === this.intChromeExtPromise) {\n            var a = this.options,\n                s = a.desktopSharingChromeExtId,\n                u = a.desktopSharingChromeSources,\n                p = e.gumOptions,\n                f = {\n              desktopSharingChromeExtId: s,\n              desktopSharingChromeSources: e.desktopSharingSources || u,\n              gumOptions: p\n            };\n            d ? function (e, t, n) {\n              var o = e.desktopSharingChromeSources,\n                  a = e.desktopSharingChromeExtId,\n                  s = e.gumOptions;\n              chrome.runtime.sendMessage(a, {\n                getStream: !0,\n                sources: o\n              }, function (e) {\n                if (e) c.log(\"Response from extension: \", e), v({\n                  response: e,\n                  gumOptions: s\n                }, t, n);else {\n                  var o = chrome.runtime.lastError;\n                  n(o instanceof Error ? o : new r.a(i.CHROME_EXTENSION_GENERIC_ERROR, o));\n                }\n              });\n            }(f, t, n) : (l && alert(\"Jitsi Desktop Streamer requires update. Changes will take effect after next Chrome restart.\"), this.handleExternalInstall(e, t, n));\n          } else this.intChromeExtPromise.then(function () {\n            o.obtainScreenFromExtension(e, t, n);\n          });\n        },\n        handleExternalInstall: function handleExternalInstall(e, t, n, r) {\n          var i = h(this.options);\n          e.listener(\"waitingForExtension\", i), this.checkForChromeExtensionOnInterval(e, t, n, r);\n        },\n        checkForChromeExtensionOnInterval: function checkForChromeExtensionOnInterval(e, t, n) {\n          var o = this;\n          !1 !== e.checkAgain() ? function (e, t, n) {\n            if (0 === n) return Promise.reject();\n            return new Promise(function (r, i) {\n              var o = n,\n                  a = window.setInterval(function () {\n                m(function (e) {\n                  e ? (window.clearInterval(a), r()) : 0 === --o && (i(), window.clearInterval(a));\n                }, e);\n              }, t);\n            });\n          }(this.options, e.interval, 1).then(function () {\n            d = !0, e.listener(\"extensionFound\"), o.obtainScreenFromExtension(e, t, n);\n          }).catch(function () {\n            o.checkForChromeExtensionOnInterval(e, t, n);\n          }) : n(new r.a(i.CHROME_EXTENSION_INSTALLATION_ERROR));\n        },\n        obtainScreenFromGetDisplayMedia: function obtainScreenFromGetDisplayMedia(e, t, n) {\n          c.info(\"Using getDisplayMedia for screen sharing\"), (navigator.getDisplayMedia ? navigator.getDisplayMedia.bind(navigator) : navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices))({\n            video: !0\n          }).then(function (n) {\n            (n && n.getTracks() && n.getTracks().length > 0 ? n.getTracks()[0].applyConstraints(e.trackOptions) : Promise.resolve()).then(function () {\n              return t({\n                stream: n,\n                sourceId: n.id\n              });\n            });\n          }).catch(function () {\n            return n(new r.a(i.CHROME_EXTENSION_USER_CANCELED));\n          });\n        }\n      };\n\n      function h(e) {\n        return \"https://chrome.google.com/webstore/detail/\".concat(e.desktopSharingChromeExtId);\n      }\n\n      function m(e, t) {\n        \"undefined\" != typeof chrome && chrome && chrome.runtime ? chrome.runtime.sendMessage(t.desktopSharingChromeExtId, {\n          getVersion: !0\n        }, function (n) {\n          if (!n || !n.version) return c.warn(\"Extension not installed?: \", chrome.runtime.lastError), void e(!1, !1);\n          var r = n.version;\n          c.log(\"Extension version is: \".concat(r));\n\n          var i = function (e, t) {\n            try {\n              for (var n = e.split(\".\"), r = t.split(\".\"), i = Math.max(n.length, r.length), o = 0; o < i; o++) {\n                var a = 0,\n                    s = 0;\n                if (o < n.length && (a = parseInt(n[o], 10)), o < r.length && (s = parseInt(r[o], 10)), isNaN(a) || isNaN(s)) return !0;\n                if (a !== s) return a > s;\n              }\n\n              return !1;\n            } catch (e) {\n              return u.callErrorHandler(e), c.error(\"Failed to parse extension version\", e), !0;\n            }\n          }(t.desktopSharingChromeMinExtVersion, r);\n\n          e(!i, i);\n        }) : e(!1, !1);\n      }\n\n      function v() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n          response: {},\n          gumOptions: {}\n        },\n            t = arguments.length > 1 ? arguments[1] : void 0,\n            n = arguments.length > 2 ? arguments[2] : void 0,\n            o = e.response || {},\n            c = o.streamId,\n            u = o.streamType,\n            d = o.error;\n\n        if (c) {\n          var l = function (e) {\n            for (var t = 1; t < arguments.length; t++) {\n              var n = null != arguments[t] ? arguments[t] : {};\n              t % 2 ? a(Object(n), !0).forEach(function (t) {\n                s(e, t, n[t]);\n              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach(function (t) {\n                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n              });\n            }\n\n            return e;\n          }({\n            desktopStream: c\n          }, e.gumOptions);\n\n          p([\"desktop\"], l).then(function (e) {\n            return t({\n              stream: e,\n              sourceId: c,\n              sourceType: u\n            });\n          }, n);\n        } else {\n          if (\"\" === c) return void n(new r.a(i.CHROME_EXTENSION_USER_CANCELED));\n          n(new r.a(i.CHROME_EXTENSION_GENERIC_ERROR, d));\n        }\n      }\n\n      t.a = f;\n    }).call(this, \"modules/RTC/ScreenObtainer.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return S;\n      }), n.d(t, \"b\", function () {\n        return b;\n      });\n      var r = n(4),\n          i = n(1),\n          o = n(15),\n          a = n(9),\n          s = n(3),\n          c = n(8),\n          u = n.n(c),\n          d = n(5),\n          l = n(6);\n\n      function p(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function f(e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? p(Object(n), !0).forEach(function (t) {\n            h(e, t, n[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : p(Object(n)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n          });\n        }\n\n        return e;\n      }\n\n      function h(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      function m(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function v(e, t, n) {\n        return t && m(e.prototype, t), n && m(e, n), e;\n      }\n\n      var g = Object(r.getLogger)(e),\n          y = 500,\n          _ = 1e4,\n          S = {\n        ACTIVE: \"active\",\n        INACTIVE: \"inactive\",\n        INTERRUPTED: \"interrupted\",\n        RESTORING: \"restoring\"\n      },\n          b = function () {\n        function e(t, n, r) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.rtc = t, this.conference = n, this.trackTimers = {}, this.connStatusFromJvb = {}, this.outOfLastNTimeout = \"number\" == typeof r.outOfLastNTimeout ? r.outOfLastNTimeout : y, this.rtcMuteTimeout = \"number\" == typeof r.rtcMuteTimeout ? r.rtcMuteTimeout : _, this.rtcMutedTimestamp = {}, g.info(\"RtcMuteTimeout set to: \".concat(this.rtcMuteTimeout)), this.enteredLastNTimestamp = new Map(), this.restoringTimers = new Map(), this.connectionStatusMap = new Map();\n        }\n\n        return v(e, null, [{\n          key: \"_getNewStateForJvbMode\",\n          value: function value(e, t, n, r, i) {\n            return e ? r ? S.ACTIVE : s.a.supportsVideoMuteOnConnInterrupted() ? i ? t ? n ? S.INTERRUPTED : S.RESTORING : S.INACTIVE : S.ACTIVE : t ? S.ACTIVE : S.INACTIVE : S.INTERRUPTED;\n          }\n        }, {\n          key: \"_getNewStateForP2PMode\",\n          value: function value(e, t) {\n            return s.a.supportsVideoMuteOnConnInterrupted() ? e || !t ? S.ACTIVE : S.INTERRUPTED : S.ACTIVE;\n          }\n        }]), v(e, [{\n          key: \"_getVideoFrozenTimeout\",\n          value: function value(e) {\n            return this.rtc.isInLastN(e) ? this.rtcMuteTimeout : this.outOfLastNTimeout;\n          }\n        }, {\n          key: \"init\",\n          value: function value() {\n            this._onEndpointConnStatusChanged = this.onEndpointConnStatusChanged.bind(this), this.rtc.addListener(u.a.ENDPOINT_CONN_STATUS_CHANGED, this._onEndpointConnStatusChanged), this._onP2PStatus = this.refreshConnectionStatusForAll.bind(this), this.conference.on(i.P2P_STATUS, this._onP2PStatus), this._onUserLeft = this.onUserLeft.bind(this), this.conference.on(i.USER_LEFT, this._onUserLeft), s.a.supportsVideoMuteOnConnInterrupted() && (this._onTrackRtcMuted = this.onTrackRtcMuted.bind(this), this.rtc.addListener(u.a.REMOTE_TRACK_MUTE, this._onTrackRtcMuted), this._onTrackRtcUnmuted = this.onTrackRtcUnmuted.bind(this), this.rtc.addListener(u.a.REMOTE_TRACK_UNMUTE, this._onTrackRtcUnmuted), this._onRemoteTrackAdded = this.onRemoteTrackAdded.bind(this), this.conference.on(i.TRACK_ADDED, this._onRemoteTrackAdded), this._onRemoteTrackRemoved = this.onRemoteTrackRemoved.bind(this), this.conference.on(i.TRACK_REMOVED, this._onRemoteTrackRemoved), this._onSignallingMuteChanged = this.onSignallingMuteChanged.bind(this), this._onTrackVideoTypeChanged = this.onTrackVideoTypeChanged.bind(this)), this._onLastNChanged = this._onLastNChanged.bind(this), this.conference.on(i.LAST_N_ENDPOINTS_CHANGED, this._onLastNChanged), this._onLastNValueChanged = this.refreshConnectionStatusForAll.bind(this), this.rtc.on(u.a.LASTN_VALUE_CHANGED, this._onLastNValueChanged);\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            this.rtc.removeListener(u.a.ENDPOINT_CONN_STATUS_CHANGED, this._onEndpointConnStatusChanged), s.a.supportsVideoMuteOnConnInterrupted() && (this.rtc.removeListener(u.a.REMOTE_TRACK_MUTE, this._onTrackRtcMuted), this.rtc.removeListener(u.a.REMOTE_TRACK_UNMUTE, this._onTrackRtcUnmuted), this.conference.off(i.TRACK_ADDED, this._onRemoteTrackAdded), this.conference.off(i.TRACK_REMOVED, this._onRemoteTrackRemoved)), this.conference.off(i.LAST_N_ENDPOINTS_CHANGED, this._onLastNChanged), this.rtc.removeListener(u.a.LASTN_VALUE_CHANGED, this._onLastNValueChanged), this.conference.off(i.P2P_STATUS, this._onP2PStatus), this.conference.off(i.USER_LEFT, this._onUserLeft);\n\n            for (var e = 0, t = Object.keys(this.trackTimers); e < t.length; e++) {\n              var n = t[e];\n              this.clearTimeout(n), this.clearRtcMutedTimestamp(n);\n            }\n\n            for (var r in this.connectionStatusMap) {\n              this.connectionStatusMap.hasOwnProperty(r) && this.onUserLeft(r);\n            }\n\n            this.connStatusFromJvb = {};\n          }\n        }, {\n          key: \"onEndpointConnStatusChanged\",\n          value: function value(e, t) {\n            g.debug(\"Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED(\".concat(Date.now(), \"): \").concat(e, \": \").concat(t)), e !== this.conference.myUserId() && (this.connStatusFromJvb[e] = t, this.figureOutConnectionStatus(e));\n          }\n        }, {\n          key: \"_changeConnectionStatus\",\n          value: function value(e, t) {\n            if (e.getConnectionStatus() !== t) {\n              var n = e.getId();\n              e._setConnectionStatus(t), g.debug(\"Emit endpoint conn status(\".concat(Date.now(), \") \").concat(n, \": \").concat(t)), d.a.sendLog(JSON.stringify({\n                id: \"peer.conn.status\",\n                participant: n,\n                status: t\n              })), this.conference.eventEmitter.emit(i.PARTICIPANT_CONN_STATUS_CHANGED, n, t);\n            }\n          }\n        }, {\n          key: \"clearTimeout\",\n          value: function value(e) {\n            this.trackTimers[e] && (window.clearTimeout(this.trackTimers[e]), this.trackTimers[e] = null);\n          }\n        }, {\n          key: \"clearRtcMutedTimestamp\",\n          value: function value(e) {\n            this.rtcMutedTimestamp[e] = null;\n          }\n        }, {\n          key: \"onRemoteTrackAdded\",\n          value: function value(e) {\n            var t = this;\n            e.isLocal() || e.getType() !== a.c || (g.debug(\"Detector on remote track added for: \".concat(e.getParticipantId())), e.on(o.TRACK_MUTE_CHANGED, this._onSignallingMuteChanged), e.on(o.TRACK_VIDEOTYPE_CHANGED, function (n) {\n              return t._onTrackVideoTypeChanged(e, n);\n            }));\n          }\n        }, {\n          key: \"onRemoteTrackRemoved\",\n          value: function value(e) {\n            if (!e.isLocal() && e.getType() === a.c) {\n              var t = e.getParticipantId();\n              g.debug(\"Detector on remote track removed: \".concat(t)), e.off(o.TRACK_MUTE_CHANGED, this._onSignallingMuteChanged), this.clearTimeout(t), this.clearRtcMutedTimestamp(t), this.figureOutConnectionStatus(t);\n            }\n          }\n        }, {\n          key: \"isVideoTrackFrozen\",\n          value: function value(e) {\n            if (!s.a.supportsVideoMuteOnConnInterrupted()) return !1;\n\n            var t = e.getId(),\n                n = e.hasAnyVideoTrackWebRTCMuted(),\n                r = this.rtcMutedTimestamp[t],\n                i = this._getVideoFrozenTimeout(t);\n\n            return n && \"number\" == typeof r && Date.now() - r >= i;\n          }\n        }, {\n          key: \"refreshConnectionStatusForAll\",\n          value: function value() {\n            var e = this.conference.getParticipants(),\n                t = !0,\n                n = !1,\n                r = void 0;\n\n            try {\n              for (var i, o = e[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n                var a = i.value;\n                this.figureOutConnectionStatus(a.getId());\n              }\n            } catch (e) {\n              n = !0, r = e;\n            } finally {\n              try {\n                t || null == o.return || o.return();\n              } finally {\n                if (n) throw r;\n              }\n            }\n          }\n        }, {\n          key: \"figureOutConnectionStatus\",\n          value: function value(t) {\n            var n = this.conference.getParticipantById(t);\n\n            if (n) {\n              var r = this.conference.isP2PActive(),\n                  i = this._isRestoringTimedout(t),\n                  o = 0 === this.rtc.getLastN(),\n                  s = n.isVideoMuted() || o,\n                  c = this.isVideoTrackFrozen(n),\n                  u = this.rtc.isInLastN(t),\n                  d = this.connStatusFromJvb[t];\n\n              \"boolean\" != typeof d && (g.debug(\"Assuming connection active by JVB - no notification\"), d = !0);\n              var l = r ? e._getNewStateForP2PMode(s, c) : e._getNewStateForJvbMode(d, u, i, s, c);\n              l !== S.RESTORING && this._clearRestoringTimer(t), g.debug(\"Figure out conn status for \".concat(t, \", is video muted: \").concat(s, \" is active(jvb): \").concat(d, \" video track frozen: \").concat(c, \" p2p mode: \").concat(r, \" is in last N: \").concat(u, \" currentStatus => newStatus: \").concat(n.getConnectionStatus(), \" => \").concat(l));\n              var p = this.connectionStatusMap[t] || {};\n\n              if (!(\"p2p\" in p && \"connectionStatus\" in p && p.p2p === r && p.connectionStatus === l)) {\n                var h = Date.now();\n\n                if (this.maybeSendParticipantConnectionStatusEvent(t, h), this.connectionStatusMap[t] = f({}, p, {\n                  connectionStatus: l,\n                  p2p: r,\n                  startedMs: h\n                }), !(\"videoType\" in this.connectionStatusMap[t])) {\n                  var m = n.getTracksByMediaType(a.c);\n                  Array.isArray(m) && 0 !== m.length && (this.connectionStatusMap[t].videoType = m[0].videoType);\n                }\n              }\n\n              this._changeConnectionStatus(n, l);\n            } else g.debug(\"figure out conn status - no participant for: \".concat(t));\n          }\n        }, {\n          key: \"maybeSendParticipantConnectionStatusEvent\",\n          value: function value(e, t) {\n            var n = this.connectionStatusMap[e];\n            n && \"startedMs\" in n && \"videoType\" in n && \"connectionStatus\" in n && \"p2p\" in n && (n.value = t - n.startedMs, d.a.sendAnalytics(Object(l.J)(n)));\n          }\n        }, {\n          key: \"_onLastNChanged\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],\n                n = Date.now();\n            g.debug(\"leaving/entering lastN\", e, t, n);\n            var r = !0,\n                i = !1,\n                o = void 0;\n\n            try {\n              for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done); r = !0) {\n                var c = a.value;\n                this.enteredLastNTimestamp.delete(c), this._clearRestoringTimer(c), this.figureOutConnectionStatus(c);\n              }\n            } catch (e) {\n              i = !0, o = e;\n            } finally {\n              try {\n                r || null == s.return || s.return();\n              } finally {\n                if (i) throw o;\n              }\n            }\n\n            var u = !0,\n                d = !1,\n                l = void 0;\n\n            try {\n              for (var p, f = t[Symbol.iterator](); !(u = (p = f.next()).done); u = !0) {\n                var h = p.value;\n                this.enteredLastNTimestamp.set(h, n), this.figureOutConnectionStatus(h);\n              }\n            } catch (e) {\n              d = !0, l = e;\n            } finally {\n              try {\n                u || null == f.return || f.return();\n              } finally {\n                if (d) throw l;\n              }\n            }\n          }\n        }, {\n          key: \"_clearRestoringTimer\",\n          value: function value(e) {\n            var t = this.restoringTimers.get(e);\n            t && (clearTimeout(t), this.restoringTimers.delete(e));\n          }\n        }, {\n          key: \"_isRestoringTimedout\",\n          value: function value(e) {\n            var t = this,\n                n = this.enteredLastNTimestamp.get(e);\n            return !!(n && Date.now() - n >= 1e4) || (this.restoringTimers.get(e) || this.restoringTimers.set(e, setTimeout(function () {\n              return t.figureOutConnectionStatus(e);\n            }, 1e4)), !1);\n          }\n        }, {\n          key: \"onUserLeft\",\n          value: function value(e) {\n            this.maybeSendParticipantConnectionStatusEvent(e, Date.now()), delete this.connectionStatusMap[e];\n          }\n        }, {\n          key: \"onTrackRtcMuted\",\n          value: function value(e) {\n            var t = this,\n                n = e.getParticipantId(),\n                r = this.conference.getParticipantById(n);\n\n            if (g.debug(\"Detector track RTC muted: \".concat(n), Date.now()), r) {\n              if (this.rtcMutedTimestamp[n] = Date.now(), !r.isVideoMuted()) {\n                this.clearTimeout(n);\n\n                var i = this._getVideoFrozenTimeout(n);\n\n                this.trackTimers[n] = window.setTimeout(function () {\n                  g.debug(\"Set RTC mute timeout for: \".concat(n, \"                     of \").concat(i, \" ms\")), t.clearTimeout(n), t.figureOutConnectionStatus(n);\n                }, i);\n              }\n            } else g.error(\"No participant for id: \".concat(n));\n          }\n        }, {\n          key: \"onTrackRtcUnmuted\",\n          value: function value(e) {\n            var t = e.getParticipantId();\n            g.debug(\"Detector track RTC unmuted: \".concat(t), Date.now()), this.clearTimeout(t), this.clearRtcMutedTimestamp(t), this.figureOutConnectionStatus(t);\n          }\n        }, {\n          key: \"onSignallingMuteChanged\",\n          value: function value(e) {\n            var t = e.getParticipantId();\n            g.debug(\"Detector on track signalling mute changed: \".concat(t), e.isMuted()), this.figureOutConnectionStatus(t);\n          }\n        }, {\n          key: \"onTrackVideoTypeChanged\",\n          value: function value(e, t) {\n            var n = e.getParticipantId(),\n                r = Date.now();\n            this.maybeSendParticipantConnectionStatusEvent(n, r), this.connectionStatusMap[n] = f({}, this.connectionStatusMap[n] || {}, {\n              videoType: t,\n              startedMs: r\n            });\n          }\n        }]), e;\n      }();\n    }).call(this, \"modules/connectivity/ParticipantConnectionStatus.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    t.a = {\n      getFocusRecordingUpdate: function getFocusRecordingUpdate(e) {\n        var t = e && e.getElementsByTagName(\"jibri-recording-status\")[0];\n        if (t) return {\n          error: t.getAttribute(\"failure_reason\"),\n          initiator: t.getAttribute(\"initiator\"),\n          recordingMode: t.getAttribute(\"recording_mode\"),\n          sessionID: t.getAttribute(\"session_id\"),\n          status: t.getAttribute(\"status\")\n        };\n      },\n      getHiddenDomainUpdate: function getHiddenDomainUpdate(e) {\n        var t = e.getElementsByTagName(\"live-stream-view-url\")[0],\n            n = t && t.textContent,\n            r = e.getElementsByTagName(\"mode\")[0],\n            i = r && r.textContent && r.textContent.toLowerCase(),\n            o = e.getElementsByTagName(\"session_id\")[0];\n        return {\n          liveStreamViewURL: n,\n          mode: i,\n          sessionID: o && o.textContent\n        };\n      },\n      getSessionIdFromIq: function getSessionIdFromIq(e) {\n        var t = e && e.getElementsByTagName(\"jibri\")[0];\n        return t && t.getAttribute(\"session_id\");\n      },\n      getSessionId: function getSessionId(e) {\n        var t = e.getElementsByTagName(\"session_id\")[0];\n        return t && t.textContent;\n      },\n      isFromFocus: function isFromFocus(e) {\n        return e.getAttribute(\"from\").includes(\"focus\");\n      }\n    };\n  }, function (e, t) {\n    var n;\n\n    n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return O;\n      });\n\n      var r = n(6),\n          i = n(4),\n          o = n(2),\n          a = n(90),\n          s = n(91),\n          c = n(31),\n          u = n(18),\n          d = n(47),\n          l = n(7),\n          p = n(92),\n          f = n(8),\n          h = n.n(f),\n          m = n(5),\n          v = n(0),\n          g = n.n(v),\n          y = n(94),\n          _ = n(11),\n          S = n.n(_);\n\n      function b(e) {\n        return (b = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function E(e, t) {\n        return !t || \"object\" !== b(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function T(e) {\n        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function C(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function A(e, t, n) {\n        return t && C(e.prototype, t), n && C(e, n), e;\n      }\n\n      function R(e, t) {\n        return (R = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var w = Object(i.getLogger)(e),\n          O = function (e) {\n        function t(e, n, r, i, o, a, s, c) {\n          var u;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (u = E(this, T(t).call(this, e, n, r, i, o, a, c)))._bridgeSessionId = null, u._iceCheckingStartedTimestamp = null, u._gatheringStartedTimestamp = null, u._localVideoActive = !0, u._remoteVideoActive = !0, u._gatheringReported = !1, u.lasticecandidate = !1, u.closed = !1, u.isP2P = s, u.signalingLayer = new p.a(), u.modificationQueue = new y.a(), u.wasConnected = !1, u.establishmentDuration = void 0, u;\n        }\n\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && R(e, t);\n        }(t, e), A(t, null, [{\n          key: \"parseVideoSenders\",\n          value: function value(e) {\n            var t = e.find('>content[name=\"video\"]');\n\n            if (t.length) {\n              var n = t[0].getAttribute(\"senders\");\n              if (\"both\" === n || \"initiator\" === n || \"responder\" === n || \"none\" === n) return n;\n            }\n\n            return null;\n          }\n        }]), A(t, [{\n          key: \"_assertNotEnded\",\n          value: function value() {\n            return this.state !== c.b;\n          }\n        }, {\n          key: \"doInitialize\",\n          value: function value(e) {\n            var t = this;\n            this.failICE = Boolean(e.failICE), this.lasticecandidate = !1, this.options = e, this.isReconnect = !1, this.wasstable = !1, this.webrtcIceUdpDisable = Boolean(e.webrtcIceUdpDisable), this.webrtcIceTcpDisable = Boolean(e.webrtcIceTcpDisable);\n            var n = {\n              disableRtx: e.disableRtx\n            };\n\n            if (e.gatherStats && (n.maxstats = 300), n.capScreenshareBitrate = !1, this.isP2P) {\n              n.disableSimulcast = !0, n.disableH264 = e.p2p && e.p2p.disableH264, n.preferH264 = e.p2p && e.p2p.preferH264;\n\n              var i = this._abtestSuspendVideoEnabled(e);\n\n              void 0 !== i && (n.abtestSuspendVideo = i);\n            } else n.disableSimulcast = e.disableSimulcast || e.preferH264 && !e.disableH264, n.preferH264 = e.preferH264, n.enableFirefoxSimulcast = e.testing && e.testing.enableFirefoxSimulcast, n.enableLayerSuspension = e.enableLayerSuspension, e.testing && e.testing.capScreenshareBitrate && \"number\" == typeof e.testing.capScreenshareBitrate && (n.capScreenshareBitrate = Math.random() < e.testing.capScreenshareBitrate, m.a.analytics.addPermanentProperties({\n              capScreenshareBitrate: n.capScreenshareBitrate\n            }));\n\n            e.startSilent && (n.startSilent = !0), this.peerconnection = this.rtc.createPeerConnection(this.signalingLayer, this.iceConfig, this.isP2P, n), this.peerconnection.onicecandidate = function (e) {\n              if (e) {\n                var n = e.candidate,\n                    i = window.performance.now();\n\n                if (n) {\n                  null === t._gatheringStartedTimestamp && (t._gatheringStartedTimestamp = i);\n                  var o = n.protocol;\n                  if (\"string\" == typeof o) if (\"tcp\" === (o = o.toLowerCase()) || \"ssltcp\" === o) {\n                    if (t.webrtcIceTcpDisable) return;\n                  } else if (\"udp\" === o && t.webrtcIceUdpDisable) return;\n                } else t._gatheringReported || (m.a.sendAnalytics(r.o, {\n                  phase: \"gathering\",\n                  value: i - t._gatheringStartedTimestamp,\n                  p2p: t.isP2P,\n                  initiator: t.isInitiator\n                }), t._gatheringReported = !0);\n\n                t.sendIceCandidate(n);\n              }\n            }, this.peerconnection.onsignalingstatechange = function () {\n              \"stable\" === t.peerconnection.signalingState ? t.wasstable = !0 : \"closed\" !== t.peerconnection.signalingState && \"closed\" !== t.peerconnection.connectionState || t.room.eventEmitter.emit(g.a.SUSPEND_DETECTED, t);\n            }, this.peerconnection.oniceconnectionstatechange = function () {\n              var e = window.performance.now();\n\n              switch (t.isP2P || (t.room.connectionTimes[\"ice.state.\".concat(t.peerconnection.iceConnectionState)] = e), w.log(\"(TIME) ICE \".concat(t.peerconnection.iceConnectionState) + \" P2P? \".concat(t.isP2P, \":\\t\"), e), m.a.sendAnalytics(r.q, {\n                p2p: t.isP2P,\n                state: t.peerconnection.iceConnectionState,\n                signaling_state: t.peerconnection.signalingState,\n                reconnect: t.isReconnect,\n                value: e\n              }), t.room.eventEmitter.emit(g.a.ICE_CONNECTION_STATE_CHANGED, t, t.peerconnection.iceConnectionState), t.peerconnection.iceConnectionState) {\n                case \"checking\":\n                  t._iceCheckingStartedTimestamp = e;\n                  break;\n\n                case \"connected\":\n                  if (\"stable\" === t.peerconnection.signalingState && t.isReconnect && t.room.eventEmitter.emit(g.a.CONNECTION_RESTORED, t), !t.wasConnected && t.wasstable) {\n                    m.a.sendAnalytics(r.o, {\n                      phase: \"checking\",\n                      value: e - t._iceCheckingStartedTimestamp,\n                      p2p: t.isP2P,\n                      initiator: t.isInitiator\n                    });\n                    var n = Math.min(t._iceCheckingStartedTimestamp, t._gatheringStartedTimestamp);\n                    t.establishmentDuration = e - n, m.a.sendAnalytics(r.o, {\n                      phase: \"establishment\",\n                      value: t.establishmentDuration,\n                      p2p: t.isP2P,\n                      initiator: t.isInitiator\n                    }), t.wasConnected = !0, t.room.eventEmitter.emit(g.a.CONNECTION_ESTABLISHED, t);\n                  }\n\n                  t.isReconnect = !1;\n                  break;\n\n                case \"disconnected\":\n                  t.isReconnect = !0, t.wasstable && t.room.eventEmitter.emit(g.a.CONNECTION_INTERRUPTED, t);\n                  break;\n\n                case \"failed\":\n                  t.room.eventEmitter.emit(g.a.CONNECTION_ICE_FAILED, t);\n              }\n            }, this.peerconnection.onnegotiationneeded = function () {\n              t.room.eventEmitter.emit(g.a.PEERCONNECTION_READY, t);\n            }, this.signalingLayer.setChatRoom(this.room), !this.isP2P && e.enableLayerSuspension && this.rtc.addListener(h.a.IS_SELECTED_CHANGED, function (e) {\n              t.peerconnection.setIsSelected(e), w.info(\"Doing local O/A due to IS_SELECTED_CHANGED event\"), t.modificationQueue.push(function (e) {\n                t._renegotiate().then(e).catch(e);\n              });\n            });\n          }\n        }, {\n          key: \"sendIceCandidate\",\n          value: function value(e) {\n            var t = this,\n                n = new u.a(this.peerconnection.localDescription.sdp);\n\n            if (e && !this.lasticecandidate) {\n              var r = l.a.iceparams(n.media[e.sdpMLineIndex], n.session),\n                  i = l.a.candidateToJingle(e.candidate);\n\n              if (!r || !i) {\n                return S.a.callErrorHandler(new Error(\"failed to get ice && jcand\")), void w.error(\"failed to get ice && jcand\");\n              }\n\n              r.xmlns = \"urn:xmpp:jingle:transports:ice-udp:1\", this.usedrip ? (0 === this.dripContainer.length && setTimeout(function () {\n                0 !== t.dripContainer.length && (t.sendIceCandidates(t.dripContainer), t.dripContainer = []);\n              }, 20), this.dripContainer.push(e)) : this.sendIceCandidates([e]);\n            } else w.log(\"sendIceCandidate: last candidate.\"), this.lasticecandidate = !0;\n          }\n        }, {\n          key: \"sendIceCandidates\",\n          value: function value(e) {\n            var t = this;\n\n            if (this._assertNotEnded(\"sendIceCandidates\")) {\n              w.log(\"sendIceCandidates\", e);\n\n              for (var n = Object(o.$iq)({\n                to: this.remoteJid,\n                type: \"set\"\n              }).c(\"jingle\", {\n                xmlns: \"urn:xmpp:jingle:1\",\n                action: \"transport-info\",\n                initiator: this.initiatorJid,\n                sid: this.sid\n              }), r = new u.a(this.peerconnection.localDescription.sdp), i = function i(_i4) {\n                var o = e.filter(function (e) {\n                  return e.sdpMLineIndex === _i4;\n                }),\n                    a = l.a.parseMLine(r.media[_i4].split(\"\\r\\n\")[0]);\n\n                if (o.length > 0) {\n                  var s = l.a.iceparams(r.media[_i4], r.session);\n                  s.xmlns = \"urn:xmpp:jingle:transports:ice-udp:1\", n.c(\"content\", {\n                    creator: t.initiatorJid === t.localJid ? \"initiator\" : \"responder\",\n                    name: o[0].sdpMid ? o[0].sdpMid : a.media\n                  }).c(\"transport\", s);\n\n                  for (var c = 0; c < o.length; c++) {\n                    var u = l.a.candidateToJingle(o[c].candidate);\n                    t.failICE && (u.ip = \"1.1.1.1\"), n.c(\"candidate\", u).up();\n                  }\n\n                  var d = l.a.findLine(r.media[_i4], \"a=fingerprint:\", r.session);\n\n                  if (d) {\n                    var p = l.a.parseFingerprint(d);\n                    p.required = !0, n.c(\"fingerprint\", {\n                      xmlns: \"urn:xmpp:jingle:apps:dtls:0\"\n                    }).t(p.fingerprint), delete p.fingerprint, n.attrs(p), n.up();\n                  }\n\n                  n.up(), n.up();\n                }\n              }, a = 0; a < r.media.length; a++) {\n                i(a);\n              }\n\n              this.connection.sendIQ(n, null, this.newJingleErrorHandler(n), 1e4);\n            }\n          }\n        }, {\n          key: \"sendIceFailedNotification\",\n          value: function value() {\n            var e = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"session-info\",\n              initiator: this.initiatorJid,\n              sid: this.sid\n            }).c(\"ice-state\", {\n              xmlns: \"http://jitsi.org/protocol/focus\"\n            }).t(\"failed\").up();\n            this._bridgeSessionId && e.c(\"bridge-session\", {\n              xmlns: \"http://jitsi.org/protocol/focus\",\n              id: this._bridgeSessionId\n            }), this.connection.sendIQ(e, null, this.newJingleErrorHandler(e), 65);\n          }\n        }, {\n          key: \"addIceCandidates\",\n          value: function value(e) {\n            var t = this;\n\n            if (\"closed\" !== this.peerconnection.signalingState) {\n              var n = [];\n\n              if (e.find(\">content>transport>candidate\").each(function (e, t) {\n                var r = l.a.candidateFromJingle(t);\n                r = r.replace(\"\\r\\n\", \"\").replace(\"a=\", \"\");\n                var i = new RTCIceCandidate({\n                  sdpMLineIndex: 0,\n                  sdpMid: \"\",\n                  candidate: r\n                });\n                n.push(i);\n              }), n.length) {\n                w.debug(\"Queued add (\".concat(n.length, \") ICE candidates task...\")), this.modificationQueue.push(function (e) {\n                  var r = !0,\n                      i = !1,\n                      o = void 0;\n\n                  try {\n                    for (var a, s = n[Symbol.iterator](); !(r = (a = s.next()).done); r = !0) {\n                      var c = a.value;\n                      t.peerconnection.addIceCandidate(c).then(function () {\n                        return w.debug(\"addIceCandidate ok!\");\n                      }, function (e) {\n                        return w.error(\"addIceCandidate failed!\", e);\n                      });\n                    }\n                  } catch (e) {\n                    i = !0, o = e;\n                  } finally {\n                    try {\n                      r || null == s.return || s.return();\n                    } finally {\n                      if (i) throw o;\n                    }\n                  }\n\n                  e();\n                });\n              } else w.error(\"No ICE candidates to add ?\", e[0] && e[0].outerHTML);\n            } else w.warn(\"Ignored add ICE candidate when in closed state\");\n          }\n        }, {\n          key: \"readSsrcInfo\",\n          value: function value(e) {\n            var t = this;\n            $(e).find('>description>source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function (e, n) {\n              var r = Number(n.getAttribute(\"ssrc\"));\n              t.isP2P ? t.signalingLayer.setSSRCOwner(r, o.Strophe.getResourceFromJid(t.remoteJid)) : $(n).find('>ssrc-info[xmlns=\"http://jitsi.org/jitmeet\"]').each(function (e, n) {\n                var i = n.getAttribute(\"owner\");\n                i && i.length && (isNaN(r) || r < 0 ? w.warn(\"Invalid SSRC \".concat(r, \" value received\") + \" for \".concat(i)) : t.signalingLayer.setSSRCOwner(r, o.Strophe.getResourceFromJid(i)));\n              });\n            });\n          }\n        }, {\n          key: \"generateRecvonlySsrc\",\n          value: function value() {\n            this.peerconnection ? this.peerconnection.generateRecvonlySsrc() : w.error(\"Unable to generate recvonly SSRC - no peerconnection\");\n          }\n        }, {\n          key: \"acceptOffer\",\n          value: function value(e, t, n, r) {\n            var i = this;\n            this.setOfferAnswerCycle(e, function () {\n              i.sendSessionAccept(t, n);\n            }, n, r);\n          }\n        }, {\n          key: \"invite\",\n          value: function value(e) {\n            var t = this;\n            if (!this.isInitiator) throw new Error(\"Trying to invite from the responder session\");\n            this.modificationQueue.push(function (n) {\n              var r = !0,\n                  i = !1,\n                  o = void 0;\n\n              try {\n                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done); r = !0) {\n                  var c = a.value;\n                  t.peerconnection.addTrack(c);\n                }\n              } catch (e) {\n                i = !0, o = e;\n              } finally {\n                try {\n                  r || null == s.return || s.return();\n                } finally {\n                  if (i) throw o;\n                }\n              }\n\n              t.peerconnection.createOffer(t.mediaConstraints).then(function (e) {\n                t.peerconnection.setLocalDescription(e).then(function () {\n                  t.sendSessionInitiate(t.peerconnection.localDescription.sdp), n();\n                }, function (t) {\n                  w.error(\"Failed to set local SDP\", t, e), n(t);\n                });\n              }, function (e) {\n                w.error(\"Failed to create an offer\", e, t.mediaConstraints), n(e);\n              });\n            }, function (e) {\n              e ? w.error(\"invite error\", e) : w.debug(\"invite executed - OK\");\n            });\n          }\n        }, {\n          key: \"sendSessionInitiate\",\n          value: function value(e) {\n            var t = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"session-initiate\",\n              initiator: this.initiatorJid,\n              sid: this.sid\n            });\n            new u.a(e).toJingle(t, this.isInitiator ? \"initiator\" : \"responder\"), t = t.tree(), w.info(\"Session-initiate: \", t), this.connection.sendIQ(t, function () {\n              w.info('Got RESULT for \"session-initiate\"');\n            }, function (e) {\n              w.error('\"session-initiate\" error', e);\n            }, 1e4);\n          }\n        }, {\n          key: \"setAnswer\",\n          value: function value(e) {\n            if (!this.isInitiator) throw new Error(\"Trying to set an answer on the responder session\");\n            this.setOfferAnswerCycle(e, function () {\n              w.info(\"setAnswer - succeeded\");\n            }, function (e) {\n              w.error(\"setAnswer failed: \", e);\n            });\n          }\n        }, {\n          key: \"setOfferAnswerCycle\",\n          value: function value(e, t, n, r) {\n            var i = this;\n            this.modificationQueue.push(function (t) {\n              if (r) {\n                var n = !0,\n                    o = !1,\n                    a = void 0;\n\n                try {\n                  for (var s, d = r[Symbol.iterator](); !(n = (s = d.next()).done); n = !0) {\n                    var l = s.value;\n                    i.peerconnection.addTrack(l);\n                  }\n                } catch (e) {\n                  o = !0, a = e;\n                } finally {\n                  try {\n                    n || null == d.return || d.return();\n                  } finally {\n                    if (o) throw a;\n                  }\n                }\n              }\n\n              var p = i._processNewJingleOfferIq(e),\n                  f = i.peerconnection.localDescription.sdp,\n                  h = $(e).find('>bridge-session[xmlns=\"http://jitsi.org/protocol/focus\"]').attr(\"id\");\n\n              h !== i._bridgeSessionId && (i._bridgeSessionId = h), i._renegotiate(p.raw).then(function () {\n                if (i.state === c.c && (i.state = c.a, i.isP2P && !i._localVideoActive && i.sendContentModify(i._localVideoActive)), f) {\n                  var e = new u.a(i.peerconnection.localDescription.sdp);\n                  i.notifyMySSRCUpdate(new u.a(f), e);\n                }\n\n                t();\n              }, function (e) {\n                w.error(\"Error renegotiating after setting new remote \".concat(i.isInitiator ? \"answer: \" : \"offer: \").concat(e), p), t(e);\n              });\n            }, function (e) {\n              e ? n(e) : t();\n            });\n          }\n        }, {\n          key: \"replaceTransport\",\n          value: function value(e, t, n) {\n            var r = this;\n            this.room.eventEmitter.emit(g.a.ICE_RESTARTING, this);\n            var i = e.clone();\n            e.find(\">content[name='data']\").attr(\"senders\", \"rejected\"), e.find(\">content>description>source\").remove(), e.find(\">content>description>ssrc-group\").remove();\n            var o = e.find(\">content>transport>fingerprint\");\n            o.attr(\"hash\", \"sha-1\"), o.text(\"00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00\"), this.setOfferAnswerCycle(e, function () {\n              r.setOfferAnswerCycle(i, function () {\n                var e = new u.a(r.peerconnection.localDescription.sdp);\n                r.sendTransportAccept(e, t, n), r.room.eventEmitter.emit(g.a.ICE_RESTART_SUCCESS, r, i);\n              }, n);\n            }, n);\n          }\n        }, {\n          key: \"sendSessionAccept\",\n          value: function value(e, t) {\n            var n = this,\n                r = new u.a(this.peerconnection.localDescription.sdp),\n                i = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"session-accept\",\n              initiator: this.initiatorJid,\n              responder: this.responderJid,\n              sid: this.sid\n            });\n            this.webrtcIceTcpDisable && (r.removeTcpCandidates = !0), this.webrtcIceUdpDisable && (r.removeUdpCandidates = !0), this.failICE && (r.failICE = !0), r.toJingle(i, this.initiatorJid === this.localJid ? \"initiator\" : \"responder\", null), i = i.tree(), w.info(\"Sending session-accept\", i), this.connection.sendIQ(i, e, this.newJingleErrorHandler(i, function (e) {\n              t(e), n.room.eventEmitter.emit(g.a.SESSION_ACCEPT_TIMEOUT, n);\n            }), 1e4);\n          }\n        }, {\n          key: \"sendContentModify\",\n          value: function value(e) {\n            var t = e ? \"both\" : \"none\",\n                n = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"content-modify\",\n              initiator: this.initiatorJid,\n              sid: this.sid\n            }).c(\"content\", {\n              name: \"video\",\n              senders: t\n            });\n            w.info(\"Sending content-modify, video senders: \".concat(t)), this.connection.sendIQ(n, null, this.newJingleErrorHandler(n), 1e4);\n          }\n        }, {\n          key: \"sendTransportAccept\",\n          value: function value(e, t, n) {\n            var r = this,\n                i = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"transport-accept\",\n              initiator: this.initiatorJid,\n              sid: this.sid\n            });\n            e.media.forEach(function (t, n) {\n              var o = l.a.parseMLine(t.split(\"\\r\\n\")[0]);\n              i.c(\"content\", {\n                creator: r.initiatorJid === r.localJid ? \"initiator\" : \"responder\",\n                name: o.media\n              }), e.transportToJingle(n, i), i.up();\n            }), i = i.tree(), w.info(\"Sending transport-accept: \", i), this.connection.sendIQ(i, t, this.newJingleErrorHandler(i, n), 1e4);\n          }\n        }, {\n          key: \"sendTransportReject\",\n          value: function value(e, t) {\n            var n = Object(o.$iq)({\n              to: this.remoteJid,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: \"transport-reject\",\n              initiator: this.initiatorJid,\n              sid: this.sid\n            });\n            n = n.tree(), w.info(\"Sending 'transport-reject\", n), this.connection.sendIQ(n, e, this.newJingleErrorHandler(n, t), 1e4);\n          }\n        }, {\n          key: \"terminate\",\n          value: function value(e, t, n) {\n            if (this.state !== c.b) {\n              if (!n || Boolean(n.sendSessionTerminate)) {\n                var r = Object(o.$iq)({\n                  to: this.remoteJid,\n                  type: \"set\"\n                }).c(\"jingle\", {\n                  xmlns: \"urn:xmpp:jingle:1\",\n                  action: \"session-terminate\",\n                  initiator: this.initiatorJid,\n                  sid: this.sid\n                }).c(\"reason\").c(n && n.reason || \"success\");\n                n && n.reasonDescription && r.up().c(\"text\").t(n.reasonDescription), r = r.tree(), w.info(\"Sending session-terminate\", r), this.connection.sendIQ(r, e, this.newJingleErrorHandler(r, t), 1e4);\n              } else w.info(\"Skipped sending session-terminate for \".concat(this));\n\n              this.connection.jingle.terminate(this.sid);\n            }\n          }\n        }, {\n          key: \"onTerminated\",\n          value: function value(e, t) {\n            w.info(\"Session terminated \".concat(this), e, t), this.close();\n          }\n        }, {\n          key: \"_parseSsrcInfoFromSourceAdd\",\n          value: function value(e, t) {\n            var n = [];\n            return $(e).each(function (e, r) {\n              var i = $(r).attr(\"name\"),\n                  o = \"\";\n              $(r).find('ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function () {\n                var e = this.getAttribute(\"semantics\"),\n                    t = $(this).find(\">source\").map(function () {\n                  return this.getAttribute(\"ssrc\");\n                }).get();\n                t.length && (o += \"a=ssrc-group:\".concat(e, \" \").concat(t.join(\" \"), \"\\r\\n\"));\n              }), $(r).find('source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function () {\n                var e = $(this).attr(\"ssrc\");\n                t.containsSSRC(e) ? w.warn(\"Source-add request for existing SSRC: \".concat(e)) : $(this).find(\">parameter\").each(function () {\n                  o += \"a=ssrc:\".concat(e, \" \").concat($(this).attr(\"name\")), $(this).attr(\"value\") && $(this).attr(\"value\").length && (o += \":\".concat($(this).attr(\"value\"))), o += \"\\r\\n\";\n                });\n              }), t.media.forEach(function (e, t) {\n                l.a.findLine(e, \"a=mid:\".concat(i)) && (n[t] || (n[t] = \"\"), n[t] += o);\n              });\n            }), n;\n          }\n        }, {\n          key: \"addRemoteStream\",\n          value: function value(e) {\n            this._addOrRemoveRemoteStream(!0, e);\n          }\n        }, {\n          key: \"removeRemoteStream\",\n          value: function value(e) {\n            this._addOrRemoveRemoteStream(!1, e);\n          }\n        }, {\n          key: \"_addOrRemoveRemoteStream\",\n          value: function value(e, t) {\n            var n = this,\n                r = e ? \"addRemoteStream\" : \"removeRemoteStream\";\n            e && this.readSsrcInfo(t);\n            this.modificationQueue.push(function (i) {\n              if (!n.peerconnection.localDescription || !n.peerconnection.localDescription.sdp) {\n                var o = \"\".concat(r, \" - localDescription not ready yet\");\n                return w.error(o), void i(o);\n              }\n\n              w.log(\"Processing \".concat(r)), w.log(\"ICE connection state: \", n.peerconnection.iceConnectionState);\n              var a = new u.a(n.peerconnection.localDescription.sdp),\n                  s = new u.a(n.peerconnection.remoteDescription.sdp),\n                  c = e ? n._parseSsrcInfoFromSourceAdd(t, s) : n._parseSsrcInfoFromSourceRemove(t, s),\n                  d = e ? n._processRemoteAddSource(c) : n._processRemoteRemoveSource(c);\n\n              n._renegotiate(d.raw).then(function () {\n                var e = new u.a(n.peerconnection.localDescription.sdp);\n                w.log(\"\".concat(r, \" - OK, SDPs: \"), a, e), n.notifyMySSRCUpdate(a, e), i();\n              }, function (e) {\n                w.error(\"\".concat(r, \" failed:\"), e), i(e);\n              });\n            });\n          }\n        }, {\n          key: \"_processNewJingleOfferIq\",\n          value: function value(e) {\n            var t = new u.a(\"\");\n            return this.webrtcIceTcpDisable && (t.removeTcpCandidates = !0), this.webrtcIceUdpDisable && (t.removeUdpCandidates = !0), this.failICE && (t.failICE = !0), t.fromJingle(e), this.readSsrcInfo($(e).find(\">content\")), t;\n          }\n        }, {\n          key: \"_processRemoteRemoveSource\",\n          value: function value(e) {\n            var t = new u.a(this.peerconnection.remoteDescription.sdp);\n            return e.forEach(function (e, n) {\n              (e = e.split(\"\\r\\n\")).pop(), e.forEach(function (e) {\n                t.media[n] = t.media[n].replace(\"\".concat(e, \"\\r\\n\"), \"\");\n              });\n            }), t.raw = t.session + t.media.join(\"\"), t;\n          }\n        }, {\n          key: \"_processRemoteAddSource\",\n          value: function value(e) {\n            var t = new u.a(this.peerconnection.remoteDescription.sdp);\n            return e.forEach(function (e, n) {\n              t.media[n] += e;\n            }), t.raw = t.session + t.media.join(\"\"), t;\n          }\n        }, {\n          key: \"_renegotiate\",\n          value: function value(e) {\n            if (\"closed\" === this.peerconnection.signalingState) {\n              var t = new Error(\"Attempted to renegotiate in state closed\");\n              return this.room.eventEmitter.emit(g.a.RENEGOTIATION_FAILED, t, this), Promise.reject(t);\n            }\n\n            var n = e || this.peerconnection.remoteDescription.sdp;\n\n            if (!n) {\n              var r = new Error(\"Can not renegotiate without remote description, current state: \".concat(this.state));\n              return this.room.eventEmitter.emit(g.a.RENEGOTIATION_FAILED, r, this), Promise.reject(r);\n            }\n\n            var i = new RTCSessionDescription({\n              type: this.isInitiator ? \"answer\" : \"offer\",\n              sdp: n\n            });\n            return this.isInitiator ? this._initiatorRenegotiate(i) : this._responderRenegotiate(i);\n          }\n        }, {\n          key: \"_responderRenegotiate\",\n          value: function value(e) {\n            var t = this;\n            return w.debug(\"Renegotiate: setting remote description\"), this.peerconnection.setRemoteDescription(e).then(function () {\n              return w.debug(\"Renegotiate: creating answer\"), t.peerconnection.createAnswer(t.mediaConstraints).then(function (e) {\n                return w.debug(\"Renegotiate: setting local description\"), t.peerconnection.setLocalDescription(e);\n              });\n            });\n          }\n        }, {\n          key: \"_initiatorRenegotiate\",\n          value: function value(e) {\n            var t = this;\n            return \"have-local-offer\" === this.peerconnection.signalingState ? (w.debug(\"Renegotiate: setting remote description\"), this.peerconnection.setRemoteDescription(e).then(function () {\n              return t._initiatorRenegotiate(e);\n            })) : (w.debug(\"Renegotiate: creating offer\"), this.peerconnection.createOffer(this.mediaConstraints).then(function (n) {\n              return w.debug(\"Renegotiate: setting local description\"), t.peerconnection.setLocalDescription(n).then(function () {\n                return w.debug(\"Renegotiate: setting remote description\"), t.peerconnection.setRemoteDescription(e);\n              });\n            }));\n          }\n        }, {\n          key: \"replaceTrackWithoutOfferAnswer\",\n          value: function value(e) {\n            return this.peerconnection.replaceTrackWithoutOfferAnswer(e);\n          }\n        }, {\n          key: \"replaceTrack\",\n          value: function value(e, t) {\n            var n = this,\n                r = function r(_r2) {\n              var i = n.peerconnection.localDescription.sdp;\n              n.peerconnection.options.capScreenshareBitrate && e && t && t.isVideoTrack() && n.peerconnection.clearRecvonlySsrc(), !e && t && t.isVideoTrack() ? n.peerconnection.clearRecvonlySsrc() : e && e.isVideoTrack() && !t && (n.peerconnection.clearRecvonlySsrc(), n.peerconnection.generateRecvonlySsrc()), n.peerconnection.replaceTrack(e, t).then(function (o) {\n                o && (e || t) && n.state === c.a ? n._renegotiate().then(function () {\n                  var e = new u.a(n.peerconnection.localDescription.sdp);\n                  n.notifyMySSRCUpdate(new u.a(i), e), t && !n.isP2P && n.peerconnection.setMaxBitRate(t), _r2();\n                }, _r2) : _r2();\n              });\n            };\n\n            return new Promise(function (e, t) {\n              n.modificationQueue.push(r, function (n) {\n                n ? (w.error(\"Replace track error:\", n), t(n)) : (w.info(\"Replace track done!\"), e());\n              });\n            });\n          }\n        }, {\n          key: \"_parseSsrcInfoFromSourceRemove\",\n          value: function value(e, t) {\n            var n = [];\n            return $(e).each(function (e, r) {\n              var i = $(r).attr(\"name\"),\n                  o = \"\";\n              $(r).find('ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function () {\n                var e = this.getAttribute(\"semantics\"),\n                    t = $(this).find(\">source\").map(function () {\n                  return this.getAttribute(\"ssrc\");\n                }).get();\n                t.length && (o += \"a=ssrc-group:\".concat(e, \" \").concat(t.join(\" \"), \"\\r\\n\"));\n              });\n              var a = [];\n              $(r).find('source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each(function () {\n                var e = $(this).attr(\"ssrc\");\n                a.push(e);\n              }), t.media.forEach(function (e, t) {\n                l.a.findLine(e, \"a=mid:\".concat(i)) && (n[t] || (n[t] = \"\"), a.forEach(function (r) {\n                  var i = l.a.findLines(e, \"a=ssrc:\".concat(r));\n                  i.length && (n[t] += \"\".concat(i.join(\"\\r\\n\"), \"\\r\\n\"));\n                }), n[t] += o);\n              });\n            }), n;\n          }\n        }, {\n          key: \"_verifyNoSSRCChanged\",\n          value: function value(e, t) {\n            var n = new u.a(this.peerconnection.localDescription.sdp),\n                r = new d.a(t, n),\n                i = r.getNewMedia();\n            if (Object.keys(i).length) return w.error(\"\".concat(this, \" - some SSRC were added on \").concat(e), i), !1;\n            var o = (r = new d.a(n, t)).getNewMedia();\n            return !Object.keys(o).length || (w.error(\"\".concat(this, \" - some SSRCs were removed on \").concat(e), o), !1);\n          }\n        }, {\n          key: \"addTrackAsUnmute\",\n          value: function value(e) {\n            return this._addRemoveTrackAsMuteUnmute(!1, e);\n          }\n        }, {\n          key: \"removeTrackAsMute\",\n          value: function value(e) {\n            return this._addRemoveTrackAsMuteUnmute(!0, e);\n          }\n        }, {\n          key: \"_addRemoveTrackAsMuteUnmute\",\n          value: function value(e, t) {\n            var n = this;\n            if (!t) return Promise.reject('invalid \"track\" argument value');\n\n            var r = e ? \"removeTrackMute\" : \"addTrackUnmute\",\n                i = function i(_i5) {\n              var o = n.peerconnection;\n\n              if (o) {\n                var a = o.localDescription.sdp;\n                (e ? o.removeTrackMute.bind(o, t) : o.addTrackUnmute.bind(o, t))() ? a && o.remoteDescription.sdp ? n._renegotiate().then(function () {\n                  n._verifyNoSSRCChanged(r, new u.a(a)), _i5();\n                }, _i5) : _i5() : _i5(\"\".concat(r, \" failed!\"));\n              } else _i5(\"Error:  tried \".concat(r, \" track with no active peer\") + \"connection\");\n            };\n\n            return new Promise(function (e, t) {\n              n.modificationQueue.push(i, function (n) {\n                n ? t(n) : e();\n              });\n            });\n          }\n        }, {\n          key: \"setMediaTransferActive\",\n          value: function value(e, t) {\n            var n = this;\n            if (!this.peerconnection) return Promise.reject('Can not modify transfer active state, before \"initialize\" is called');\n            var r = e ? \"audio active\" : \"audio inactive\",\n                i = t ? \"video active\" : \"video inactive\";\n            w.info(\"Queued make \".concat(i, \", \").concat(r, \" task...\"));\n\n            var o = function o(r) {\n              var i = n.state === c.a,\n                  o = n.peerconnection.setAudioTransferActive(e);\n              n._localVideoActive !== t && (n._localVideoActive = t, n.isP2P && i && n.sendContentModify(t));\n              var a = n.peerconnection.setVideoTransferActive(n._localVideoActive && n._remoteVideoActive);\n              i && (o || a) ? n._renegotiate().then(r, r) : r();\n            };\n\n            return new Promise(function (e, t) {\n              n.modificationQueue.push(o, function (n) {\n                n ? t(n) : e();\n              });\n            });\n          }\n        }, {\n          key: \"modifyContents\",\n          value: function value(e) {\n            var n = this,\n                r = t.parseVideoSenders(e);\n\n            if (null !== r) {\n              w.debug(\"\".concat(this, ' queued \"content-modify\" task') + '(video senders=\"'.concat(r, '\")')), this.modificationQueue.push(function (e) {\n                n._assertNotEnded(\"content-modify\") && n._modifyRemoteVideoActive(r) ? n._renegotiate().then(e, e) : e();\n              }, function (e) {\n                e && w.error('\"content-modify\" failed', e);\n              });\n            } else w.error(\"\".concat(this, ' - failed to parse video \"senders\" attribute in') + '\"content-modify\" action');\n          }\n        }, {\n          key: \"_modifyRemoteVideoActive\",\n          value: function value(e) {\n            var t = \"both\" === e || \"initiator\" === e && this.isInitiator || \"responder\" === e && !this.isInitiator;\n            return t !== this._remoteVideoActive && (w.debug(\"\".concat(this, \" new remote video active: \").concat(t)), this._remoteVideoActive = t), this.peerconnection.setVideoTransferActive(this._localVideoActive && this._remoteVideoActive);\n          }\n        }, {\n          key: \"notifyMySSRCUpdate\",\n          value: function value(e, t) {\n            if (this.state === c.a) {\n              var n = new d.a(t, e),\n                  r = Object(o.$iq)({\n                to: this.remoteJid,\n                type: \"set\"\n              }).c(\"jingle\", {\n                xmlns: \"urn:xmpp:jingle:1\",\n                action: \"source-remove\",\n                initiator: this.initiatorJid,\n                sid: this.sid\n              });\n              n.toJingle(r) ? (w.info(\"Sending source-remove\", r.tree()), this.connection.sendIQ(r, null, this.newJingleErrorHandler(r), 1e4)) : w.log(\"removal not necessary\"), n = new d.a(e, t);\n              var i = Object(o.$iq)({\n                to: this.remoteJid,\n                type: \"set\"\n              }).c(\"jingle\", {\n                xmlns: \"urn:xmpp:jingle:1\",\n                action: \"source-add\",\n                initiator: this.initiatorJid,\n                sid: this.sid\n              });\n              n.toJingle(i) ? (w.info(\"Sending source-add\", i.tree()), this.connection.sendIQ(i, null, this.newJingleErrorHandler(i), 1e4)) : w.log(\"addition not necessary\");\n            } else w.warn(\"Skipping SSRC update in '\".concat(this.state, \" ' state.\"));\n          }\n        }, {\n          key: \"newJingleErrorHandler\",\n          value: function value(e, t) {\n            var n = this;\n            return function (e) {\n              var r = {},\n                  i = $(e).find(\"error\");\n\n              if (i.length) {\n                r.code = i.attr(\"code\");\n                var o = $(e).find(\"error :first\");\n                o.length && (r.reason = o[0].tagName);\n                var a = i.find(\">text\");\n                a.length && (r.msg = a.text());\n              }\n\n              e || (r.reason = \"timeout\"), r.session = n.toString(), t ? t(r) : n.state === c.b && \"item-not-found\" === r.reason ? w.debug(\"Jingle error: \".concat(JSON.stringify(r))) : S.a.callErrorHandler(new Error(\"Jingle error: \".concat(JSON.stringify(r))));\n            };\n          }\n        }, {\n          key: \"getIceConnectionState\",\n          value: function value() {\n            return this.peerconnection.iceConnectionState;\n          }\n        }, {\n          key: \"close\",\n          value: function value() {\n            var e = this;\n            this.state = c.b, this.establishmentDuration = void 0, this.peerconnection && (this.peerconnection.onicecandidate = null, this.peerconnection.oniceconnectionstatechange = null, this.peerconnection.onnegotiationneeded = null, this.peerconnection.onsignalingstatechange = null), this.modificationQueue.clear(), this.modificationQueue.push(function (t) {\n              e.signalingLayer.setChatRoom(null), e.peerconnection && e.peerconnection.close(), t();\n            }), this.modificationQueue.shutdown();\n          }\n        }, {\n          key: \"toString\",\n          value: function value() {\n            return \"JingleSessionPC[p2p=\".concat(this.isP2P, \",\") + \"initiator=\".concat(this.isInitiator, \",sid=\").concat(this.sid, \"]\");\n          }\n        }, {\n          key: \"_abtestSuspendVideoEnabled\",\n          value: function value(e) {\n            var t = e.abTesting;\n\n            if (t && t.enableSuspendVideoTest) {\n              var n = this._getInitiatorJid();\n\n              return Object(a.integerHash)(n) % 2 == 0;\n            }\n          }\n        }]), t;\n      }(s.a);\n    }).call(this, \"modules/xmpp/JingleSessionPC.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"DEVICE_LIST_CHANGED\", function () {\n      return r;\n    }), n.d(t, \"PERMISSION_PROMPT_IS_SHOWN\", function () {\n      return i;\n    });\n    var r = \"mediaDevices.devicechange\",\n        i = \"mediaDevices.permissionPromptIsShown\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return o;\n    });\n    var r = n(7);\n\n    function i(e, t) {\n      if (!t) return !1;\n      if (e.length !== t.length) return !1;\n\n      for (var n = 0, r = e.length; n < r; n++) {\n        if (e[n] instanceof Array && t[n] instanceof Array) {\n          if (!e[n].equals(t[n])) return !1;\n        } else if (e[n] !== t[n]) return !1;\n      }\n\n      return !0;\n    }\n\n    function o(e, t) {\n      if (this.mySDP = e, this.otherSDP = t, !e) throw new Error('\"mySDP\" is undefined!');\n      if (!t) throw new Error('\"otherSDP\" is undefined!');\n    }\n\n    o.prototype.getNewMedia = function () {\n      var e = this.mySDP.getMediaSsrcMap(),\n          t = this.otherSDP.getMediaSsrcMap(),\n          n = {};\n      return Object.keys(t).forEach(function (r) {\n        var o = e[r],\n            a = t[r];\n        o || !a ? (Object.keys(a.ssrcs).forEach(function (e) {\n          if (-1 === Object.keys(o.ssrcs).indexOf(e)) n[r] || (n[r] = {\n            mediaindex: a.mediaindex,\n            mid: a.mid,\n            ssrcs: {},\n            ssrcGroups: []\n          }), n[r].ssrcs[e] = a.ssrcs[e];else if (a.ssrcs[e].lines && o.ssrcs[e].lines) {\n            void 0 !== o.ssrcs[e].lines.find(function (e) {\n              return -1 !== e.indexOf(\"msid\");\n            }) !== (void 0 !== a.ssrcs[e].lines.find(function (e) {\n              return -1 !== e.indexOf(\"msid\");\n            })) && (n[r] || (n[r] = {\n              mediaindex: a.mediaindex,\n              mid: a.mid,\n              ssrcs: {},\n              ssrcGroups: []\n            }), n[r].ssrcs[e] = a.ssrcs[e]);\n          }\n        }), a.ssrcGroups.forEach(function (e) {\n          for (var t = !1, s = 0; s < o.ssrcGroups.length; s++) {\n            var c = o.ssrcGroups[s];\n\n            if (e.semantics === c.semantics && i(e.ssrcs, c.ssrcs)) {\n              t = !0;\n              break;\n            }\n          }\n\n          t || (n[r] || (n[r] = {\n            mediaindex: a.mediaindex,\n            mid: a.mid,\n            ssrcs: {},\n            ssrcGroups: []\n          }), n[r].ssrcGroups.push(e));\n        })) : n[r] = a;\n      }), n;\n    }, o.prototype.toJingle = function (e) {\n      var t = this.getNewMedia(),\n          n = !1;\n      return Object.keys(t).forEach(function (i) {\n        n = !0;\n        var o = t[i];\n        e.c(\"content\", {\n          name: o.mid\n        }), e.c(\"description\", {\n          xmlns: \"urn:xmpp:jingle:apps:rtp:1\",\n          media: o.mid\n        }), Object.keys(o.ssrcs).forEach(function (t) {\n          var n = o.ssrcs[t];\n          e.c(\"source\", {\n            xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n          }), e.attrs({\n            ssrc: n.ssrc\n          }), n.lines.forEach(function (t) {\n            var n = t.indexOf(\" \"),\n                i = t.substr(n + 1);\n            if (e.c(\"parameter\"), -1 === i.indexOf(\":\")) e.attrs({\n              name: i\n            });else {\n              var o = i.split(\":\", 2),\n                  a = o[0],\n                  s = r.a.filterSpecialChars(o[1]);\n              e.attrs({\n                name: a\n              }), e.attrs({\n                value: s\n              });\n            }\n            e.up();\n          }), e.up();\n        }), o.ssrcGroups.forEach(function (t) {\n          t.ssrcs.length && (e.c(\"ssrc-group\", {\n            semantics: t.semantics,\n            xmlns: \"urn:xmpp:jingle:apps:rtp:ssma:0\"\n          }), t.ssrcs.forEach(function (t) {\n            e.c(\"source\", {\n              ssrc: t\n            }).up();\n          }), e.up());\n        }), e.up(), e.up();\n      }), n;\n    };\n  }, function (e, t) {\n    var n,\n        r,\n        i = e.exports = {};\n\n    function o() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function a() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function s(e) {\n      if (n === setTimeout) return setTimeout(e, 0);\n      if ((n === o || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);\n\n      try {\n        return n(e, 0);\n      } catch (t) {\n        try {\n          return n.call(null, e, 0);\n        } catch (t) {\n          return n.call(this, e, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        n = \"function\" == typeof setTimeout ? setTimeout : o;\n      } catch (e) {\n        n = o;\n      }\n\n      try {\n        r = \"function\" == typeof clearTimeout ? clearTimeout : a;\n      } catch (e) {\n        r = a;\n      }\n    }();\n    var c,\n        u = [],\n        d = !1,\n        l = -1;\n\n    function p() {\n      d && c && (d = !1, c.length ? u = c.concat(u) : l = -1, u.length && f());\n    }\n\n    function f() {\n      if (!d) {\n        var e = s(p);\n        d = !0;\n\n        for (var t = u.length; t;) {\n          for (c = u, u = []; ++l < t;) {\n            c && c[l].run();\n          }\n\n          l = -1, t = u.length;\n        }\n\n        c = null, d = !1, function (e) {\n          if (r === clearTimeout) return clearTimeout(e);\n          if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);\n\n          try {\n            r(e);\n          } catch (t) {\n            try {\n              return r.call(null, e);\n            } catch (t) {\n              return r.call(this, e);\n            }\n          }\n        }(e);\n      }\n    }\n\n    function h(e, t) {\n      this.fun = e, this.array = t;\n    }\n\n    function m() {}\n\n    i.nextTick = function (e) {\n      var t = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) {\n        t[n - 1] = arguments[n];\n      }\n      u.push(new h(e, t)), 1 !== u.length || d || s(f);\n    }, h.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, i.title = \"browser\", i.browser = !0, i.env = {}, i.argv = [], i.version = \"\", i.versions = {}, i.on = m, i.addListener = m, i.once = m, i.off = m, i.removeListener = m, i.removeAllListeners = m, i.emit = m, i.prependListener = m, i.prependOnceListener = m, i.listeners = function (e) {\n      return [];\n    }, i.binding = function (e) {\n      throw new Error(\"process.binding is not supported\");\n    }, i.cwd = function () {\n      return \"/\";\n    }, i.chdir = function (e) {\n      throw new Error(\"process.chdir is not supported\");\n    }, i.umask = function () {\n      return 0;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return i;\n    });\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    var r = null;\n\n    function i(e, t, n) {\n      this.stream = e, this.intervalId = null, this.intervalMilis = t, this.audioLevel = 0, this.callback = n;\n    }\n\n    window.AudioContext && (r = new AudioContext()).suspend && r.suspend(), i.prototype.start = function () {\n      if (i.isLocalStatsSupported()) {\n        r.resume();\n        var e = r.createAnalyser();\n        e.smoothingTimeConstant = .8, e.fftSize = 2048, r.createMediaStreamSource(this.stream).connect(e);\n        var t = this;\n        this.intervalId = setInterval(function () {\n          var n = new Uint8Array(e.frequencyBinCount);\n          e.getByteTimeDomainData(n);\n\n          var r,\n              i,\n              o,\n              a,\n              s = function (e) {\n            for (var t = 0, n = e.length, r = 0; r < n; r++) {\n              t < e[r] && (t = e[r]);\n            }\n\n            return parseFloat(((t - 127) / 128).toFixed(3));\n          }(n);\n\n          s !== t.audioLevel && (t.audioLevel = (r = s, i = t.audioLevel, o = 0, o = (a = i - r) > .2 ? i - .2 : a < -.4 ? i + .4 : r, parseFloat(o.toFixed(3))), t.callback(t.audioLevel));\n        }, this.intervalMilis);\n      }\n    }, i.prototype.stop = function () {\n      this.intervalId && (clearInterval(this.intervalId), this.intervalId = null);\n    }, i.isLocalStatsSupported = function () {\n      return Boolean(r);\n    };\n  }, function (e, t, n) {\n    var r = n(126),\n        i = {\n      loadScript: function loadScript(e, t, n, i, o, a) {\n        var s = document,\n            c = s.createElement(\"script\"),\n            u = s.getElementsByTagName(\"script\")[0];\n\n        if (c.async = t, i) {\n          var d = r();\n\n          if (d) {\n            var l = d.src,\n                p = l.substring(0, l.lastIndexOf(\"/\") + 1);\n            l && p && (e = p + e);\n          }\n        }\n\n        o && (c.onload = o), a && (c.onerror = a), c.src = e, n ? u.parentNode.insertBefore(c, u) : u.parentNode.appendChild(c);\n      }\n    };\n    e.exports = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(22),\n          i = n.n(r),\n          o = n(4),\n          a = n(15),\n          s = n(9),\n          c = n(10);\n\n      function u(e) {\n        return (u = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function d(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function l(e, t) {\n        return !t || \"object\" !== u(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function p(e) {\n        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function f(e, t) {\n        return (f = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var h = Object(o.getLogger)(e),\n          m = {\n        track_mute: \"onmute\",\n        track_unmute: \"onunmute\",\n        track_ended: \"onended\"\n      };\n\n      function v(e, t) {\n        e.oninactive = t;\n      }\n\n      var g = function (e) {\n        function t(e, n, r, i, o, a) {\n          var s;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (s = l(this, p(t).call(this))).addEventListener = s.addListener, s.removeEventListener = s.off = s.removeListener, s.containers = [], s.conference = e, s.audioLevel = -1, s.type = o, s.track = r, s.videoType = a, s.handlers = new Map(), s.disposed = !1, s._streamInactiveHandler = i, s._setStream(n), s;\n        }\n\n        var n, r, i;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && f(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"_setHandler\",\n          value: function value(e, t) {\n            if (m.hasOwnProperty(e)) {\n              if (t ? this.handlers.set(e, t) : this.handlers.delete(e), this.stream) {\n                var n = !0,\n                    r = !1,\n                    i = void 0;\n\n                try {\n                  for (var o, a = this.stream.getTracks()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                    o.value[m[e]] = t;\n                  }\n                } catch (e) {\n                  r = !0, i = e;\n                } finally {\n                  try {\n                    n || null == a.return || a.return();\n                  } finally {\n                    if (r) throw i;\n                  }\n                }\n              }\n            } else h.error(\"Invalid handler type \".concat(e));\n          }\n        }, {\n          key: \"_unregisterHandlers\",\n          value: function value() {\n            if (this.stream) {\n              var e = !0,\n                  t = !1,\n                  n = void 0;\n\n              try {\n                for (var r, i = this.handlers.keys()[Symbol.iterator](); !(e = (r = i.next()).done); e = !0) {\n                  var o = r.value,\n                      a = !0,\n                      s = !1,\n                      c = void 0;\n\n                  try {\n                    for (var u, d = this.stream.getVideoTracks()[Symbol.iterator](); !(a = (u = d.next()).done); a = !0) {\n                      u.value[m[o]] = void 0;\n                    }\n                  } catch (e) {\n                    s = !0, c = e;\n                  } finally {\n                    try {\n                      a || null == d.return || d.return();\n                    } finally {\n                      if (s) throw c;\n                    }\n                  }\n                }\n              } catch (e) {\n                t = !0, n = e;\n              } finally {\n                try {\n                  e || null == i.return || i.return();\n                } finally {\n                  if (t) throw n;\n                }\n              }\n\n              this._streamInactiveHandler && v(this.stream, void 0);\n            } else h.warn(\"\".concat(this, \": unable to unregister handlers - no stream object\"));\n          }\n        }, {\n          key: \"_setStream\",\n          value: function value(e) {\n            if (this.stream !== e && (this.stream = e, this.stream)) {\n              var t = !0,\n                  n = !1,\n                  r = void 0;\n\n              try {\n                for (var i, o = this.handlers.keys()[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n                  var a = i.value;\n\n                  this._setHandler(a, this.handlers.get(a));\n                }\n              } catch (e) {\n                n = !0, r = e;\n              } finally {\n                try {\n                  t || null == o.return || o.return();\n                } finally {\n                  if (n) throw r;\n                }\n              }\n\n              this._streamInactiveHandler && v(this.stream, this._streamInactiveHandler);\n            }\n          }\n        }, {\n          key: \"getType\",\n          value: function value() {\n            return this.type;\n          }\n        }, {\n          key: \"isAudioTrack\",\n          value: function value() {\n            return this.getType() === s.a;\n          }\n        }, {\n          key: \"isWebRTCTrackMuted\",\n          value: function value() {\n            return this.track && this.track.muted;\n          }\n        }, {\n          key: \"isVideoTrack\",\n          value: function value() {\n            return this.getType() === s.c;\n          }\n        }, {\n          key: \"isLocal\",\n          value: function value() {\n            throw new Error(\"Not implemented by subclass\");\n          }\n        }, {\n          key: \"isLocalAudioTrack\",\n          value: function value() {\n            return this.isAudioTrack() && this.isLocal();\n          }\n        }, {\n          key: \"getOriginalStream\",\n          value: function value() {\n            return this.stream;\n          }\n        }, {\n          key: \"getStreamId\",\n          value: function value() {\n            return this.stream ? this.stream.id : null;\n          }\n        }, {\n          key: \"getTrack\",\n          value: function value() {\n            return this.track;\n          }\n        }, {\n          key: \"getTrackLabel\",\n          value: function value() {\n            return this.track.label;\n          }\n        }, {\n          key: \"getTrackId\",\n          value: function value() {\n            return this.track ? this.track.id : null;\n          }\n        }, {\n          key: \"getUsageLabel\",\n          value: function value() {\n            return this.isAudioTrack() ? \"mic\" : this.videoType ? this.videoType : \"default\";\n          }\n        }, {\n          key: \"_maybeFireTrackAttached\",\n          value: function value(e) {\n            this.conference && e && this.conference._onTrackAttach(this, e);\n          }\n        }, {\n          key: \"attach\",\n          value: function value(e) {\n            this.stream && (this._onTrackAttach(e), c.a.attachMediaStream(e, this.stream)), this.containers.push(e), this._maybeFireTrackAttached(e), this._attachTTFMTracker(e);\n          }\n        }, {\n          key: \"detach\",\n          value: function value(e) {\n            for (var t = this.containers, n = t.length - 1; n >= 0; --n) {\n              var r = t[n];\n              e || (this._onTrackDetach(r), c.a.attachMediaStream(r, null)), e && r !== e || t.splice(n, 1);\n            }\n\n            e && (this._onTrackDetach(e), c.a.attachMediaStream(e, null));\n          }\n        }, {\n          key: \"_onTrackAttach\",\n          value: function value(e) {}\n        }, {\n          key: \"_onTrackDetach\",\n          value: function value(e) {}\n        }, {\n          key: \"_attachTTFMTracker\",\n          value: function value(e) {}\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            return this.removeAllListeners(), this.disposed = !0, Promise.resolve();\n          }\n        }, {\n          key: \"isScreenSharing\",\n          value: function value() {}\n        }, {\n          key: \"getId\",\n          value: function value() {\n            return this.stream ? c.a.getStreamID(this.stream) : null;\n          }\n        }, {\n          key: \"isActive\",\n          value: function value() {\n            return void 0 === this.stream.active || this.stream.active;\n          }\n        }, {\n          key: \"setAudioLevel\",\n          value: function value(e, t) {\n            this.audioLevel !== e && (this.audioLevel = e, this.emit(a.TRACK_AUDIO_LEVEL_CHANGED, e, t));\n          }\n        }, {\n          key: \"getMSID\",\n          value: function value() {\n            var e = this.getStreamId(),\n                t = this.getTrackId();\n            return e && t ? \"\".concat(e, \" \").concat(t) : null;\n          }\n        }, {\n          key: \"setAudioOutput\",\n          value: function value(e) {\n            var t = this;\n            return c.a.isDeviceChangeAvailable(\"output\") ? this.isVideoTrack() ? Promise.resolve() : Promise.all(this.containers.map(function (t) {\n              return t.setSinkId(e).catch(function (e) {\n                throw h.warn(\"Failed to change audio output device on element. Default or previously set audio output device will be used.\", t, e), e;\n              });\n            })).then(function () {\n              t.emit(a.TRACK_AUDIO_OUTPUT_CHANGED, e);\n            }) : Promise.reject(new Error(\"Audio output device change is not supported\"));\n          }\n        }]) && d(n.prototype, r), i && d(n, i), t;\n      }(i.a);\n    }).call(this, \"modules/RTC/JitsiTrack.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return f;\n    });\n    var r = n(22),\n        i = n.n(r),\n        o = n(12),\n        a = n(26);\n\n    function s(e) {\n      return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function c(e) {\n      return function (e) {\n        if (Array.isArray(e)) {\n          for (var t = 0, n = new Array(e.length); t < e.length; t++) {\n            n[t] = e[t];\n          }\n\n          return n;\n        }\n      }(e) || function (e) {\n        if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n      }(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n      }();\n    }\n\n    function u(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function d(e) {\n      return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function l(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n\n    function p(e, t) {\n      return (p = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var f = function (e) {\n      function t(e, n, r) {\n        var i;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (i = function (e, t) {\n          return !t || \"object\" !== s(t) && \"function\" != typeof t ? l(e) : t;\n        }(this, d(t).call(this)))._procNodeSampleRate = e, i._vadProcessor = n, i._localTrack = r, i._bufferResidue = new Float32Array([]), i._audioContext = new AudioContext({\n          sampleRate: n.getRequiredPCMFrequency()\n        }), i._vadSampleSize = n.getSampleLength(), i._onAudioProcess = i._onAudioProcess.bind(l(i)), i._initializeAudioContext(), i;\n      }\n\n      var n, r, i;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && p(e, t);\n      }(t, e), n = t, i = [{\n        key: \"create\",\n        value: function value(e, n, r) {\n          return o.a.obtainAudioAndVideoPermissions({\n            devices: [\"audio\"],\n            micDeviceId: e\n          }).then(function (i) {\n            if (!i[0]) throw new Error(\"Failed to create jitsi local track for device id: \".concat(e));\n            return new t(n, r, i[0]);\n          });\n        }\n      }], (r = [{\n        key: \"_initializeAudioContext\",\n        value: function value() {\n          this._audioSource = this._audioContext.createMediaStreamSource(this._localTrack.stream), this._audioProcessingNode = this._audioContext.createScriptProcessor(this._procNodeSampleRate, 1, 1);\n        }\n      }, {\n        key: \"_onAudioProcess\",\n        value: function value(e) {\n          for (var t = e.inputBuffer.getChannelData(0), n = [].concat(c(this._bufferResidue), c(t)), r = Date.now(), i = 0; i + this._vadSampleSize < n.length; i += this._vadSampleSize) {\n            var o = n.slice(i, i + this._vadSampleSize),\n                s = this._vadProcessor.calculateAudioFrameVAD(o);\n\n            this.emit(a.VAD_SCORE_PUBLISHED, {\n              timestamp: r,\n              score: s,\n              deviceId: this._localTrack.getDeviceId()\n            });\n          }\n\n          this._bufferResidue = n.slice(i, n.length);\n        }\n      }, {\n        key: \"_connectAudioGraph\",\n        value: function value() {\n          this._audioProcessingNode.onaudioprocess = this._onAudioProcess, this._audioSource.connect(this._audioProcessingNode), this._audioProcessingNode.connect(this._audioContext.destination);\n        }\n      }, {\n        key: \"_disconnectAudioGraph\",\n        value: function value() {\n          this._audioProcessingNode.onaudioprocess = function () {}, this._audioProcessingNode.disconnect(), this._audioSource.disconnect();\n        }\n      }, {\n        key: \"_cleanupResources\",\n        value: function value() {\n          this._disconnectAudioGraph(), this._localTrack.stopStream();\n        }\n      }, {\n        key: \"getDeviceId\",\n        value: function value() {\n          return this._localTrack.getDeviceId();\n        }\n      }, {\n        key: \"getTrackLabel\",\n        value: function value() {\n          return this._localTrack.getDeviceLabel();\n        }\n      }, {\n        key: \"start\",\n        value: function value() {\n          this._connectAudioGraph();\n        }\n      }, {\n        key: \"stop\",\n        value: function value() {\n          this._disconnectAudioGraph(), this._bufferResidue = [];\n        }\n      }, {\n        key: \"destroy\",\n        value: function value() {\n          this._destroyed || (this._cleanupResources(), this._destroyed = !0);\n        }\n      }]) && u(n.prototype, r), i && u(n, i), t;\n    }(i.a);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"E2E_RTT_CHANGED\", function () {\n      return r;\n    });\n    var r = \"e2eping.e2e_rtt_changed\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"ON\", function () {\n      return r;\n    }), n.d(t, \"OFF\", function () {\n      return i;\n    });\n    var r = \"on\",\n        i = \"off\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      var t = e;\n      return e >= Number.MAX_SAFE_INTEGER && (t = 0), t + 1;\n    }\n\n    n.d(t, \"a\", function () {\n      return r;\n    });\n  }, function (e, t) {\n    function n(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var r = function () {\n      function e(t, n, r) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._userId = t, this.setDisplayName(n), this._isLocalStats = r || !1, this.setDominantSpeaker(!1), this.totalDominantSpeakerTime = 0, this._dominantSpeakerStart = 0, this._hasLeft = !1;\n      }\n\n      var t, r, i;\n      return t = e, (r = [{\n        key: \"getUserId\",\n        value: function value() {\n          return this._userId;\n        }\n      }, {\n        key: \"getDisplayName\",\n        value: function value() {\n          return this.displayName;\n        }\n      }, {\n        key: \"setDisplayName\",\n        value: function value(e) {\n          this.displayName = e;\n        }\n      }, {\n        key: \"isLocalStats\",\n        value: function value() {\n          return this._isLocalStats;\n        }\n      }, {\n        key: \"isDominantSpeaker\",\n        value: function value() {\n          return this._dominantSpeakerStart > 0;\n        }\n      }, {\n        key: \"setDominantSpeaker\",\n        value: function value(e) {\n          if (!this.isDominantSpeaker() && e) this._dominantSpeakerStart = Date.now();else if (this.isDominantSpeaker() && !e) {\n            var t = Date.now() - this._dominantSpeakerStart;\n\n            this.totalDominantSpeakerTime += t, this._dominantSpeakerStart = 0;\n          }\n        }\n      }, {\n        key: \"getTotalDominantSpeakerTime\",\n        value: function value() {\n          var e = this.totalDominantSpeakerTime;\n          return this.isDominantSpeaker() && (e += Date.now() - this._dominantSpeakerStart), e;\n        }\n      }, {\n        key: \"hasLeft\",\n        value: function value() {\n          return this._hasLeft;\n        }\n      }, {\n        key: \"markAsHasLeft\",\n        value: function value() {\n          this._hasLeft = !0, this.setDominantSpeaker(!1);\n        }\n      }]) && n(t.prototype, r), i && n(t, i), e;\n    }();\n\n    e.exports = r;\n  }, function (e, t) {\n    e.exports = {\n      IDENTITY_UPDATED: \"authentication.identity_updated\"\n    };\n  }, function (module, exports, __webpack_require__) {\n    (function (process, global) {\n      var __WEBPACK_AMD_DEFINE_RESULT__;\n      /**\n       * [js-md5]{@link https://github.com/emn178/js-md5}\n       *\n       * @namespace md5\n       * @version 0.7.3\n       * @author Chen, Yi-Cyuan [emn178@gmail.com]\n       * @copyright Chen, Yi-Cyuan 2014-2017\n       * @license MIT\n       */\n\n\n      !function () {\n        \"use strict\";\n\n        var ERROR = \"input is invalid type\",\n            WINDOW = \"object\" == typeof window,\n            root = WINDOW ? window : {};\n        root.JS_MD5_NO_WINDOW && (WINDOW = !1);\n        var WEB_WORKER = !WINDOW && \"object\" == typeof self,\n            NODE_JS = !root.JS_MD5_NO_NODE_JS && \"object\" == typeof process && process.versions && process.versions.node;\n        NODE_JS ? root = global : WEB_WORKER && (root = self);\n\n        var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && \"object\" == typeof module && module.exports,\n            AMD = __webpack_require__(125),\n            ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && \"undefined\" != typeof ArrayBuffer,\n            HEX_CHARS = \"0123456789abcdef\".split(\"\"),\n            EXTRA = [128, 32768, 8388608, -2147483648],\n            SHIFT = [0, 8, 16, 24],\n            OUTPUT_TYPES = [\"hex\", \"array\", \"digest\", \"buffer\", \"arrayBuffer\", \"base64\"],\n            BASE64_ENCODE_CHAR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\"),\n            blocks = [],\n            buffer8;\n\n        if (ARRAY_BUFFER) {\n          var buffer = new ArrayBuffer(68);\n          buffer8 = new Uint8Array(buffer), blocks = new Uint32Array(buffer);\n        }\n\n        !root.JS_MD5_NO_NODE_JS && Array.isArray || (Array.isArray = function (e) {\n          return \"[object Array]\" === Object.prototype.toString.call(e);\n        }), !ARRAY_BUFFER || !root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView || (ArrayBuffer.isView = function (e) {\n          return \"object\" == typeof e && e.buffer && e.buffer.constructor === ArrayBuffer;\n        });\n\n        var createOutputMethod = function createOutputMethod(e) {\n          return function (t) {\n            return new Md5(!0).update(t)[e]();\n          };\n        },\n            createMethod = function createMethod() {\n          var e = createOutputMethod(\"hex\");\n          NODE_JS && (e = nodeWrap(e)), e.create = function () {\n            return new Md5();\n          }, e.update = function (t) {\n            return e.create().update(t);\n          };\n\n          for (var t = 0; t < OUTPUT_TYPES.length; ++t) {\n            var n = OUTPUT_TYPES[t];\n            e[n] = createOutputMethod(n);\n          }\n\n          return e;\n        },\n            nodeWrap = function nodeWrap(method) {\n          var crypto = eval(\"require('crypto')\"),\n              Buffer = eval(\"require('buffer').Buffer\"),\n              nodeMethod = function nodeMethod(e) {\n            if (\"string\" == typeof e) return crypto.createHash(\"md5\").update(e, \"utf8\").digest(\"hex\");\n            if (null == e) throw ERROR;\n            return e.constructor === ArrayBuffer && (e = new Uint8Array(e)), Array.isArray(e) || ArrayBuffer.isView(e) || e.constructor === Buffer ? crypto.createHash(\"md5\").update(new Buffer(e)).digest(\"hex\") : method(e);\n          };\n\n          return nodeMethod;\n        };\n\n        function Md5(e) {\n          if (e) blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0, this.blocks = blocks, this.buffer8 = buffer8;else if (ARRAY_BUFFER) {\n            var t = new ArrayBuffer(68);\n            this.buffer8 = new Uint8Array(t), this.blocks = new Uint32Array(t);\n          } else this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n          this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0;\n        }\n\n        Md5.prototype.update = function (e) {\n          if (!this.finalized) {\n            var t,\n                n = typeof e;\n\n            if (\"string\" !== n) {\n              if (\"object\" !== n) throw ERROR;\n              if (null === e) throw ERROR;\n              if (ARRAY_BUFFER && e.constructor === ArrayBuffer) e = new Uint8Array(e);else if (!(Array.isArray(e) || ARRAY_BUFFER && ArrayBuffer.isView(e))) throw ERROR;\n              t = !0;\n            }\n\n            for (var r, i, o = 0, a = e.length, s = this.blocks, c = this.buffer8; o < a;) {\n              if (this.hashed && (this.hashed = !1, s[0] = s[16], s[16] = s[1] = s[2] = s[3] = s[4] = s[5] = s[6] = s[7] = s[8] = s[9] = s[10] = s[11] = s[12] = s[13] = s[14] = s[15] = 0), t) {\n                if (ARRAY_BUFFER) for (i = this.start; o < a && i < 64; ++o) {\n                  c[i++] = e[o];\n                } else for (i = this.start; o < a && i < 64; ++o) {\n                  s[i >> 2] |= e[o] << SHIFT[3 & i++];\n                }\n              } else if (ARRAY_BUFFER) for (i = this.start; o < a && i < 64; ++o) {\n                (r = e.charCodeAt(o)) < 128 ? c[i++] = r : r < 2048 ? (c[i++] = 192 | r >> 6, c[i++] = 128 | 63 & r) : r < 55296 || r >= 57344 ? (c[i++] = 224 | r >> 12, c[i++] = 128 | r >> 6 & 63, c[i++] = 128 | 63 & r) : (r = 65536 + ((1023 & r) << 10 | 1023 & e.charCodeAt(++o)), c[i++] = 240 | r >> 18, c[i++] = 128 | r >> 12 & 63, c[i++] = 128 | r >> 6 & 63, c[i++] = 128 | 63 & r);\n              } else for (i = this.start; o < a && i < 64; ++o) {\n                (r = e.charCodeAt(o)) < 128 ? s[i >> 2] |= r << SHIFT[3 & i++] : r < 2048 ? (s[i >> 2] |= (192 | r >> 6) << SHIFT[3 & i++], s[i >> 2] |= (128 | 63 & r) << SHIFT[3 & i++]) : r < 55296 || r >= 57344 ? (s[i >> 2] |= (224 | r >> 12) << SHIFT[3 & i++], s[i >> 2] |= (128 | r >> 6 & 63) << SHIFT[3 & i++], s[i >> 2] |= (128 | 63 & r) << SHIFT[3 & i++]) : (r = 65536 + ((1023 & r) << 10 | 1023 & e.charCodeAt(++o)), s[i >> 2] |= (240 | r >> 18) << SHIFT[3 & i++], s[i >> 2] |= (128 | r >> 12 & 63) << SHIFT[3 & i++], s[i >> 2] |= (128 | r >> 6 & 63) << SHIFT[3 & i++], s[i >> 2] |= (128 | 63 & r) << SHIFT[3 & i++]);\n              }\n              this.lastByteIndex = i, this.bytes += i - this.start, i >= 64 ? (this.start = i - 64, this.hash(), this.hashed = !0) : this.start = i;\n            }\n\n            return this.bytes > 4294967295 && (this.hBytes += this.bytes / 4294967296 << 0, this.bytes = this.bytes % 4294967296), this;\n          }\n        }, Md5.prototype.finalize = function () {\n          if (!this.finalized) {\n            this.finalized = !0;\n            var e = this.blocks,\n                t = this.lastByteIndex;\n            e[t >> 2] |= EXTRA[3 & t], t >= 56 && (this.hashed || this.hash(), e[0] = e[16], e[16] = e[1] = e[2] = e[3] = e[4] = e[5] = e[6] = e[7] = e[8] = e[9] = e[10] = e[11] = e[12] = e[13] = e[14] = e[15] = 0), e[14] = this.bytes << 3, e[15] = this.hBytes << 3 | this.bytes >>> 29, this.hash();\n          }\n        }, Md5.prototype.hash = function () {\n          var e,\n              t,\n              n,\n              r,\n              i,\n              o,\n              a = this.blocks;\n          this.first ? t = ((t = ((e = ((e = a[0] - 680876937) << 7 | e >>> 25) - 271733879 << 0) ^ (n = ((n = (-271733879 ^ (r = ((r = (-1732584194 ^ 2004318071 & e) + a[1] - 117830708) << 12 | r >>> 20) + e << 0) & (-271733879 ^ e)) + a[2] - 1126478375) << 17 | n >>> 15) + r << 0) & (r ^ e)) + a[3] - 1316259209) << 22 | t >>> 10) + n << 0 : (e = this.h0, t = this.h1, n = this.h2, t = ((t += ((e = ((e += ((r = this.h3) ^ t & (n ^ r)) + a[0] - 680876936) << 7 | e >>> 25) + t << 0) ^ (n = ((n += (t ^ (r = ((r += (n ^ e & (t ^ n)) + a[1] - 389564586) << 12 | r >>> 20) + e << 0) & (e ^ t)) + a[2] + 606105819) << 17 | n >>> 15) + r << 0) & (r ^ e)) + a[3] - 1044525330) << 22 | t >>> 10) + n << 0), t = ((t += ((e = ((e += (r ^ t & (n ^ r)) + a[4] - 176418897) << 7 | e >>> 25) + t << 0) ^ (n = ((n += (t ^ (r = ((r += (n ^ e & (t ^ n)) + a[5] + 1200080426) << 12 | r >>> 20) + e << 0) & (e ^ t)) + a[6] - 1473231341) << 17 | n >>> 15) + r << 0) & (r ^ e)) + a[7] - 45705983) << 22 | t >>> 10) + n << 0, t = ((t += ((e = ((e += (r ^ t & (n ^ r)) + a[8] + 1770035416) << 7 | e >>> 25) + t << 0) ^ (n = ((n += (t ^ (r = ((r += (n ^ e & (t ^ n)) + a[9] - 1958414417) << 12 | r >>> 20) + e << 0) & (e ^ t)) + a[10] - 42063) << 17 | n >>> 15) + r << 0) & (r ^ e)) + a[11] - 1990404162) << 22 | t >>> 10) + n << 0, t = ((t += ((e = ((e += (r ^ t & (n ^ r)) + a[12] + 1804603682) << 7 | e >>> 25) + t << 0) ^ (n = ((n += (t ^ (r = ((r += (n ^ e & (t ^ n)) + a[13] - 40341101) << 12 | r >>> 20) + e << 0) & (e ^ t)) + a[14] - 1502002290) << 17 | n >>> 15) + r << 0) & (r ^ e)) + a[15] + 1236535329) << 22 | t >>> 10) + n << 0, t = ((t += ((r = ((r += (t ^ n & ((e = ((e += (n ^ r & (t ^ n)) + a[1] - 165796510) << 5 | e >>> 27) + t << 0) ^ t)) + a[6] - 1069501632) << 9 | r >>> 23) + e << 0) ^ e & ((n = ((n += (e ^ t & (r ^ e)) + a[11] + 643717713) << 14 | n >>> 18) + r << 0) ^ r)) + a[0] - 373897302) << 20 | t >>> 12) + n << 0, t = ((t += ((r = ((r += (t ^ n & ((e = ((e += (n ^ r & (t ^ n)) + a[5] - 701558691) << 5 | e >>> 27) + t << 0) ^ t)) + a[10] + 38016083) << 9 | r >>> 23) + e << 0) ^ e & ((n = ((n += (e ^ t & (r ^ e)) + a[15] - 660478335) << 14 | n >>> 18) + r << 0) ^ r)) + a[4] - 405537848) << 20 | t >>> 12) + n << 0, t = ((t += ((r = ((r += (t ^ n & ((e = ((e += (n ^ r & (t ^ n)) + a[9] + 568446438) << 5 | e >>> 27) + t << 0) ^ t)) + a[14] - 1019803690) << 9 | r >>> 23) + e << 0) ^ e & ((n = ((n += (e ^ t & (r ^ e)) + a[3] - 187363961) << 14 | n >>> 18) + r << 0) ^ r)) + a[8] + 1163531501) << 20 | t >>> 12) + n << 0, t = ((t += ((r = ((r += (t ^ n & ((e = ((e += (n ^ r & (t ^ n)) + a[13] - 1444681467) << 5 | e >>> 27) + t << 0) ^ t)) + a[2] - 51403784) << 9 | r >>> 23) + e << 0) ^ e & ((n = ((n += (e ^ t & (r ^ e)) + a[7] + 1735328473) << 14 | n >>> 18) + r << 0) ^ r)) + a[12] - 1926607734) << 20 | t >>> 12) + n << 0, t = ((t += ((o = (r = ((r += ((i = t ^ n) ^ (e = ((e += (i ^ r) + a[5] - 378558) << 4 | e >>> 28) + t << 0)) + a[8] - 2022574463) << 11 | r >>> 21) + e << 0) ^ e) ^ (n = ((n += (o ^ t) + a[11] + 1839030562) << 16 | n >>> 16) + r << 0)) + a[14] - 35309556) << 23 | t >>> 9) + n << 0, t = ((t += ((o = (r = ((r += ((i = t ^ n) ^ (e = ((e += (i ^ r) + a[1] - 1530992060) << 4 | e >>> 28) + t << 0)) + a[4] + 1272893353) << 11 | r >>> 21) + e << 0) ^ e) ^ (n = ((n += (o ^ t) + a[7] - 155497632) << 16 | n >>> 16) + r << 0)) + a[10] - 1094730640) << 23 | t >>> 9) + n << 0, t = ((t += ((o = (r = ((r += ((i = t ^ n) ^ (e = ((e += (i ^ r) + a[13] + 681279174) << 4 | e >>> 28) + t << 0)) + a[0] - 358537222) << 11 | r >>> 21) + e << 0) ^ e) ^ (n = ((n += (o ^ t) + a[3] - 722521979) << 16 | n >>> 16) + r << 0)) + a[6] + 76029189) << 23 | t >>> 9) + n << 0, t = ((t += ((o = (r = ((r += ((i = t ^ n) ^ (e = ((e += (i ^ r) + a[9] - 640364487) << 4 | e >>> 28) + t << 0)) + a[12] - 421815835) << 11 | r >>> 21) + e << 0) ^ e) ^ (n = ((n += (o ^ t) + a[15] + 530742520) << 16 | n >>> 16) + r << 0)) + a[2] - 995338651) << 23 | t >>> 9) + n << 0, t = ((t += ((r = ((r += (t ^ ((e = ((e += (n ^ (t | ~r)) + a[0] - 198630844) << 6 | e >>> 26) + t << 0) | ~n)) + a[7] + 1126891415) << 10 | r >>> 22) + e << 0) ^ ((n = ((n += (e ^ (r | ~t)) + a[14] - 1416354905) << 15 | n >>> 17) + r << 0) | ~e)) + a[5] - 57434055) << 21 | t >>> 11) + n << 0, t = ((t += ((r = ((r += (t ^ ((e = ((e += (n ^ (t | ~r)) + a[12] + 1700485571) << 6 | e >>> 26) + t << 0) | ~n)) + a[3] - 1894986606) << 10 | r >>> 22) + e << 0) ^ ((n = ((n += (e ^ (r | ~t)) + a[10] - 1051523) << 15 | n >>> 17) + r << 0) | ~e)) + a[1] - 2054922799) << 21 | t >>> 11) + n << 0, t = ((t += ((r = ((r += (t ^ ((e = ((e += (n ^ (t | ~r)) + a[8] + 1873313359) << 6 | e >>> 26) + t << 0) | ~n)) + a[15] - 30611744) << 10 | r >>> 22) + e << 0) ^ ((n = ((n += (e ^ (r | ~t)) + a[6] - 1560198380) << 15 | n >>> 17) + r << 0) | ~e)) + a[13] + 1309151649) << 21 | t >>> 11) + n << 0, t = ((t += ((r = ((r += (t ^ ((e = ((e += (n ^ (t | ~r)) + a[4] - 145523070) << 6 | e >>> 26) + t << 0) | ~n)) + a[11] - 1120210379) << 10 | r >>> 22) + e << 0) ^ ((n = ((n += (e ^ (r | ~t)) + a[2] + 718787259) << 15 | n >>> 17) + r << 0) | ~e)) + a[9] - 343485551) << 21 | t >>> 11) + n << 0, this.first ? (this.h0 = e + 1732584193 << 0, this.h1 = t - 271733879 << 0, this.h2 = n - 1732584194 << 0, this.h3 = r + 271733878 << 0, this.first = !1) : (this.h0 = this.h0 + e << 0, this.h1 = this.h1 + t << 0, this.h2 = this.h2 + n << 0, this.h3 = this.h3 + r << 0);\n        }, Md5.prototype.hex = function () {\n          this.finalize();\n          var e = this.h0,\n              t = this.h1,\n              n = this.h2,\n              r = this.h3;\n          return HEX_CHARS[e >> 4 & 15] + HEX_CHARS[15 & e] + HEX_CHARS[e >> 12 & 15] + HEX_CHARS[e >> 8 & 15] + HEX_CHARS[e >> 20 & 15] + HEX_CHARS[e >> 16 & 15] + HEX_CHARS[e >> 28 & 15] + HEX_CHARS[e >> 24 & 15] + HEX_CHARS[t >> 4 & 15] + HEX_CHARS[15 & t] + HEX_CHARS[t >> 12 & 15] + HEX_CHARS[t >> 8 & 15] + HEX_CHARS[t >> 20 & 15] + HEX_CHARS[t >> 16 & 15] + HEX_CHARS[t >> 28 & 15] + HEX_CHARS[t >> 24 & 15] + HEX_CHARS[n >> 4 & 15] + HEX_CHARS[15 & n] + HEX_CHARS[n >> 12 & 15] + HEX_CHARS[n >> 8 & 15] + HEX_CHARS[n >> 20 & 15] + HEX_CHARS[n >> 16 & 15] + HEX_CHARS[n >> 28 & 15] + HEX_CHARS[n >> 24 & 15] + HEX_CHARS[r >> 4 & 15] + HEX_CHARS[15 & r] + HEX_CHARS[r >> 12 & 15] + HEX_CHARS[r >> 8 & 15] + HEX_CHARS[r >> 20 & 15] + HEX_CHARS[r >> 16 & 15] + HEX_CHARS[r >> 28 & 15] + HEX_CHARS[r >> 24 & 15];\n        }, Md5.prototype.toString = Md5.prototype.hex, Md5.prototype.digest = function () {\n          this.finalize();\n          var e = this.h0,\n              t = this.h1,\n              n = this.h2,\n              r = this.h3;\n          return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255, 255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255, 255 & n, n >> 8 & 255, n >> 16 & 255, n >> 24 & 255, 255 & r, r >> 8 & 255, r >> 16 & 255, r >> 24 & 255];\n        }, Md5.prototype.array = Md5.prototype.digest, Md5.prototype.arrayBuffer = function () {\n          this.finalize();\n          var e = new ArrayBuffer(16),\n              t = new Uint32Array(e);\n          return t[0] = this.h0, t[1] = this.h1, t[2] = this.h2, t[3] = this.h3, e;\n        }, Md5.prototype.buffer = Md5.prototype.arrayBuffer, Md5.prototype.base64 = function () {\n          for (var e, t, n, r = \"\", i = this.array(), o = 0; o < 15;) {\n            e = i[o++], t = i[o++], n = i[o++], r += BASE64_ENCODE_CHAR[e >>> 2] + BASE64_ENCODE_CHAR[63 & (e << 4 | t >>> 4)] + BASE64_ENCODE_CHAR[63 & (t << 2 | n >>> 6)] + BASE64_ENCODE_CHAR[63 & n];\n          }\n\n          return e = i[o], r += BASE64_ENCODE_CHAR[e >>> 2] + BASE64_ENCODE_CHAR[e << 4 & 63] + \"==\";\n        };\n        var exports = createMethod();\n        COMMON_JS ? module.exports = exports : (root.md5 = exports, AMD && (__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n          return exports;\n        }.call(exports, __webpack_require__, exports, module), void 0 === __WEBPACK_AMD_DEFINE_RESULT__ || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)));\n      }();\n    }).call(this, __webpack_require__(48), __webpack_require__(44));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return R;\n      });\n      var r = n(4),\n          i = n(51),\n          o = n(16),\n          a = n(13),\n          s = n(15),\n          c = n(3),\n          u = n(10),\n          d = n(40),\n          l = n.n(d),\n          p = n(9),\n          f = n(8),\n          h = n.n(f),\n          m = n(14),\n          v = n.n(m),\n          g = n(6),\n          y = n(5);\n\n      function _(e) {\n        return (_ = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function S(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function b(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function E(e, t, n) {\n        return (E = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n          var r = function (e, t) {\n            for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = T(e));) {\n              ;\n            }\n\n            return e;\n          }(e, t);\n\n          if (r) {\n            var i = Object.getOwnPropertyDescriptor(r, t);\n            return i.get ? i.get.call(n) : i.value;\n          }\n        })(e, t, n || e);\n      }\n\n      function T(e) {\n        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function C(e, t) {\n        return (C = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var A = Object(r.getLogger)(e),\n          R = function (e) {\n        function t(e) {\n          var n,\n              r = e.deviceId,\n              i = e.facingMode,\n              o = e.mediaType,\n              a = e.resolution,\n              d = e.rtcId,\n              l = e.sourceId,\n              p = e.sourceType,\n              f = e.stream,\n              m = e.track,\n              v = e.videoType,\n              g = e.effects,\n              y = void 0 === g ? [] : g;\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (n = function (e, t) {\n            return !t || \"object\" !== _(t) && \"function\" != typeof t ? b(e) : t;\n          }(this, T(t).call(this, null, f, m, function () {\n            return n.emit(s.LOCAL_TRACK_STOPPED);\n          }, o, v)))._setEffectInProgress = !1;\n          var S = y.find(function (e) {\n            return e.isEnabled(b(n));\n          });\n          return S && n._startStreamEffect(S), n.rtcId = d, n.sourceId = l, n.sourceType = p, c.a.usesNewGumFlow() ? (n.resolution = m.getSettings().height, n._constraints = m.getConstraints()) : n.resolution = c.a.isFirefox() ? null : a, n.deviceId = r, n._prevSetMuted = Promise.resolve(), n._facingMode = i, n._trackEnded = !1, n._hasSentData = !1, n._testDataSent = !0, n._realDeviceId = \"\" === n.deviceId ? void 0 : n.deviceId, n._trackMutedTS = 0, n._onDeviceListWillChange = function (e) {\n            var t = n._realDeviceId;\n            n._setRealDeviceIdFromDeviceList(e), (void 0 === n.getTrack().readyState && void 0 !== n._realDeviceId && !e.find(function (e) {\n              return e.deviceId === n._realDeviceId;\n            }) || void 0 !== t && void 0 === n._realDeviceId) && (n._trackEnded = !0);\n          }, n.isAudioTrack() && u.a.isDeviceChangeAvailable(\"output\") && (n._onAudioOutputDeviceChanged = n.setAudioOutput.bind(b(n)), u.a.addListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED, n._onAudioOutputDeviceChanged)), u.a.addListener(h.a.DEVICE_LIST_WILL_CHANGE, n._onDeviceListWillChange), n._initNoDataFromSourceHandlers(), n;\n        }\n\n        var n, r, i;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && C(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"isEnded\",\n          value: function value() {\n            return this.isVideoTrack() && this.isMuted() ? this._trackEnded : \"ended\" === this.getTrack().readyState || this._trackEnded;\n          }\n        }, {\n          key: \"_initNoDataFromSourceHandlers\",\n          value: function value() {\n            var e = this;\n            this._isNoDataFromSourceEventsEnabled() && (this._setHandler(\"track_mute\", function () {\n              e._trackMutedTS = window.performance.now(), e._fireNoDataFromSourceEvent();\n            }), this._setHandler(\"track_unmute\", function () {\n              e._fireNoDataFromSourceEvent(), y.a.sendAnalyticsAndLog(g.s, {\n                media_type: e.getType(),\n                track_type: \"local\",\n                value: window.performance.now() - e._trackMutedTS\n              });\n            }), this.isVideoTrack() && this.videoType === v.a.CAMERA && this._setHandler(\"track_ended\", function () {\n              e.isReceivingData() || e._fireNoDataFromSourceEvent();\n            }));\n          }\n        }, {\n          key: \"_isNoDataFromSourceEventsEnabled\",\n          value: function value() {\n            return !this.isVideoTrack() || this.videoType !== v.a.DESKTOP;\n          }\n        }, {\n          key: \"_fireNoDataFromSourceEvent\",\n          value: function value() {\n            var e = !this.isReceivingData();\n            this.emit(s.NO_DATA_FROM_SOURCE, e), y.a.sendAnalytics(Object(g.H)(this.getType(), e)), y.a.sendLog(JSON.stringify({\n              name: s.NO_DATA_FROM_SOURCE,\n              log: e\n            }));\n          }\n        }, {\n          key: \"_setRealDeviceIdFromDeviceList\",\n          value: function value(e) {\n            var t = this.getTrack(),\n                n = \"\".concat(t.kind, \"input\"),\n                r = e.find(function (e) {\n              return e.kind === n && e.label === t.label;\n            });\n\n            if (!r && \"default\" === this._realDeviceId) {\n              var i = (t.label || \"\").replace(\"Default - \", \"\");\n              r = e.find(function (e) {\n                return e.kind === n && e.label === i;\n              });\n            }\n\n            this._realDeviceId = r ? r.deviceId : void 0;\n          }\n        }, {\n          key: \"_setStream\",\n          value: function value(e) {\n            E(T(t.prototype), \"_setStream\", this).call(this, e), e ? (this.storedMSID = this.getMSID(), A.debug(\"Setting new MSID: \".concat(this.storedMSID, \" on \").concat(this))) : A.debug(\"Setting 'null' stream on \".concat(this));\n          }\n        }, {\n          key: \"_startStreamEffect\",\n          value: function value(e) {\n            this._streamEffect = e, this._originalStream = this.stream, this._setStream(this._streamEffect.startEffect(this._originalStream));\n          }\n        }, {\n          key: \"_stopStreamEffect\",\n          value: function value() {\n            this._streamEffect && (this._streamEffect.stopEffect(), this._setStream(this._originalStream));\n          }\n        }, {\n          key: \"_switchStreamEffect\",\n          value: function value(e) {\n            this._streamEffect && (this._stopStreamEffect(), this._streamEffect = void 0), e && this._startStreamEffect(e);\n          }\n        }, {\n          key: \"setEffect\",\n          value: function value(e) {\n            var t = this;\n            if (void 0 === this._streamEffect && void 0 === e) return Promise.resolve();\n            if (void 0 !== e && !e.isEnabled(this)) return Promise.reject(new Error(\"Incompatible effect instance!\"));\n            if (!0 === this._setEffectInProgress) return Promise.reject(new Error(\"setEffect already in progress!\"));\n            if (this.isMuted()) return this._streamEffect = e, Promise.resolve();\n            var n = this.conference;\n            return n ? (this._setEffectInProgress = !0, c.a.supportsRtpSender() ? (this._switchStreamEffect(e), n.replaceTrackWithoutOfferAnswer(this).then(function () {\n              t._setEffectInProgress = !1;\n            }).catch(function (e) {\n              throw t._setEffectInProgress = !1, t._switchStreamEffect(), A.error(\"Failed to switch to the new stream!\", e), e;\n            })) : n.removeTrack(this).then(function () {\n              return t._switchStreamEffect(e), t.isVideoTrack() && t.containers.forEach(function (e) {\n                return u.a.attachMediaStream(e, t.stream);\n              }), n.addTrack(t);\n            }).then(function () {\n              t._setEffectInProgress = !1;\n            }).catch(function (e) {\n              throw t._setEffectInProgress = !1, t._switchStreamEffect(), A.error(\"Failed to switch to the new stream!\", e), e;\n            })) : (this._switchStreamEffect(e), Promise.resolve());\n          }\n        }, {\n          key: \"mute\",\n          value: function value() {\n            return this._queueSetMuted(!0);\n          }\n        }, {\n          key: \"unmute\",\n          value: function value() {\n            return this._queueSetMuted(!1);\n          }\n        }, {\n          key: \"_queueSetMuted\",\n          value: function value(e) {\n            var t = this._setMuted.bind(this, e);\n\n            return this._prevSetMuted = this._prevSetMuted.then(t, t), this._prevSetMuted;\n          }\n        }, {\n          key: \"_setMuted\",\n          value: function value(e) {\n            var t = this;\n            if (this.isMuted() === e) return Promise.resolve();\n            if (this.disposed) return Promise.reject(new o.a(a.TRACK_IS_DISPOSED));\n\n            var n = Promise.resolve(),\n                r = function r() {\n              return A.info(\"Mute \".concat(t, \": \").concat(e));\n            };\n\n            if (this.isAudioTrack() || this.videoType === v.a.DESKTOP || !c.a.doesVideoMuteByStreamRemove()) r(), this.track && (this.track.enabled = !e);else if (e) n = new Promise(function (e, n) {\n              r(), t._removeStreamFromConferenceAsMute(function () {\n                t._streamEffect && t._stopStreamEffect(), t._unregisterHandlers(), t.stopStream(), t._setStream(null), e();\n              }, n);\n            });else {\n              r();\n              var i = {\n                cameraDeviceId: this.getDeviceId(),\n                devices: [p.c],\n                effects: this._streamEffect ? [this._streamEffect] : [],\n                facingMode: this.getCameraFacingMode()\n              };\n              c.a.usesNewGumFlow() ? n = u.a.newObtainAudioAndVideoPermissions(Object.assign({}, i, {\n                constraints: {\n                  video: this._constraints\n                }\n              })) : (this.resolution && (i.resolution = this.resolution), n = u.a.obtainAudioAndVideoPermissions(i)), n.then(function (e) {\n                var n = t.getType() === p.b ? p.c : t.getType(),\n                    r = c.a.usesNewGumFlow() ? e.find(function (e) {\n                  return e.track.kind === n;\n                }) : e.find(function (e) {\n                  return e.mediaType === n;\n                });\n                if (!r) throw new o.a(a.TRACK_NO_STREAM_FOUND);\n                return t._setStream(r.stream), t.track = r.track, t.videoType !== r.videoType && (A.warn(\"\".concat(t, \": video type has changed after unmute!\"), t.videoType, r.videoType), t.videoType = r.videoType), t._streamEffect && t._startStreamEffect(t._streamEffect), t.containers.map(function (e) {\n                  return u.a.attachMediaStream(e, t.stream);\n                }), t._addStreamToConferenceAsUnmute();\n              });\n            }\n            return n.then(function () {\n              return t._sendMuteStatus(e);\n            }).then(function () {\n              return t.emit(s.TRACK_MUTE_CHANGED, t);\n            });\n          }\n        }, {\n          key: \"_addStreamToConferenceAsUnmute\",\n          value: function value() {\n            var e = this;\n            return this.conference ? new Promise(function (t, n) {\n              e.conference._addLocalTrackAsUnmute(e).then(t, function (e) {\n                return n(new Error(e));\n              });\n            }) : Promise.resolve();\n          }\n        }, {\n          key: \"_removeStreamFromConferenceAsMute\",\n          value: function value(e, t) {\n            this.conference ? this.conference._removeLocalTrackAsMute(this).then(e, function (e) {\n              return t(new Error(e));\n            }) : e();\n          }\n        }, {\n          key: \"_sendMuteStatus\",\n          value: function value(e) {\n            var t = this;\n            return this.conference && this.conference.room ? new Promise(function (n) {\n              t.conference.room[t.isAudioTrack() ? \"setAudioMute\" : \"setVideoMute\"](e, n);\n            }) : Promise.resolve();\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            var e = this;\n\n            this._switchStreamEffect();\n\n            var n = Promise.resolve();\n            return this.conference && (n = this.conference.removeTrack(this)), this.stream && (this.stopStream(), this.detach()), u.a.removeListener(h.a.DEVICE_LIST_WILL_CHANGE, this._onDeviceListWillChange), this._onAudioOutputDeviceChanged && u.a.removeListener(h.a.AUDIO_OUTPUT_DEVICE_CHANGED, this._onAudioOutputDeviceChanged), n.then(function () {\n              return E(T(t.prototype), \"dispose\", e).call(e);\n            });\n          }\n        }, {\n          key: \"isMuted\",\n          value: function value() {\n            return !(this.stream && (!this.isVideoTrack() || this.isActive()) && this.track && this.track.enabled);\n          }\n        }, {\n          key: \"_setConference\",\n          value: function value(e) {\n            this.conference = e;\n\n            for (var t = 0; t < this.containers.length; t++) {\n              this._maybeFireTrackAttached(this.containers[t]);\n            }\n          }\n        }, {\n          key: \"isLocal\",\n          value: function value() {\n            return !0;\n          }\n        }, {\n          key: \"getDeviceId\",\n          value: function value() {\n            return this._realDeviceId || this.deviceId;\n          }\n        }, {\n          key: \"getParticipantId\",\n          value: function value() {\n            return this.conference && this.conference.myUserId();\n          }\n        }, {\n          key: \"_onByteSentStatsReceived\",\n          value: function value(e, t) {\n            var n = this;\n            t > 0 && (this._hasSentData = !0);\n            var r = e.getConnectionState();\n            this._testDataSent && \"connected\" === r && (setTimeout(function () {\n              n._hasSentData || (A.warn(\"\".concat(n, \" 'bytes sent' <= 0:                         \").concat(t)), y.a.analytics.sendEvent(g.r, {\n                media_type: n.getType()\n              }));\n            }, 3e3), this._testDataSent = !1);\n          }\n        }, {\n          key: \"getCameraFacingMode\",\n          value: function value() {\n            if (this.isVideoTrack() && this.videoType === v.a.CAMERA) {\n              var e;\n\n              try {\n                e = this.track.getSettings();\n              } catch (e) {}\n\n              return e && \"facingMode\" in e ? e.facingMode : void 0 !== this._facingMode ? this._facingMode : l.a.USER;\n            }\n          }\n        }, {\n          key: \"stopStream\",\n          value: function value() {\n            this._stopStreamInProgress = !0;\n\n            try {\n              u.a.stopMediaStream(this.stream);\n            } finally {\n              this._stopStreamInProgress = !1;\n            }\n          }\n        }, {\n          key: \"_switchCamera\",\n          value: function value() {\n            this.isVideoTrack() && this.videoType === v.a.CAMERA && \"function\" == typeof this.track._switchCamera && (this.track._switchCamera(), this._facingMode = this._facingMode === l.a.ENVIRONMENT ? l.a.USER : l.a.ENVIRONMENT);\n          }\n        }, {\n          key: \"isReceivingData\",\n          value: function value() {\n            return !(!this.isVideoTrack() || !this.isMuted() && !this._stopStreamInProgress && this.videoType !== v.a.DESKTOP) || !!this.stream && (this._effectEnabled ? this._originalStream : this.stream).getTracks().some(function (e) {\n              return !(\"readyState\" in e && \"live\" !== e.readyState || \"muted\" in e && !0 === e.muted);\n            });\n          }\n        }, {\n          key: \"toString\",\n          value: function value() {\n            return \"LocalTrack[\".concat(this.rtcId, \",\").concat(this.getType(), \"]\");\n          }\n        }]) && S(n.prototype, r), i && S(n, i), t;\n      }(i.a);\n    }).call(this, \"modules/RTC/JitsiLocalTrack.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return a;\n    });\n    var r = n(2),\n        i = n(43);\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var a = function () {\n      function e() {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._connection = t.connection, this._mode = t.mode, this._setSessionID(t.sessionID), this.setStatus(t.status);\n      }\n\n      var t, n, a;\n      return t = e, (n = [{\n        key: \"getError\",\n        value: function value() {\n          return this._error;\n        }\n      }, {\n        key: \"getID\",\n        value: function value() {\n          return this._sessionID;\n        }\n      }, {\n        key: \"getInitiator\",\n        value: function value() {\n          return this._initiator;\n        }\n      }, {\n        key: \"getLiveStreamViewURL\",\n        value: function value() {\n          return this._liveStreamViewURL;\n        }\n      }, {\n        key: \"getStatus\",\n        value: function value() {\n          return this._status;\n        }\n      }, {\n        key: \"getTerminator\",\n        value: function value() {\n          return this._terminator;\n        }\n      }, {\n        key: \"getMode\",\n        value: function value() {\n          return this._mode;\n        }\n      }, {\n        key: \"setError\",\n        value: function value(e) {\n          this._error = e;\n        }\n      }, {\n        key: \"setLiveStreamViewURL\",\n        value: function value(e) {\n          this._liveStreamViewURL = e;\n        }\n      }, {\n        key: \"setStatus\",\n        value: function value(e) {\n          this._status = e;\n        }\n      }, {\n        key: \"setInitiator\",\n        value: function value(e) {\n          this._initiator = e;\n        }\n      }, {\n        key: \"setTerminator\",\n        value: function value(e) {\n          this._terminator = e;\n        }\n      }, {\n        key: \"start\",\n        value: function value(e) {\n          var t = this,\n              n = e.appData,\n              r = e.broadcastId,\n              o = e.focusMucJid,\n              a = e.streamId;\n          return new Promise(function (e, s) {\n            t._connection.sendIQ(t._createIQ({\n              action: \"start\",\n              appData: n,\n              focusMucJid: o,\n              broadcastId: r,\n              streamId: a\n            }), function (n) {\n              t.setStatus(\"pending\"), t._setSessionID(i.a.getSessionIdFromIq(n)), e();\n            }, function (e) {\n              t._setErrorFromIq(e), s(e);\n            });\n          });\n        }\n      }, {\n        key: \"stop\",\n        value: function value(e) {\n          var t = this,\n              n = e.focusMucJid;\n          return new Promise(function (e, r) {\n            t._connection.sendIQ(t._createIQ({\n              action: \"stop\",\n              focusMucJid: n\n            }), e, r);\n          });\n        }\n      }, {\n        key: \"_createIQ\",\n        value: function value(e) {\n          var t = e.action,\n              n = e.appData,\n              i = e.broadcastId,\n              o = e.focusMucJid,\n              a = e.streamId;\n          return Object(r.$iq)({\n            to: o,\n            type: \"set\"\n          }).c(\"jibri\", {\n            xmlns: \"http://jitsi.org/protocol/jibri\",\n            action: t,\n            app_data: n,\n            recording_mode: this._mode,\n            streamid: a,\n            you_tube_broadcast_id: i\n          }).up();\n        }\n      }, {\n        key: \"_setErrorFromIq\",\n        value: function value(e) {\n          var t = e.getElementsByTagName(\"error\")[0];\n          this.setError(t.children[0].tagName);\n        }\n      }, {\n        key: \"_setSessionID\",\n        value: function value(e) {\n          this._sessionID = e;\n        }\n      }]) && o(t.prototype, n), a && o(t, a), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(22),\n        i = n.n(r),\n        o = n(9),\n        a = n(3),\n        s = n(12),\n        c = n(8),\n        u = n.n(c),\n        d = n(5),\n        l = n(46);\n\n    function p(e, t) {\n      var n = Object.keys(e);\n\n      if (Object.getOwnPropertySymbols) {\n        var r = Object.getOwnPropertySymbols(e);\n        t && (r = r.filter(function (t) {\n          return Object.getOwnPropertyDescriptor(e, t).enumerable;\n        })), n.push.apply(n, r);\n      }\n\n      return n;\n    }\n\n    function f(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function h(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var m = \"camera\",\n        v = function () {\n      function e() {\n        var t = this;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._eventEmitter = new i.a(), this._grantedPermissions = {}, s.a.addListener(u.a.DEVICE_LIST_CHANGED, function (e) {\n          return t._eventEmitter.emit(l.DEVICE_LIST_CHANGED, e);\n        }), s.a.addListener(u.a.DEVICE_LIST_AVAILABLE, function (e) {\n          return t._logOutputDevice(t.getAudioOutputDevice(), e);\n        }), s.a.addListener(u.a.GRANTED_PERMISSIONS, function (e) {\n          return t._handleGrantedPermissions(e);\n        }), this._permissionsApiSupported = new Promise(function (e) {\n          navigator.permissions ? navigator.permissions.query({\n            name: m\n          }).then(function () {\n            return e(!0);\n          }, function () {\n            return e(!1);\n          }) : e(!1);\n        });\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"_handleGrantedPermissions\",\n        value: function value(e) {\n          this._grantedPermissions = function (e) {\n            for (var t = 1; t < arguments.length; t++) {\n              var n = null != arguments[t] ? arguments[t] : {};\n              t % 2 ? p(Object(n), !0).forEach(function (t) {\n                f(e, t, n[t]);\n              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : p(Object(n)).forEach(function (t) {\n                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n              });\n            }\n\n            return e;\n          }({}, this._grantedPermissions, {}, e);\n        }\n      }, {\n        key: \"_logOutputDevice\",\n        value: function value(e, t) {\n          var n = t.find(function (t) {\n            return \"audiooutput\" === t.kind && t.deviceId === e;\n          });\n          n && d.a.sendActiveDeviceListEvent(s.a.getEventDataForActiveDevice(n));\n        }\n      }, {\n        key: \"enumerateDevices\",\n        value: function value(e) {\n          s.a.enumerateDevices(e);\n        }\n      }, {\n        key: \"isDeviceListAvailable\",\n        value: function value() {\n          return s.a.isDeviceListAvailable();\n        }\n      }, {\n        key: \"isDeviceChangeAvailable\",\n        value: function value(e) {\n          return s.a.isDeviceChangeAvailable(e);\n        }\n      }, {\n        key: \"isDevicePermissionGranted\",\n        value: function value(e) {\n          var t = this;\n          return new Promise(function (n) {\n            e in t._grantedPermissions ? n(t._grantedPermissions[e]) : t._permissionsApiSupported.then(function (t) {\n              if (t) {\n                var r = [];\n\n                switch (e) {\n                  case o.c:\n                    r.push(navigator.permissions.query({\n                      name: m\n                    }));\n                    break;\n\n                  case o.a:\n                    r.push(navigator.permissions.query({\n                      name: \"microphone\"\n                    }));\n                    break;\n\n                  default:\n                    r.push(navigator.permissions.query({\n                      name: m\n                    })), r.push(navigator.permissions.query({\n                      name: \"microphone\"\n                    }));\n                }\n\n                Promise.all(r).then(function (e) {\n                  return n(e.every(function (e) {\n                    return \"granted\" === (e.state || e.status);\n                  }));\n                }, function () {\n                  return n(!1);\n                });\n              } else n(!1);\n            });\n          });\n        }\n      }, {\n        key: \"isMultipleAudioInputSupported\",\n        value: function value() {\n          return !a.a.isFirefox();\n        }\n      }, {\n        key: \"getAudioOutputDevice\",\n        value: function value() {\n          return s.a.getAudioOutputDevice();\n        }\n      }, {\n        key: \"setAudioOutputDevice\",\n        value: function value(e) {\n          var t = s.a.getCurrentlyAvailableMediaDevices();\n          return t && t.length > 0 && this._logOutputDevice(e, s.a.getCurrentlyAvailableMediaDevices()), s.a.setAudioOutputDevice(e);\n        }\n      }, {\n        key: \"addEventListener\",\n        value: function value(e, t) {\n          this._eventEmitter.addListener(e, t);\n        }\n      }, {\n        key: \"removeEventListener\",\n        value: function value(e, t) {\n          this._eventEmitter.removeListener(e, t);\n        }\n      }, {\n        key: \"emitEvent\",\n        value: function value(e) {\n          for (var t, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) {\n            r[i - 1] = arguments[i];\n          }\n\n          (t = this._eventEmitter).emit.apply(t, [e].concat(r));\n        }\n      }, {\n        key: \"supportsVideo\",\n        value: function value() {\n          return a.a.supportsVideo();\n        }\n      }]) && h(t.prototype, n), r && h(t, r), e;\n    }();\n\n    t.a = new v();\n  }, function (e, t) {\n    var n = {\n      trace: 0,\n      debug: 1,\n      info: 2,\n      log: 3,\n      warn: 4,\n      error: 5\n    };\n    a.consoleTransport = console;\n    var r = [a.consoleTransport];\n    a.addGlobalTransport = function (e) {\n      -1 === r.indexOf(e) && r.push(e);\n    }, a.removeGlobalTransport = function (e) {\n      var t = r.indexOf(e);\n      -1 !== t && r.splice(t, 1);\n    };\n    var i = {};\n\n    function o() {\n      var e = arguments[0],\n          t = arguments[1],\n          o = Array.prototype.slice.call(arguments, 2);\n      if (!(n[t] < e.level)) for (var a = !(e.options.disableCallerInfo || i.disableCallerInfo) && function () {\n        var e = {\n          methodName: \"\",\n          fileLocation: \"\",\n          line: null,\n          column: null\n        },\n            t = new Error(),\n            n = t.stack ? t.stack.split(\"\\n\") : [];\n        if (!n || n.length < 1) return e;\n        var r = null;\n        return n[3] && (r = n[3].match(/\\s*at\\s*(.+?)\\s*\\((\\S*)\\s*:(\\d*)\\s*:(\\d*)\\)/)), !r || r.length <= 4 ? (0 === n[2].indexOf(\"log@\") ? e.methodName = n[3].substr(0, n[3].indexOf(\"@\")) : e.methodName = n[2].substr(0, n[2].indexOf(\"@\")), e) : (e.methodName = r[1], e.fileLocation = r[2], e.line = r[3], e.column = r[4], e);\n      }(), s = r.concat(e.transports), c = 0; c < s.length; c++) {\n        var u = s[c],\n            d = u[t];\n\n        if (d && \"function\" == typeof d) {\n          var l = [];\n          l.push(new Date().toISOString()), e.id && l.push(\"[\" + e.id + \"]\"), a && a.methodName.length > 1 && l.push(\"<\" + a.methodName + \">: \");\n          var p = l.concat(o);\n          d.bind(u).apply(u, p);\n        }\n      }\n    }\n\n    function a(e, t, r, i) {\n      this.id = t, this.options = i || {}, this.transports = r, this.transports || (this.transports = []), this.level = n[e];\n\n      for (var a = Object.keys(n), s = 0; s < a.length; s++) {\n        this[a[s]] = o.bind(null, this, a[s]);\n      }\n    }\n\n    a.setGlobalOptions = function (e) {\n      i = e || {};\n    }, a.prototype.setLevel = function (e) {\n      this.level = n[e];\n    }, e.exports = a, a.levels = {\n      TRACE: \"trace\",\n      DEBUG: \"debug\",\n      INFO: \"info\",\n      LOG: \"log\",\n      WARN: \"warn\",\n      ERROR: \"error\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = {\n      generateIdentifier: function generateIdentifier() {\n        return Math.random().toString(36).substr(2, 10);\n      }\n    };\n    r.localCName = r.generateIdentifier(), r.splitLines = function (e) {\n      return e.trim().split(\"\\n\").map(function (e) {\n        return e.trim();\n      });\n    }, r.splitSections = function (e) {\n      return e.split(\"\\nm=\").map(function (e, t) {\n        return (t > 0 ? \"m=\" + e : e).trim() + \"\\r\\n\";\n      });\n    }, r.getDescription = function (e) {\n      var t = r.splitSections(e);\n      return t && t[0];\n    }, r.getMediaSections = function (e) {\n      var t = r.splitSections(e);\n      return t.shift(), t;\n    }, r.matchPrefix = function (e, t) {\n      return r.splitLines(e).filter(function (e) {\n        return 0 === e.indexOf(t);\n      });\n    }, r.parseCandidate = function (e) {\n      for (var t, n = {\n        foundation: (t = 0 === e.indexOf(\"a=candidate:\") ? e.substring(12).split(\" \") : e.substring(10).split(\" \"))[0],\n        component: parseInt(t[1], 10),\n        protocol: t[2].toLowerCase(),\n        priority: parseInt(t[3], 10),\n        ip: t[4],\n        address: t[4],\n        port: parseInt(t[5], 10),\n        type: t[7]\n      }, r = 8; r < t.length; r += 2) {\n        switch (t[r]) {\n          case \"raddr\":\n            n.relatedAddress = t[r + 1];\n            break;\n\n          case \"rport\":\n            n.relatedPort = parseInt(t[r + 1], 10);\n            break;\n\n          case \"tcptype\":\n            n.tcpType = t[r + 1];\n            break;\n\n          case \"ufrag\":\n            n.ufrag = t[r + 1], n.usernameFragment = t[r + 1];\n            break;\n\n          default:\n            n[t[r]] = t[r + 1];\n        }\n      }\n\n      return n;\n    }, r.writeCandidate = function (e) {\n      var t = [];\n      t.push(e.foundation), t.push(e.component), t.push(e.protocol.toUpperCase()), t.push(e.priority), t.push(e.address || e.ip), t.push(e.port);\n      var n = e.type;\n      return t.push(\"typ\"), t.push(n), \"host\" !== n && e.relatedAddress && e.relatedPort && (t.push(\"raddr\"), t.push(e.relatedAddress), t.push(\"rport\"), t.push(e.relatedPort)), e.tcpType && \"tcp\" === e.protocol.toLowerCase() && (t.push(\"tcptype\"), t.push(e.tcpType)), (e.usernameFragment || e.ufrag) && (t.push(\"ufrag\"), t.push(e.usernameFragment || e.ufrag)), \"candidate:\" + t.join(\" \");\n    }, r.parseIceOptions = function (e) {\n      return e.substr(14).split(\" \");\n    }, r.parseRtpMap = function (e) {\n      var t = e.substr(9).split(\" \"),\n          n = {\n        payloadType: parseInt(t.shift(), 10)\n      };\n      return t = t[0].split(\"/\"), n.name = t[0], n.clockRate = parseInt(t[1], 10), n.channels = 3 === t.length ? parseInt(t[2], 10) : 1, n.numChannels = n.channels, n;\n    }, r.writeRtpMap = function (e) {\n      var t = e.payloadType;\n      void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);\n      var n = e.channels || e.numChannels || 1;\n      return \"a=rtpmap:\" + t + \" \" + e.name + \"/\" + e.clockRate + (1 !== n ? \"/\" + n : \"\") + \"\\r\\n\";\n    }, r.parseExtmap = function (e) {\n      var t = e.substr(9).split(\" \");\n      return {\n        id: parseInt(t[0], 10),\n        direction: t[0].indexOf(\"/\") > 0 ? t[0].split(\"/\")[1] : \"sendrecv\",\n        uri: t[1]\n      };\n    }, r.writeExtmap = function (e) {\n      return \"a=extmap:\" + (e.id || e.preferredId) + (e.direction && \"sendrecv\" !== e.direction ? \"/\" + e.direction : \"\") + \" \" + e.uri + \"\\r\\n\";\n    }, r.parseFmtp = function (e) {\n      for (var t, n = {}, r = e.substr(e.indexOf(\" \") + 1).split(\";\"), i = 0; i < r.length; i++) {\n        n[(t = r[i].trim().split(\"=\"))[0].trim()] = t[1];\n      }\n\n      return n;\n    }, r.writeFmtp = function (e) {\n      var t = \"\",\n          n = e.payloadType;\n\n      if (void 0 !== e.preferredPayloadType && (n = e.preferredPayloadType), e.parameters && Object.keys(e.parameters).length) {\n        var r = [];\n        Object.keys(e.parameters).forEach(function (t) {\n          e.parameters[t] ? r.push(t + \"=\" + e.parameters[t]) : r.push(t);\n        }), t += \"a=fmtp:\" + n + \" \" + r.join(\";\") + \"\\r\\n\";\n      }\n\n      return t;\n    }, r.parseRtcpFb = function (e) {\n      var t = e.substr(e.indexOf(\" \") + 1).split(\" \");\n      return {\n        type: t.shift(),\n        parameter: t.join(\" \")\n      };\n    }, r.writeRtcpFb = function (e) {\n      var t = \"\",\n          n = e.payloadType;\n      return void 0 !== e.preferredPayloadType && (n = e.preferredPayloadType), e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach(function (e) {\n        t += \"a=rtcp-fb:\" + n + \" \" + e.type + (e.parameter && e.parameter.length ? \" \" + e.parameter : \"\") + \"\\r\\n\";\n      }), t;\n    }, r.parseSsrcMedia = function (e) {\n      var t = e.indexOf(\" \"),\n          n = {\n        ssrc: parseInt(e.substr(7, t - 7), 10)\n      },\n          r = e.indexOf(\":\", t);\n      return r > -1 ? (n.attribute = e.substr(t + 1, r - t - 1), n.value = e.substr(r + 1)) : n.attribute = e.substr(t + 1), n;\n    }, r.parseSsrcGroup = function (e) {\n      var t = e.substr(13).split(\" \");\n      return {\n        semantics: t.shift(),\n        ssrcs: t.map(function (e) {\n          return parseInt(e, 10);\n        })\n      };\n    }, r.getMid = function (e) {\n      var t = r.matchPrefix(e, \"a=mid:\")[0];\n      if (t) return t.substr(6);\n    }, r.parseFingerprint = function (e) {\n      var t = e.substr(14).split(\" \");\n      return {\n        algorithm: t[0].toLowerCase(),\n        value: t[1]\n      };\n    }, r.getDtlsParameters = function (e, t) {\n      return {\n        role: \"auto\",\n        fingerprints: r.matchPrefix(e + t, \"a=fingerprint:\").map(r.parseFingerprint)\n      };\n    }, r.writeDtlsParameters = function (e, t) {\n      var n = \"a=setup:\" + t + \"\\r\\n\";\n      return e.fingerprints.forEach(function (e) {\n        n += \"a=fingerprint:\" + e.algorithm + \" \" + e.value + \"\\r\\n\";\n      }), n;\n    }, r.getIceParameters = function (e, t) {\n      var n = r.splitLines(e);\n      return {\n        usernameFragment: (n = n.concat(r.splitLines(t))).filter(function (e) {\n          return 0 === e.indexOf(\"a=ice-ufrag:\");\n        })[0].substr(12),\n        password: n.filter(function (e) {\n          return 0 === e.indexOf(\"a=ice-pwd:\");\n        })[0].substr(10)\n      };\n    }, r.writeIceParameters = function (e) {\n      return \"a=ice-ufrag:\" + e.usernameFragment + \"\\r\\na=ice-pwd:\" + e.password + \"\\r\\n\";\n    }, r.parseRtpParameters = function (e) {\n      for (var t = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n      }, n = r.splitLines(e)[0].split(\" \"), i = 3; i < n.length; i++) {\n        var o = n[i],\n            a = r.matchPrefix(e, \"a=rtpmap:\" + o + \" \")[0];\n\n        if (a) {\n          var s = r.parseRtpMap(a),\n              c = r.matchPrefix(e, \"a=fmtp:\" + o + \" \");\n\n          switch (s.parameters = c.length ? r.parseFmtp(c[0]) : {}, s.rtcpFeedback = r.matchPrefix(e, \"a=rtcp-fb:\" + o + \" \").map(r.parseRtcpFb), t.codecs.push(s), s.name.toUpperCase()) {\n            case \"RED\":\n            case \"ULPFEC\":\n              t.fecMechanisms.push(s.name.toUpperCase());\n          }\n        }\n      }\n\n      return r.matchPrefix(e, \"a=extmap:\").forEach(function (e) {\n        t.headerExtensions.push(r.parseExtmap(e));\n      }), t;\n    }, r.writeRtpDescription = function (e, t) {\n      var n = \"\";\n      n += \"m=\" + e + \" \", n += t.codecs.length > 0 ? \"9\" : \"0\", n += \" UDP/TLS/RTP/SAVPF \", n += t.codecs.map(function (e) {\n        return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType;\n      }).join(\" \") + \"\\r\\n\", n += \"c=IN IP4 0.0.0.0\\r\\n\", n += \"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\", t.codecs.forEach(function (e) {\n        n += r.writeRtpMap(e), n += r.writeFmtp(e), n += r.writeRtcpFb(e);\n      });\n      var i = 0;\n      return t.codecs.forEach(function (e) {\n        e.maxptime > i && (i = e.maxptime);\n      }), i > 0 && (n += \"a=maxptime:\" + i + \"\\r\\n\"), n += \"a=rtcp-mux\\r\\n\", t.headerExtensions && t.headerExtensions.forEach(function (e) {\n        n += r.writeExtmap(e);\n      }), n;\n    }, r.parseRtpEncodingParameters = function (e) {\n      var t,\n          n = [],\n          i = r.parseRtpParameters(e),\n          o = -1 !== i.fecMechanisms.indexOf(\"RED\"),\n          a = -1 !== i.fecMechanisms.indexOf(\"ULPFEC\"),\n          s = r.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return r.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      }),\n          c = s.length > 0 && s[0].ssrc,\n          u = r.matchPrefix(e, \"a=ssrc-group:FID\").map(function (e) {\n        return e.substr(17).split(\" \").map(function (e) {\n          return parseInt(e, 10);\n        });\n      });\n      u.length > 0 && u[0].length > 1 && u[0][0] === c && (t = u[0][1]), i.codecs.forEach(function (e) {\n        if (\"RTX\" === e.name.toUpperCase() && e.parameters.apt) {\n          var r = {\n            ssrc: c,\n            codecPayloadType: parseInt(e.parameters.apt, 10)\n          };\n          c && t && (r.rtx = {\n            ssrc: t\n          }), n.push(r), o && ((r = JSON.parse(JSON.stringify(r))).fec = {\n            ssrc: c,\n            mechanism: a ? \"red+ulpfec\" : \"red\"\n          }, n.push(r));\n        }\n      }), 0 === n.length && c && n.push({\n        ssrc: c\n      });\n      var d = r.matchPrefix(e, \"b=\");\n      return d.length && (d = 0 === d[0].indexOf(\"b=TIAS:\") ? parseInt(d[0].substr(7), 10) : 0 === d[0].indexOf(\"b=AS:\") ? 1e3 * parseInt(d[0].substr(5), 10) * .95 - 16e3 : void 0, n.forEach(function (e) {\n        e.maxBitrate = d;\n      })), n;\n    }, r.parseRtcpParameters = function (e) {\n      var t = {},\n          n = r.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return r.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      })[0];\n      n && (t.cname = n.value, t.ssrc = n.ssrc);\n      var i = r.matchPrefix(e, \"a=rtcp-rsize\");\n      t.reducedSize = i.length > 0, t.compound = 0 === i.length;\n      var o = r.matchPrefix(e, \"a=rtcp-mux\");\n      return t.mux = o.length > 0, t;\n    }, r.parseMsid = function (e) {\n      var t,\n          n = r.matchPrefix(e, \"a=msid:\");\n      if (1 === n.length) return {\n        stream: (t = n[0].substr(7).split(\" \"))[0],\n        track: t[1]\n      };\n      var i = r.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return r.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"msid\" === e.attribute;\n      });\n      return i.length > 0 ? {\n        stream: (t = i[0].value.split(\" \"))[0],\n        track: t[1]\n      } : void 0;\n    }, r.parseSctpDescription = function (e) {\n      var t,\n          n = r.parseMLine(e),\n          i = r.matchPrefix(e, \"a=max-message-size:\");\n      i.length > 0 && (t = parseInt(i[0].substr(19), 10)), isNaN(t) && (t = 65536);\n      var o = r.matchPrefix(e, \"a=sctp-port:\");\n      if (o.length > 0) return {\n        port: parseInt(o[0].substr(12), 10),\n        protocol: n.fmt,\n        maxMessageSize: t\n      };\n\n      if (r.matchPrefix(e, \"a=sctpmap:\").length > 0) {\n        var a = r.matchPrefix(e, \"a=sctpmap:\")[0].substr(10).split(\" \");\n        return {\n          port: parseInt(a[0], 10),\n          protocol: a[1],\n          maxMessageSize: t\n        };\n      }\n    }, r.writeSctpDescription = function (e, t) {\n      var n = [];\n      return n = \"DTLS/SCTP\" !== e.protocol ? [\"m=\" + e.kind + \" 9 \" + e.protocol + \" \" + t.protocol + \"\\r\\n\", \"c=IN IP4 0.0.0.0\\r\\n\", \"a=sctp-port:\" + t.port + \"\\r\\n\"] : [\"m=\" + e.kind + \" 9 \" + e.protocol + \" \" + t.port + \"\\r\\n\", \"c=IN IP4 0.0.0.0\\r\\n\", \"a=sctpmap:\" + t.port + \" \" + t.protocol + \" 65535\\r\\n\"], void 0 !== t.maxMessageSize && n.push(\"a=max-message-size:\" + t.maxMessageSize + \"\\r\\n\"), n.join(\"\");\n    }, r.generateSessionId = function () {\n      return Math.random().toString().substr(2, 21);\n    }, r.writeSessionBoilerplate = function (e, t, n) {\n      var i = void 0 !== t ? t : 2;\n      return \"v=0\\r\\no=\" + (n || \"thisisadapterortc\") + \" \" + (e || r.generateSessionId()) + \" \" + i + \" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n    }, r.writeMediaSection = function (e, t, n, i) {\n      var o = r.writeRtpDescription(e.kind, t);\n\n      if (o += r.writeIceParameters(e.iceGatherer.getLocalParameters()), o += r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), \"offer\" === n ? \"actpass\" : \"active\"), o += \"a=mid:\" + e.mid + \"\\r\\n\", e.direction ? o += \"a=\" + e.direction + \"\\r\\n\" : e.rtpSender && e.rtpReceiver ? o += \"a=sendrecv\\r\\n\" : e.rtpSender ? o += \"a=sendonly\\r\\n\" : e.rtpReceiver ? o += \"a=recvonly\\r\\n\" : o += \"a=inactive\\r\\n\", e.rtpSender) {\n        var a = \"msid:\" + i.id + \" \" + e.rtpSender.track.id + \"\\r\\n\";\n        o += \"a=\" + a, o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" \" + a, e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" \" + a, o += \"a=ssrc-group:FID \" + e.sendEncodingParameters[0].ssrc + \" \" + e.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n      }\n\n      return o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" cname:\" + r.localCName + \"\\r\\n\", e.rtpSender && e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + r.localCName + \"\\r\\n\"), o;\n    }, r.getDirection = function (e, t) {\n      for (var n = r.splitLines(e), i = 0; i < n.length; i++) {\n        switch (n[i]) {\n          case \"a=sendrecv\":\n          case \"a=sendonly\":\n          case \"a=recvonly\":\n          case \"a=inactive\":\n            return n[i].substr(2);\n        }\n      }\n\n      return t ? r.getDirection(t) : \"sendrecv\";\n    }, r.getKind = function (e) {\n      return r.splitLines(e)[0].split(\" \")[0].substr(2);\n    }, r.isRejected = function (e) {\n      return \"0\" === e.split(\" \", 2)[1];\n    }, r.parseMLine = function (e) {\n      var t = r.splitLines(e)[0].substr(2).split(\" \");\n      return {\n        kind: t[0],\n        port: parseInt(t[1], 10),\n        protocol: t[2],\n        fmt: t.slice(3).join(\" \")\n      };\n    }, r.parseOLine = function (e) {\n      var t = r.matchPrefix(e, \"o=\")[0].substr(2).split(\" \");\n      return {\n        username: t[0],\n        sessionId: t[1],\n        sessionVersion: parseInt(t[2], 10),\n        netType: t[3],\n        addressType: t[4],\n        address: t[5]\n      };\n    }, r.isValidSDP = function (e) {\n      if (\"string\" != typeof e || 0 === e.length) return !1;\n\n      for (var t = r.splitLines(e), n = 0; n < t.length; n++) {\n        if (t[n].length < 2 || \"=\" !== t[n].charAt(1)) return !1;\n      }\n\n      return !0;\n    }, e.exports = r;\n  }, function (e, t) {\n    var n = e.exports = {\n      v: [{\n        name: \"version\",\n        reg: /^(\\d*)$/\n      }],\n      o: [{\n        name: \"origin\",\n        reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n        names: [\"username\", \"sessionId\", \"sessionVersion\", \"netType\", \"ipVer\", \"address\"],\n        format: \"%s %s %d %s IP%d %s\"\n      }],\n      s: [{\n        name: \"name\"\n      }],\n      i: [{\n        name: \"description\"\n      }],\n      u: [{\n        name: \"uri\"\n      }],\n      e: [{\n        name: \"email\"\n      }],\n      p: [{\n        name: \"phone\"\n      }],\n      z: [{\n        name: \"timezones\"\n      }],\n      r: [{\n        name: \"repeats\"\n      }],\n      t: [{\n        name: \"timing\",\n        reg: /^(\\d*) (\\d*)/,\n        names: [\"start\", \"stop\"],\n        format: \"%d %d\"\n      }],\n      c: [{\n        name: \"connection\",\n        reg: /^IN IP(\\d) (\\S*)/,\n        names: [\"version\", \"ip\"],\n        format: \"IN IP%d %s\"\n      }],\n      b: [{\n        push: \"bandwidth\",\n        reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n        names: [\"type\", \"limit\"],\n        format: \"%s:%s\"\n      }],\n      m: [{\n        reg: /^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,\n        names: [\"type\", \"port\", \"protocol\", \"payloads\"],\n        format: \"%s %d %s %s\"\n      }],\n      a: [{\n        push: \"rtp\",\n        reg: /^rtpmap:(\\d*) ([\\w\\-\\.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n        names: [\"payload\", \"codec\", \"rate\", \"encoding\"],\n        format: function format(e) {\n          return e.encoding ? \"rtpmap:%d %s/%s/%s\" : e.rate ? \"rtpmap:%d %s/%s\" : \"rtpmap:%d %s\";\n        }\n      }, {\n        push: \"fmtp\",\n        reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n        names: [\"payload\", \"config\"],\n        format: \"fmtp:%d %s\"\n      }, {\n        name: \"control\",\n        reg: /^control:(.*)/,\n        format: \"control:%s\"\n      }, {\n        name: \"rtcp\",\n        reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n        names: [\"port\", \"netType\", \"ipVer\", \"address\"],\n        format: function format(e) {\n          return null != e.address ? \"rtcp:%d %s IP%d %s\" : \"rtcp:%d\";\n        }\n      }, {\n        push: \"rtcpFbTrrInt\",\n        reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n        names: [\"payload\", \"value\"],\n        format: \"rtcp-fb:%d trr-int %d\"\n      }, {\n        push: \"rtcpFb\",\n        reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n        names: [\"payload\", \"type\", \"subtype\"],\n        format: function format(e) {\n          return null != e.subtype ? \"rtcp-fb:%s %s %s\" : \"rtcp-fb:%s %s\";\n        }\n      }, {\n        push: \"ext\",\n        reg: /^extmap:(\\d+)(?:\\/(\\w+))? (\\S*)(?: (\\S*))?/,\n        names: [\"value\", \"direction\", \"uri\", \"config\"],\n        format: function format(e) {\n          return \"extmap:%d\" + (e.direction ? \"/%s\" : \"%v\") + \" %s\" + (e.config ? \" %s\" : \"\");\n        }\n      }, {\n        push: \"crypto\",\n        reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n        names: [\"id\", \"suite\", \"config\", \"sessionConfig\"],\n        format: function format(e) {\n          return null != e.sessionConfig ? \"crypto:%d %s %s %s\" : \"crypto:%d %s %s\";\n        }\n      }, {\n        name: \"setup\",\n        reg: /^setup:(\\w*)/,\n        format: \"setup:%s\"\n      }, {\n        name: \"mid\",\n        reg: /^mid:([^\\s]*)/,\n        format: \"mid:%s\"\n      }, {\n        name: \"msid\",\n        reg: /^msid:(.*)/,\n        format: \"msid:%s\"\n      }, {\n        name: \"ptime\",\n        reg: /^ptime:(\\d*)/,\n        format: \"ptime:%d\"\n      }, {\n        name: \"maxptime\",\n        reg: /^maxptime:(\\d*)/,\n        format: \"maxptime:%d\"\n      }, {\n        name: \"direction\",\n        reg: /^(sendrecv|recvonly|sendonly|inactive)/\n      }, {\n        name: \"icelite\",\n        reg: /^(ice-lite)/\n      }, {\n        name: \"iceUfrag\",\n        reg: /^ice-ufrag:(\\S*)/,\n        format: \"ice-ufrag:%s\"\n      }, {\n        name: \"icePwd\",\n        reg: /^ice-pwd:(\\S*)/,\n        format: \"ice-pwd:%s\"\n      }, {\n        name: \"fingerprint\",\n        reg: /^fingerprint:(\\S*) (\\S*)/,\n        names: [\"type\", \"hash\"],\n        format: \"fingerprint:%s %s\"\n      }, {\n        push: \"candidates\",\n        reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n        names: [\"foundation\", \"component\", \"transport\", \"priority\", \"ip\", \"port\", \"type\", \"raddr\", \"rport\", \"tcptype\", \"generation\", \"network-id\", \"network-cost\"],\n        format: function format(e) {\n          var t = \"candidate:%s %d %s %d %s %d typ %s\";\n          return t += null != e.raddr ? \" raddr %s rport %d\" : \"%v%v\", t += null != e.tcptype ? \" tcptype %s\" : \"%v\", null != e.generation && (t += \" generation %d\"), t += null != e[\"network-id\"] ? \" network-id %d\" : \"%v\", t += null != e[\"network-cost\"] ? \" network-cost %d\" : \"%v\";\n        }\n      }, {\n        name: \"endOfCandidates\",\n        reg: /^(end-of-candidates)/\n      }, {\n        name: \"remoteCandidates\",\n        reg: /^remote-candidates:(.*)/,\n        format: \"remote-candidates:%s\"\n      }, {\n        name: \"iceOptions\",\n        reg: /^ice-options:(\\S*)/,\n        format: \"ice-options:%s\"\n      }, {\n        push: \"ssrcs\",\n        reg: /^ssrc:(\\d*) ([\\w_]*)(?::(.*))?/,\n        names: [\"id\", \"attribute\", \"value\"],\n        format: function format(e) {\n          var t = \"ssrc:%d\";\n          return null != e.attribute && (t += \" %s\", null != e.value && (t += \":%s\")), t;\n        }\n      }, {\n        push: \"ssrcGroups\",\n        reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n        names: [\"semantics\", \"ssrcs\"],\n        format: \"ssrc-group:%s %s\"\n      }, {\n        name: \"msidSemantic\",\n        reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n        names: [\"semantic\", \"token\"],\n        format: \"msid-semantic: %s %s\"\n      }, {\n        push: \"groups\",\n        reg: /^group:(\\w*) (.*)/,\n        names: [\"type\", \"mids\"],\n        format: \"group:%s %s\"\n      }, {\n        name: \"rtcpMux\",\n        reg: /^(rtcp-mux)/\n      }, {\n        name: \"rtcpRsize\",\n        reg: /^(rtcp-rsize)/\n      }, {\n        name: \"sctpmap\",\n        reg: /^sctpmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,\n        names: [\"sctpmapNumber\", \"app\", \"maxMessageSize\"],\n        format: function format(e) {\n          return null != e.maxMessageSize ? \"sctpmap:%s %s %s\" : \"sctpmap:%s %s\";\n        }\n      }, {\n        name: \"xGoogleFlag\",\n        reg: /^x-google-flag:([^\\s]*)/,\n        format: \"x-google-flag:%s\"\n      }, {\n        push: \"rids\",\n        reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n        names: [\"id\", \"direction\", \"params\"],\n        format: function format(e) {\n          return e.params ? \"rid:%s %s %s\" : \"rid:%s %s\";\n        }\n      }, {\n        push: \"imageattrs\",\n        reg: new RegExp(\"^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?\"),\n        names: [\"pt\", \"dir1\", \"attrs1\", \"dir2\", \"attrs2\"],\n        format: function format(e) {\n          return \"imageattr:%s %s %s\" + (e.dir2 ? \" %s %s\" : \"\");\n        }\n      }, {\n        name: \"simulcast\",\n        reg: new RegExp(\"^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$\"),\n        names: [\"dir1\", \"list1\", \"dir2\", \"list2\"],\n        format: function format(e) {\n          return \"simulcast:%s %s\" + (e.dir2 ? \" %s %s\" : \"\");\n        }\n      }, {\n        name: \"simulcast_03\",\n        reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n        names: [\"value\"],\n        format: \"simulcast: %s\"\n      }, {\n        name: \"framerate\",\n        reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n        format: \"framerate:%s\"\n      }, {\n        push: \"invalid\",\n        names: [\"value\"]\n      }]\n    };\n    Object.keys(n).forEach(function (e) {\n      n[e].forEach(function (e) {\n        e.reg || (e.reg = /(.*)/), e.format || (e.format = \"%s\");\n      });\n    });\n  }, function (e, t, n) {\n    var r = n(151),\n        i = \"audio/webm\",\n        o = \"audio/ogg\",\n        a = function a(e) {\n      this.track = e, this.recorder = null, this.data = null, this.name = null, this.startTime = null;\n    };\n\n    function s(e) {\n      if (void 0 === e.recorder) throw new Error(\"Passed an object to startRecorder which is not a TrackRecorder object\");\n      e.recorder.start(), e.startTime = new Date();\n    }\n\n    function c(e) {\n      if (void 0 === e.recorder) throw new Error(\"Passed an object to stopRecorder which is not a TrackRecorder object\");\n      e.recorder.stop();\n    }\n\n    function u() {\n      if (MediaRecorder.isTypeSupported(i)) return i;\n      if (MediaRecorder.isTypeSupported(o)) return o;\n      throw new Error(\"unable to create a MediaRecorder with the right mimetype!\");\n    }\n\n    function d(e) {\n      this.recorders = [], this.fileType = u(), this.isRecording = !1, this.jitsiConference = e;\n    }\n\n    d.determineCorrectFileType = u, d.prototype.addTrack = function (e) {\n      if (e.isAudioTrack()) {\n        var t = this.instantiateTrackRecorder(e);\n        this.recorders.push(t), this.updateNames(), this.isRecording && s(t);\n      }\n    }, d.prototype.instantiateTrackRecorder = function (e) {\n      var t = new a(e),\n          n = t.track.getOriginalStream(),\n          r = function () {\n        if (\"undefined\" != typeof MediaStream) return new MediaStream();\n        throw new Error(\"cannot create a clean mediaStream\");\n      }();\n\n      return n.getAudioTracks().forEach(function (e) {\n        return r.addTrack(e);\n      }), t.recorder = new MediaRecorder(r, {\n        mimeType: this.fileType\n      }), t.data = [], t.recorder.ondataavailable = function (e) {\n        e.data.size > 0 && t.data.push(e.data);\n      }, t;\n    }, d.prototype.removeTrack = function (e) {\n      if (!e.isVideoTrack()) {\n        var t,\n            n = this.recorders;\n\n        for (t = 0; t < n.length; t++) {\n          if (n[t].track.getParticipantId() === e.getParticipantId()) {\n            var r = n[t];\n            this.isRecording ? c(r) : n.splice(t, 1);\n          }\n        }\n\n        this.updateNames();\n      }\n    }, d.prototype.updateNames = function () {\n      var e = this.jitsiConference;\n      this.recorders.forEach(function (t) {\n        if (t.track.isLocal()) t.name = \"the transcriber\";else {\n          var n = t.track.getParticipantId(),\n              r = e.getParticipantById(n).getDisplayName();\n          \"undefined\" !== r && (t.name = r);\n        }\n      });\n    }, d.prototype.start = function () {\n      if (this.isRecording) throw new Error(\"audiorecorder is already recording\");\n      this.isRecording = !0, this.recorders.forEach(function (e) {\n        return s(e);\n      }), console.log(\"\");\n    }, d.prototype.stop = function () {\n      this.isRecording = !1, this.recorders.forEach(function (e) {\n        return c(e);\n      }), console.log(\"\");\n    }, d.prototype.download = function () {\n      var e = this;\n      this.recorders.forEach(function (t) {\n        var n = new Blob(t.data, {\n          type: e.fileType\n        }),\n            r = URL.createObjectURL(n),\n            i = document.createElement(\"a\");\n        document.body.appendChild(i), i.style = \"display: none\", i.href = r, i.download = \"test.\".concat(e.fileType.split(\"/\")[1]), i.click(), window.URL.revokeObjectURL(r);\n      });\n    }, d.prototype.getRecordingResults = function () {\n      var e = this;\n      if (this.isRecording) throw new Error(\"cannot get blobs because the AudioRecorder is still recording!\");\n      this.updateNames();\n      var t = [];\n      return this.recorders.forEach(function (n) {\n        return t.push(new r(new Blob(n.data, {\n          type: e.fileType\n        }), n.name, n.startTime));\n      }), t;\n    }, d.prototype.getFileType = function () {\n      return this.fileType;\n    }, e.exports = d;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return u;\n      });\n      var r = n(4),\n          i = n(15),\n          o = n(12),\n          a = n(5),\n          s = Object(r.getLogger)(e),\n          c = 3e3;\n\n      function u() {\n        return new Promise(function (e) {\n          o.a.enumerateDevices(function (t) {\n            var n = t.filter(function (e) {\n              return \"audioinput\" === e.kind;\n            }),\n                r = [],\n                u = !0,\n                l = !1,\n                p = void 0;\n\n            try {\n              for (var f, h = n[Symbol.iterator](); !(u = (f = h.next()).done); u = !0) {\n                var m = f.value,\n                    v = o.a.obtainAudioAndVideoPermissions({\n                  devices: [\"audio\"],\n                  micDeviceId: m.deviceId\n                }).then(function (e) {\n                  var t = e[0],\n                      n = t.getOriginalStream();\n                  return a.a.startLocalStats(n, t.setAudioLevel.bind(t)), t.addEventListener(i.LOCAL_TRACK_STOPPED, function () {\n                    a.a.stopLocalStats(n);\n                  }), t;\n                });\n                r.push(v);\n              }\n            } catch (e) {\n              l = !0, p = e;\n            } finally {\n              try {\n                u || null == h.return || h.return();\n              } finally {\n                if (l) throw p;\n              }\n            }\n\n            Promise.allSettled(r).then(function (t) {\n              var n = t.filter(function (e) {\n                return \"fulfilled\" === e.status;\n              }),\n                  r = t.filter(function (e) {\n                return \"rejected\" === e.status;\n              }),\n                  o = n.map(function (e) {\n                return e.value;\n              }),\n                  a = r.map(function (e) {\n                return e.value;\n              }),\n                  u = !0,\n                  l = !1,\n                  p = void 0;\n\n              try {\n                for (var f, h = a[Symbol.iterator](); !(u = (f = h.next()).done); u = !0) {\n                  var m = f.value;\n                  s.error(\"Failed to acquire audio device with error: \", m);\n                }\n              } catch (e) {\n                l = !0, p = e;\n              } finally {\n                try {\n                  u || null == h.return || h.return();\n                } finally {\n                  if (l) throw p;\n                }\n              }\n\n              var v = !0,\n                  g = !1,\n                  y = void 0;\n\n              try {\n                for (var _, S = function S() {\n                  var t = _.value;\n                  t.on(i.TRACK_AUDIO_LEVEL_CHANGED, function (n) {\n                    n > .008 && (d(o), e({\n                      deviceId: t.deviceId,\n                      deviceLabel: t.track.label\n                    }));\n                  });\n                }, b = o[Symbol.iterator](); !(v = (_ = b.next()).done); v = !0) {\n                  S();\n                }\n              } catch (e) {\n                g = !0, y = e;\n              } finally {\n                try {\n                  v || null == b.return || b.return();\n                } finally {\n                  if (g) throw y;\n                }\n              }\n\n              setTimeout(function () {\n                d(o), e({\n                  deviceId: \"\",\n                  deviceLabel: \"\"\n                });\n              }, c);\n            });\n          });\n        });\n      }\n\n      function d(e) {\n        var t = !0,\n            n = !1,\n            r = void 0;\n\n        try {\n          for (var i, o = e[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n            i.value.stopStream();\n          }\n        } catch (e) {\n          n = !0, r = e;\n        } finally {\n          try {\n            t || null == o.return || o.return();\n          } finally {\n            if (n) throw r;\n          }\n        }\n      }\n    }).call(this, \"modules/detection/ActiveDeviceDetector.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return p;\n      });\n      var r = n(4),\n          i = n(8),\n          o = n.n(i),\n          a = n(6),\n          s = n(5),\n          c = n(11),\n          u = n.n(c);\n\n      function d(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var l = Object(r.getLogger)(e),\n          p = function () {\n        function e(t, n, r) {\n          if (function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), !t && !n) throw new TypeError(\"At least peerconnection or wsUrl must be given\");\n          if (t && n) throw new TypeError(\"Just one of peerconnection or wsUrl must be given\");\n\n          if (t ? l.debug(\"constructor() with peerconnection\") : l.debug('constructor() with wsUrl:\"'.concat(n, '\"')), this._channel = null, this._eventEmitter = r, this._mode = null, this._areRetriesEnabled = !1, this._closedFromClient = !1, t) {\n            var i = t.createDataChannel(\"JVB data channel\", {\n              protocol: \"http://jitsi.org/protocols/colibri\"\n            });\n            this._handleChannel(i), this._mode = \"datachannel\";\n          } else n && (this._areRetriesEnabled = !0, this._wsUrl = n, this._initWebSocket());\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"_initWebSocket\",\n          value: function value() {\n            var e = new WebSocket(this._wsUrl);\n            this._handleChannel(e), this._mode = \"websocket\";\n          }\n        }, {\n          key: \"_startConnectionRetries\",\n          value: function value() {\n            var e = this,\n                t = 1;\n            this._retryTimeout = setTimeout(function n() {\n              e.isOpen() || (e._initWebSocket(e._wsUrl), t = Math.min(2 * t, 60), e._retryTimeout = setTimeout(n, 1e3 * t));\n            }, 1e3 * t);\n          }\n        }, {\n          key: \"_stopConnectionRetries\",\n          value: function value() {\n            this._retryTimeout && (clearTimeout(this._retryTimeout), this._retryTimeout = void 0);\n          }\n        }, {\n          key: \"_retryWebSocketConnection\",\n          value: function value(e) {\n            var t = this;\n\n            if (this._areRetriesEnabled) {\n              var n = e.code,\n                  r = e.reason;\n              s.a.sendAnalytics(Object(a.y)(n, r)), this._areRetriesEnabled = !1, this._eventEmitter.once(o.a.DATA_CHANNEL_OPEN, function () {\n                t._stopConnectionRetries(), t._areRetriesEnabled = !0;\n              }), this._startConnectionRetries();\n            }\n          }\n        }, {\n          key: \"close\",\n          value: function value() {\n            if (this._closedFromClient = !0, this._stopConnectionRetries(), this._areRetriesEnabled = !1, this._channel) {\n              try {\n                this._channel.close();\n              } catch (e) {}\n\n              this._channel = null;\n            }\n          }\n        }, {\n          key: \"isOpen\",\n          value: function value() {\n            return this._channel && (\"open\" === this._channel.readyState || this._channel.readyState === WebSocket.OPEN);\n          }\n        }, {\n          key: \"sendMessage\",\n          value: function value(e, t) {\n            this._send({\n              colibriClass: \"EndpointMessage\",\n              msgPayload: t,\n              to: e\n            });\n          }\n        }, {\n          key: \"sendSetLastNMessage\",\n          value: function value(e) {\n            var t = {\n              colibriClass: \"LastNChangedEvent\",\n              lastN: e\n            };\n            this._send(t), l.log(\"Channel lastN set to: \".concat(e));\n          }\n        }, {\n          key: \"sendPinnedEndpointMessage\",\n          value: function value(e) {\n            l.log(\"sending pinned changed notification to the bridge for endpoint \", e), this._send({\n              colibriClass: \"PinnedEndpointChangedEvent\",\n              pinnedEndpoint: e || null\n            });\n          }\n        }, {\n          key: \"sendSelectedEndpointsMessage\",\n          value: function value(e) {\n            l.log(\"sending selected changed notification to the bridge for endpoints\", e), this._send({\n              colibriClass: \"SelectedEndpointsChangedEvent\",\n              selectedEndpoints: e\n            });\n          }\n        }, {\n          key: \"sendReceiverVideoConstraintMessage\",\n          value: function value(e) {\n            l.log(\"sending a ReceiverVideoConstraint message with \" + \"a maxFrameHeight of \".concat(e, \" pixels\")), this._send({\n              colibriClass: \"ReceiverVideoConstraint\",\n              maxFrameHeight: e\n            });\n          }\n        }, {\n          key: \"_handleChannel\",\n          value: function value(e) {\n            var t = this,\n                n = this._eventEmitter;\n            e.onopen = function () {\n              l.info(\"\".concat(t._mode, \" channel opened\")), n.emit(o.a.DATA_CHANNEL_OPEN);\n            }, e.onerror = function (e) {\n              \"websocket\" !== t._mode && l.error(\"Channel error: \".concat(e.message));\n            }, e.onmessage = function (e) {\n              var t,\n                  r = e.data;\n\n              try {\n                t = JSON.parse(r);\n              } catch (e) {\n                return u.a.callErrorHandler(e), void l.error(\"Failed to parse channel message as JSON: \", r, e);\n              }\n\n              var i = t.colibriClass;\n\n              switch (i) {\n                case \"DominantSpeakerEndpointChangeEvent\":\n                  var a = t.dominantSpeakerEndpoint;\n                  l.info(\"Channel new dominant speaker event: \", a), n.emit(o.a.DOMINANT_SPEAKER_CHANGED, a);\n                  break;\n\n                case \"EndpointConnectivityStatusChangeEvent\":\n                  var s = t.endpoint,\n                      c = \"true\" === t.active;\n                  l.info(\"Endpoint connection status changed: \".concat(s, \" active ? \").concat(c)), n.emit(o.a.ENDPOINT_CONN_STATUS_CHANGED, s, c);\n                  break;\n\n                case \"EndpointMessage\":\n                  n.emit(o.a.ENDPOINT_MESSAGE_RECEIVED, t.from, t.msgPayload);\n                  break;\n\n                case \"LastNEndpointsChangeEvent\":\n                  var d = t.lastNEndpoints;\n                  l.info(\"Channel new last-n event: \", d, t), n.emit(o.a.LASTN_ENDPOINT_CHANGED, d, t);\n                  break;\n\n                case \"SelectedUpdateEvent\":\n                  var p = t.isSelected;\n                  l.info(\"SelectedUpdateEvent isSelected? \".concat(p)), n.emit(o.a.IS_SELECTED_CHANGED, p);\n                  break;\n\n                default:\n                  l.debug(\"Channel JSON-formatted message: \", t), n.emit(\"rtc.datachannel.\".concat(i), t);\n              }\n            }, e.onclose = function (e) {\n              l.info(\"Channel closed by \".concat(t._closedFromClient ? \"client\" : \"server\")), \"websocket\" === t._mode && (t._closedFromClient || (l.error(\"Channel closed: \".concat(e.code, \" \").concat(e.reason)), t._retryWebSocketConnection(e))), t._channel = null;\n            }, this._channel = e;\n          }\n        }, {\n          key: \"_send\",\n          value: function value(e) {\n            var t = this._channel;\n            if (!this.isOpen()) throw l.error(\"Bridge Channel send: no opened channel.\"), new Error(\"No opened channel\");\n            t.send(JSON.stringify(e));\n          }\n        }, {\n          key: \"mode\",\n          get: function get() {\n            return this._mode;\n          }\n        }]) && d(t.prototype, n), r && d(t, r), e;\n      }();\n    }).call(this, \"modules/RTC/BridgeChannel.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(6),\n          i = n(4),\n          o = n(3);\n\n      function a(e) {\n        return (a = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function s(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function c(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      function u(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var d = Object(i.getLogger)(e),\n          l = function () {\n        function e() {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.reset();\n        }\n\n        var t, n, i;\n        return t = e, (n = [{\n          key: \"reset\",\n          value: function value() {\n            this.disposed = !1, this.analyticsHandlers = new Set(), this.cache = [], this.permanentProperties = {}, this.conferenceName = \"\", this.addPermanentProperties({\n              user_agent: navigator.userAgent,\n              browser_name: o.a.getName()\n            });\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            d.warn(\"Disposing of analytics adapter.\"), this.analyticsHandlers && this.analyticsHandlers.size > 0 && this.analyticsHandlers.forEach(function (e) {\n              \"function\" == typeof e.dispose && e.dispose();\n            }), this.setAnalyticsHandlers([]), this.disposed = !0;\n          }\n        }, {\n          key: \"setAnalyticsHandlers\",\n          value: function value(e) {\n            var t = this;\n\n            if (!this.disposed) {\n              this.analyticsHandlers = new Set(e), this._setUserProperties();\n              var n = this.cache;\n              this.cache = null, n && n.forEach(function (e) {\n                return t._sendEvent(e);\n              });\n            }\n          }\n        }, {\n          key: \"_setUserProperties\",\n          value: function value() {\n            var e = this;\n            this.analyticsHandlers.forEach(function (t) {\n              try {\n                t.setUserProperties(e.permanentProperties);\n              } catch (e) {\n                d.warn(\"Error in setUserProperties method of one of the \" + \"analytics handlers: \".concat(e));\n              }\n            });\n          }\n        }, {\n          key: \"addPermanentProperties\",\n          value: function value(e) {\n            this.permanentProperties = function (e) {\n              for (var t = 1; t < arguments.length; t++) {\n                var n = null != arguments[t] ? arguments[t] : {};\n                t % 2 ? s(Object(n), !0).forEach(function (t) {\n                  c(e, t, n[t]);\n                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : s(Object(n)).forEach(function (t) {\n                  Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n                });\n              }\n\n              return e;\n            }({}, this.permanentProperties, {}, e), this._setUserProperties();\n          }\n        }, {\n          key: \"setConferenceName\",\n          value: function value(e) {\n            this.conferenceName = e, this.addPermanentProperties({\n              conference_name: e\n            });\n          }\n        }, {\n          key: \"sendEvent\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n\n            if (!this.disposed) {\n              var n = null;\n              \"string\" == typeof e ? n = {\n                type: r.t,\n                action: e,\n                actionSubject: e,\n                source: e,\n                attributes: t\n              } : \"object\" === a(e) && (n = e), this._verifyRequiredFields(n) ? this._sendEvent(n) : d.error(\"Dropping a mis-formatted event: \".concat(JSON.stringify(n)));\n            }\n          }\n        }, {\n          key: \"_verifyRequiredFields\",\n          value: function value(e) {\n            if (!e) return !1;\n            e.type || (e.type = r.t);\n            var t = e.type;\n            return t !== r.t && t !== r.u && t !== r.w && t !== r.v ? (d.error(\"Unknown event type: \".concat(t)), !1) : t === r.u ? Boolean(e.name) : (e.action = e.action || e.name || e.actionSubject, e.actionSubject = e.actionSubject || e.name || e.action, e.source = e.source || e.name || e.action || e.actionSubject, e.action && e.actionSubject && e.source ? !!(t !== r.v || (e.objectType = e.objectType || \"generic-object-type\", e.containerType = e.containerType || \"conference\", \"conference\" !== e.containerType || e.containerId || (e.containerId = this.conferenceName), e.objectType && e.objectId && e.containerType && e.containerId)) || (d.error(\"Required field missing (containerId, containerType, objectId or objectType)\"), !1) : (d.error(\"Required field missing (action, actionSubject or source)\"), !1));\n          }\n        }, {\n          key: \"_maybeCacheEvent\",\n          value: function value(e) {\n            return !!this.cache && (this.cache.push(e), this.cache.length > 100 && this.cache.splice(0, 1), !0);\n          }\n        }, {\n          key: \"_sendEvent\",\n          value: function value(e) {\n            this._maybeCacheEvent(e) || this.analyticsHandlers.forEach(function (t) {\n              try {\n                t.sendEvent(e);\n              } catch (e) {\n                d.warn(\"Error sending analytics event: \".concat(e));\n              }\n            });\n          }\n        }]) && u(t.prototype, n), i && u(t, i), e;\n      }();\n\n      t.a = new l();\n    }).call(this, \"modules/statistics/AnalyticsAdapter.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e, r) {\n      n.d(t, \"a\", function () {\n        return p;\n      });\n      var i = n(4),\n          o = n(19);\n\n      function a(e) {\n        return (a = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function s(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function c(e, t) {\n        return !t || \"object\" !== a(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function u(e) {\n        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function d(e, t) {\n        return (d = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var l = Object(i.getLogger)(e),\n          p = function (e) {\n        function t() {\n          var e;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), e = c(this, u(t).call(this)), l.info(\"This appears to be \".concat(e.getName(), \", ver: \").concat(e.getVersion())), e;\n        }\n\n        var n, i, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && d(e, t);\n        }(t, e), n = t, (i = [{\n          key: \"doesVideoMuteByStreamRemove\",\n          value: function value() {\n            return !(this.isFirefox() || this.isEdge() || this.isReactNative() || this.isSafariWithWebrtc());\n          }\n        }, {\n          key: \"supportsP2P\",\n          value: function value() {\n            return !this.isEdge() && !this.isFirefox();\n          }\n        }, {\n          key: \"isChromiumBased\",\n          value: function value() {\n            return this.isChrome() || this.isElectron() || this.isNWJS() || this.isOpera();\n          }\n        }, {\n          key: \"isSafariWithWebrtc\",\n          value: function value() {\n            return this.isSafari() && !this.isVersionLessThan(\"11\");\n          }\n        }, {\n          key: \"isSafariWithVP8\",\n          value: function value() {\n            return this.isSafari() && !this.isVersionLessThan(\"12.1\");\n          }\n        }, {\n          key: \"isSupported\",\n          value: function value() {\n            return this.isChromiumBased() || this.isFirefox() || this.isReactNative() || this.isSafariWithWebrtc();\n          }\n        }, {\n          key: \"isUserInteractionRequiredForUnmute\",\n          value: function value() {\n            return this.isFirefox() && this.isVersionLessThan(\"68\") || this.isSafari();\n          }\n        }, {\n          key: \"supportsVideoMuteOnConnInterrupted\",\n          value: function value() {\n            return this.isChromiumBased() || this.isReactNative() || this.isSafariWithVP8();\n          }\n        }, {\n          key: \"supportsBandwidthStatistics\",\n          value: function value() {\n            return !this.isFirefox() && !this.isEdge() && !this.isSafariWithWebrtc();\n          }\n        }, {\n          key: \"supportsDataChannels\",\n          value: function value() {\n            return !this.isEdge();\n          }\n        }, {\n          key: \"supportsDeviceChangeEvent\",\n          value: function value() {\n            return navigator.mediaDevices && void 0 !== navigator.mediaDevices.ondevicechange && void 0 !== navigator.mediaDevices.addEventListener;\n          }\n        }, {\n          key: \"supportsRtpStatistics\",\n          value: function value() {\n            return this.isChromiumBased() || this.isEdge() || this.isFirefox() || this.isReactNative() || this.isSafariWithWebrtc();\n          }\n        }, {\n          key: \"supportsLocalCandidateRttStatistics\",\n          value: function value() {\n            return this.isChromiumBased() || this.isReactNative() || this.isSafariWithVP8();\n          }\n        }, {\n          key: \"supportsRTTStatistics\",\n          value: function value() {\n            return !this.isFirefox() && !this.isEdge();\n          }\n        }, {\n          key: \"supportsRtpSender\",\n          value: function value() {\n            return this.isFirefox() || this.isSafariWithVP8();\n          }\n        }, {\n          key: \"supportsRtx\",\n          value: function value() {\n            return !this.isFirefox() && !this.usesUnifiedPlan();\n          }\n        }, {\n          key: \"supportsSimulcast\",\n          value: function value() {\n            return this.isChromiumBased() || this.isFirefox() || this.isSafariWithVP8() || this.isReactNative();\n          }\n        }, {\n          key: \"supportsVideo\",\n          value: function value() {\n            return !this.isSafariWithWebrtc() || this.isSafariWithVP8() && this.usesPlanB();\n          }\n        }, {\n          key: \"usesPlanB\",\n          value: function value() {\n            return !this.usesUnifiedPlan();\n          }\n        }, {\n          key: \"usesUnifiedPlan\",\n          value: function value() {\n            return !!this.isFirefox() || !(!this.isSafariWithVP8() || void 0 === window.RTCRtpTransceiver) && Object.keys(RTCRtpTransceiver.prototype).indexOf(\"currentDirection\") > -1;\n          }\n        }, {\n          key: \"usesNewGumFlow\",\n          value: function value() {\n            return this.isChrome() ? !this.isVersionLessThan(61) : !(!this.isFirefox() && !this.isSafariWithWebrtc()) || !!this.isChromiumBased() && this._getChromiumBasedVersion() >= 61;\n          }\n        }, {\n          key: \"usesAdapter\",\n          value: function value() {\n            return this.usesNewGumFlow() || this.isEdge();\n          }\n        }, {\n          key: \"supportsGetDisplayMedia\",\n          value: function value() {\n            return void 0 !== navigator.getDisplayMedia || void 0 !== navigator.mediaDevices && void 0 !== navigator.mediaDevices.getDisplayMedia;\n          }\n        }, {\n          key: \"supportsSdpSemantics\",\n          value: function value() {\n            return this.isChromiumBased() && this._getChromiumBasedVersion() >= 65;\n          }\n        }, {\n          key: \"_getChromiumBasedVersion\",\n          value: function value() {\n            if (this.isChromiumBased()) {\n              if (this.isNWJS()) return Number.parseInt(r.versions.chromium, 10);\n              var e = navigator.userAgent;\n              if (e.match(/Chrome/)) return Number.parseInt(e.match(/Chrome\\/([\\d.]+)/)[1], 10);\n            }\n\n            return -1;\n          }\n        }]) && s(n.prototype, i), o && s(n, o), t;\n      }(o.a);\n    }).call(this, \"modules/browser/BrowserCapabilities.js\", n(48));\n  }, function (e, t, n) {\n    e.exports = function (e) {\n      var t = {};\n\n      function n(r) {\n        if (t[r]) return t[r].exports;\n        var i = t[r] = {\n          i: r,\n          l: !1,\n          exports: {}\n        };\n        return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n      }\n\n      return n.m = e, n.c = t, n.d = function (e, t, r) {\n        n.o(e, t) || Object.defineProperty(e, t, {\n          enumerable: !0,\n          get: r\n        });\n      }, n.r = function (e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        });\n      }, n.t = function (e, t) {\n        if (1 & t && (e = n(e)), 8 & t) return e;\n        if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n        var r = Object.create(null);\n        if (n.r(r), Object.defineProperty(r, \"default\", {\n          enumerable: !0,\n          value: e\n        }), 2 & t && \"string\" != typeof e) for (var i in e) {\n          n.d(r, i, function (t) {\n            return e[t];\n          }.bind(null, i));\n        }\n        return r;\n      }, n.n = function (e) {\n        var t = e && e.__esModule ? function () {\n          return e.default;\n        } : function () {\n          return e;\n        };\n        return n.d(t, \"a\", t), t;\n      }, n.o = function (e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t);\n      }, n.p = \"\", n(n.s = 90);\n    }({\n      17: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n\n        var r = n(18),\n            i = function () {\n          function e() {}\n\n          return e.getFirstMatch = function (e, t) {\n            var n = t.match(e);\n            return n && n.length > 0 && n[1] || \"\";\n          }, e.getSecondMatch = function (e, t) {\n            var n = t.match(e);\n            return n && n.length > 1 && n[2] || \"\";\n          }, e.matchAndReturnConst = function (e, t, n) {\n            if (e.test(t)) return n;\n          }, e.getWindowsVersionName = function (e) {\n            switch (e) {\n              case \"NT\":\n                return \"NT\";\n\n              case \"XP\":\n                return \"XP\";\n\n              case \"NT 5.0\":\n                return \"2000\";\n\n              case \"NT 5.1\":\n                return \"XP\";\n\n              case \"NT 5.2\":\n                return \"2003\";\n\n              case \"NT 6.0\":\n                return \"Vista\";\n\n              case \"NT 6.1\":\n                return \"7\";\n\n              case \"NT 6.2\":\n                return \"8\";\n\n              case \"NT 6.3\":\n                return \"8.1\";\n\n              case \"NT 10.0\":\n                return \"10\";\n\n              default:\n                return;\n            }\n          }, e.getMacOSVersionName = function (e) {\n            var t = e.split(\".\").splice(0, 2).map(function (e) {\n              return parseInt(e, 10) || 0;\n            });\n            if (t.push(0), 10 === t[0]) switch (t[1]) {\n              case 5:\n                return \"Leopard\";\n\n              case 6:\n                return \"Snow Leopard\";\n\n              case 7:\n                return \"Lion\";\n\n              case 8:\n                return \"Mountain Lion\";\n\n              case 9:\n                return \"Mavericks\";\n\n              case 10:\n                return \"Yosemite\";\n\n              case 11:\n                return \"El Capitan\";\n\n              case 12:\n                return \"Sierra\";\n\n              case 13:\n                return \"High Sierra\";\n\n              case 14:\n                return \"Mojave\";\n\n              case 15:\n                return \"Catalina\";\n\n              default:\n                return;\n            }\n          }, e.getAndroidVersionName = function (e) {\n            var t = e.split(\".\").splice(0, 2).map(function (e) {\n              return parseInt(e, 10) || 0;\n            });\n            if (t.push(0), !(1 === t[0] && t[1] < 5)) return 1 === t[0] && t[1] < 6 ? \"Cupcake\" : 1 === t[0] && t[1] >= 6 ? \"Donut\" : 2 === t[0] && t[1] < 2 ? \"Eclair\" : 2 === t[0] && 2 === t[1] ? \"Froyo\" : 2 === t[0] && t[1] > 2 ? \"Gingerbread\" : 3 === t[0] ? \"Honeycomb\" : 4 === t[0] && t[1] < 1 ? \"Ice Cream Sandwich\" : 4 === t[0] && t[1] < 4 ? \"Jelly Bean\" : 4 === t[0] && t[1] >= 4 ? \"KitKat\" : 5 === t[0] ? \"Lollipop\" : 6 === t[0] ? \"Marshmallow\" : 7 === t[0] ? \"Nougat\" : 8 === t[0] ? \"Oreo\" : 9 === t[0] ? \"Pie\" : void 0;\n          }, e.getVersionPrecision = function (e) {\n            return e.split(\".\").length;\n          }, e.compareVersions = function (t, n, r) {\n            void 0 === r && (r = !1);\n            var i = e.getVersionPrecision(t),\n                o = e.getVersionPrecision(n),\n                a = Math.max(i, o),\n                s = 0,\n                c = e.map([t, n], function (t) {\n              var n = a - e.getVersionPrecision(t),\n                  r = t + new Array(n + 1).join(\".0\");\n              return e.map(r.split(\".\"), function (e) {\n                return new Array(20 - e.length).join(\"0\") + e;\n              }).reverse();\n            });\n\n            for (r && (s = a - Math.min(i, o)), a -= 1; a >= s;) {\n              if (c[0][a] > c[1][a]) return 1;\n\n              if (c[0][a] === c[1][a]) {\n                if (a === s) return 0;\n                a -= 1;\n              } else if (c[0][a] < c[1][a]) return -1;\n            }\n          }, e.map = function (e, t) {\n            var n,\n                r = [];\n            if (Array.prototype.map) return Array.prototype.map.call(e, t);\n\n            for (n = 0; n < e.length; n += 1) {\n              r.push(t(e[n]));\n            }\n\n            return r;\n          }, e.getBrowserAlias = function (e) {\n            return r.BROWSER_ALIASES_MAP[e];\n          }, e.getBrowserTypeByAlias = function (e) {\n            return r.BROWSER_MAP[e] || \"\";\n          }, e;\n        }();\n\n        t.default = i, e.exports = t.default;\n      },\n      18: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.ENGINE_MAP = t.OS_MAP = t.PLATFORMS_MAP = t.BROWSER_MAP = t.BROWSER_ALIASES_MAP = void 0, t.BROWSER_ALIASES_MAP = {\n          \"Amazon Silk\": \"amazon_silk\",\n          \"Android Browser\": \"android\",\n          Bada: \"bada\",\n          BlackBerry: \"blackberry\",\n          Chrome: \"chrome\",\n          Chromium: \"chromium\",\n          Epiphany: \"epiphany\",\n          Firefox: \"firefox\",\n          Focus: \"focus\",\n          Generic: \"generic\",\n          \"Google Search\": \"google_search\",\n          Googlebot: \"googlebot\",\n          \"Internet Explorer\": \"ie\",\n          \"K-Meleon\": \"k_meleon\",\n          Maxthon: \"maxthon\",\n          \"Microsoft Edge\": \"edge\",\n          \"MZ Browser\": \"mz\",\n          \"NAVER Whale Browser\": \"naver\",\n          Opera: \"opera\",\n          \"Opera Coast\": \"opera_coast\",\n          PhantomJS: \"phantomjs\",\n          Puffin: \"puffin\",\n          QupZilla: \"qupzilla\",\n          QQ: \"qq\",\n          QQLite: \"qqlite\",\n          Safari: \"safari\",\n          Sailfish: \"sailfish\",\n          \"Samsung Internet for Android\": \"samsung_internet\",\n          SeaMonkey: \"seamonkey\",\n          Sleipnir: \"sleipnir\",\n          Swing: \"swing\",\n          Tizen: \"tizen\",\n          \"UC Browser\": \"uc\",\n          Vivaldi: \"vivaldi\",\n          \"WebOS Browser\": \"webos\",\n          WeChat: \"wechat\",\n          \"Yandex Browser\": \"yandex\",\n          Roku: \"roku\"\n        }, t.BROWSER_MAP = {\n          amazon_silk: \"Amazon Silk\",\n          android: \"Android Browser\",\n          bada: \"Bada\",\n          blackberry: \"BlackBerry\",\n          chrome: \"Chrome\",\n          chromium: \"Chromium\",\n          epiphany: \"Epiphany\",\n          firefox: \"Firefox\",\n          focus: \"Focus\",\n          generic: \"Generic\",\n          googlebot: \"Googlebot\",\n          google_search: \"Google Search\",\n          ie: \"Internet Explorer\",\n          k_meleon: \"K-Meleon\",\n          maxthon: \"Maxthon\",\n          edge: \"Microsoft Edge\",\n          mz: \"MZ Browser\",\n          naver: \"NAVER Whale Browser\",\n          opera: \"Opera\",\n          opera_coast: \"Opera Coast\",\n          phantomjs: \"PhantomJS\",\n          puffin: \"Puffin\",\n          qupzilla: \"QupZilla\",\n          qq: \"QQ Browser\",\n          qqlite: \"QQ Browser Lite\",\n          safari: \"Safari\",\n          sailfish: \"Sailfish\",\n          samsung_internet: \"Samsung Internet for Android\",\n          seamonkey: \"SeaMonkey\",\n          sleipnir: \"Sleipnir\",\n          swing: \"Swing\",\n          tizen: \"Tizen\",\n          uc: \"UC Browser\",\n          vivaldi: \"Vivaldi\",\n          webos: \"WebOS Browser\",\n          wechat: \"WeChat\",\n          yandex: \"Yandex Browser\"\n        }, t.PLATFORMS_MAP = {\n          tablet: \"tablet\",\n          mobile: \"mobile\",\n          desktop: \"desktop\",\n          tv: \"tv\"\n        }, t.OS_MAP = {\n          WindowsPhone: \"Windows Phone\",\n          Windows: \"Windows\",\n          MacOS: \"macOS\",\n          iOS: \"iOS\",\n          Android: \"Android\",\n          WebOS: \"WebOS\",\n          BlackBerry: \"BlackBerry\",\n          Bada: \"Bada\",\n          Tizen: \"Tizen\",\n          Linux: \"Linux\",\n          ChromeOS: \"Chrome OS\",\n          PlayStation4: \"PlayStation 4\",\n          Roku: \"Roku\"\n        }, t.ENGINE_MAP = {\n          EdgeHTML: \"EdgeHTML\",\n          Blink: \"Blink\",\n          Trident: \"Trident\",\n          Presto: \"Presto\",\n          Gecko: \"Gecko\",\n          WebKit: \"WebKit\"\n        };\n      },\n      90: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r,\n            i = (r = n(91)) && r.__esModule ? r : {\n          default: r\n        },\n            o = n(18);\n\n        function a(e, t) {\n          for (var n = 0; n < t.length; n++) {\n            var r = t[n];\n            r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n          }\n        }\n\n        var s = function () {\n          function e() {}\n\n          var t, n;\n          return e.getParser = function (e, t) {\n            if (void 0 === t && (t = !1), \"string\" != typeof e) throw new Error(\"UserAgent should be a string\");\n            return new i.default(e, t);\n          }, e.parse = function (e) {\n            return new i.default(e).getResult();\n          }, t = e, (n = [{\n            key: \"BROWSER_MAP\",\n            get: function get() {\n              return o.BROWSER_MAP;\n            }\n          }, {\n            key: \"ENGINE_MAP\",\n            get: function get() {\n              return o.ENGINE_MAP;\n            }\n          }, {\n            key: \"OS_MAP\",\n            get: function get() {\n              return o.OS_MAP;\n            }\n          }, {\n            key: \"PLATFORMS_MAP\",\n            get: function get() {\n              return o.PLATFORMS_MAP;\n            }\n          }]) && a(t, n), e;\n        }();\n\n        t.default = s, e.exports = t.default;\n      },\n      91: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r = c(n(92)),\n            i = c(n(93)),\n            o = c(n(94)),\n            a = c(n(95)),\n            s = c(n(17));\n\n        function c(e) {\n          return e && e.__esModule ? e : {\n            default: e\n          };\n        }\n\n        var u = function () {\n          function e(e, t) {\n            if (void 0 === t && (t = !1), null == e || \"\" === e) throw new Error(\"UserAgent parameter can't be empty\");\n            this._ua = e, this.parsedResult = {}, !0 !== t && this.parse();\n          }\n\n          var t = e.prototype;\n          return t.getUA = function () {\n            return this._ua;\n          }, t.test = function (e) {\n            return e.test(this._ua);\n          }, t.parseBrowser = function () {\n            var e = this;\n            this.parsedResult.browser = {};\n            var t = r.default.find(function (t) {\n              if (\"function\" == typeof t.test) return t.test(e);\n              if (t.test instanceof Array) return t.test.some(function (t) {\n                return e.test(t);\n              });\n              throw new Error(\"Browser's test function is not valid\");\n            });\n            return t && (this.parsedResult.browser = t.describe(this.getUA())), this.parsedResult.browser;\n          }, t.getBrowser = function () {\n            return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser();\n          }, t.getBrowserName = function (e) {\n            return e ? String(this.getBrowser().name).toLowerCase() || \"\" : this.getBrowser().name || \"\";\n          }, t.getBrowserVersion = function () {\n            return this.getBrowser().version;\n          }, t.getOS = function () {\n            return this.parsedResult.os ? this.parsedResult.os : this.parseOS();\n          }, t.parseOS = function () {\n            var e = this;\n            this.parsedResult.os = {};\n            var t = i.default.find(function (t) {\n              if (\"function\" == typeof t.test) return t.test(e);\n              if (t.test instanceof Array) return t.test.some(function (t) {\n                return e.test(t);\n              });\n              throw new Error(\"Browser's test function is not valid\");\n            });\n            return t && (this.parsedResult.os = t.describe(this.getUA())), this.parsedResult.os;\n          }, t.getOSName = function (e) {\n            var t = this.getOS().name;\n            return e ? String(t).toLowerCase() || \"\" : t || \"\";\n          }, t.getOSVersion = function () {\n            return this.getOS().version;\n          }, t.getPlatform = function () {\n            return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform();\n          }, t.getPlatformType = function (e) {\n            void 0 === e && (e = !1);\n            var t = this.getPlatform().type;\n            return e ? String(t).toLowerCase() || \"\" : t || \"\";\n          }, t.parsePlatform = function () {\n            var e = this;\n            this.parsedResult.platform = {};\n            var t = o.default.find(function (t) {\n              if (\"function\" == typeof t.test) return t.test(e);\n              if (t.test instanceof Array) return t.test.some(function (t) {\n                return e.test(t);\n              });\n              throw new Error(\"Browser's test function is not valid\");\n            });\n            return t && (this.parsedResult.platform = t.describe(this.getUA())), this.parsedResult.platform;\n          }, t.getEngine = function () {\n            return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine();\n          }, t.getEngineName = function (e) {\n            return e ? String(this.getEngine().name).toLowerCase() || \"\" : this.getEngine().name || \"\";\n          }, t.parseEngine = function () {\n            var e = this;\n            this.parsedResult.engine = {};\n            var t = a.default.find(function (t) {\n              if (\"function\" == typeof t.test) return t.test(e);\n              if (t.test instanceof Array) return t.test.some(function (t) {\n                return e.test(t);\n              });\n              throw new Error(\"Browser's test function is not valid\");\n            });\n            return t && (this.parsedResult.engine = t.describe(this.getUA())), this.parsedResult.engine;\n          }, t.parse = function () {\n            return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this;\n          }, t.getResult = function () {\n            return Object.assign({}, this.parsedResult);\n          }, t.satisfies = function (e) {\n            var t = this,\n                n = {},\n                r = 0,\n                i = {},\n                o = 0;\n\n            if (Object.keys(e).forEach(function (t) {\n              var a = e[t];\n              \"string\" == typeof a ? (i[t] = a, o += 1) : \"object\" == typeof a && (n[t] = a, r += 1);\n            }), r > 0) {\n              var a = Object.keys(n),\n                  s = a.find(function (e) {\n                return t.isOS(e);\n              });\n\n              if (s) {\n                var c = this.satisfies(n[s]);\n                if (void 0 !== c) return c;\n              }\n\n              var u = a.find(function (e) {\n                return t.isPlatform(e);\n              });\n\n              if (u) {\n                var d = this.satisfies(n[u]);\n                if (void 0 !== d) return d;\n              }\n            }\n\n            if (o > 0) {\n              var l = Object.keys(i).find(function (e) {\n                return t.isBrowser(e, !0);\n              });\n              if (void 0 !== l) return this.compareVersion(i[l]);\n            }\n          }, t.isBrowser = function (e, t) {\n            void 0 === t && (t = !1);\n            var n = this.getBrowserName().toLowerCase(),\n                r = e.toLowerCase(),\n                i = s.default.getBrowserTypeByAlias(r);\n            return t && i && (r = i.toLowerCase()), r === n;\n          }, t.compareVersion = function (e) {\n            var t = [0],\n                n = e,\n                r = !1,\n                i = this.getBrowserVersion();\n            if (\"string\" == typeof i) return \">\" === e[0] || \"<\" === e[0] ? (n = e.substr(1), \"=\" === e[1] ? (r = !0, n = e.substr(2)) : t = [], \">\" === e[0] ? t.push(1) : t.push(-1)) : \"=\" === e[0] ? n = e.substr(1) : \"~\" === e[0] && (r = !0, n = e.substr(1)), t.indexOf(s.default.compareVersions(i, n, r)) > -1;\n          }, t.isOS = function (e) {\n            return this.getOSName(!0) === String(e).toLowerCase();\n          }, t.isPlatform = function (e) {\n            return this.getPlatformType(!0) === String(e).toLowerCase();\n          }, t.isEngine = function (e) {\n            return this.getEngineName(!0) === String(e).toLowerCase();\n          }, t.is = function (e) {\n            return this.isBrowser(e) || this.isOS(e) || this.isPlatform(e);\n          }, t.some = function (e) {\n            var t = this;\n            return void 0 === e && (e = []), e.some(function (e) {\n              return t.is(e);\n            });\n          }, e;\n        }();\n\n        t.default = u, e.exports = t.default;\n      },\n      92: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r,\n            i = (r = n(17)) && r.__esModule ? r : {\n          default: r\n        },\n            o = /version\\/(\\d+(\\.?_?\\d+)+)/i,\n            a = [{\n          test: [/googlebot/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Googlebot\"\n            },\n                n = i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/opera/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Opera\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/opr\\/|opios/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Opera\"\n            },\n                n = i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/SamsungBrowser/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Samsung Internet for Android\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/Whale/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"NAVER Whale Browser\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/MZBrowser/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"MZ Browser\"\n            },\n                n = i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/focus/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Focus\"\n            },\n                n = i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/swing/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Swing\"\n            },\n                n = i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/coast/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Opera Coast\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/yabrowser/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Yandex Browser\"\n            },\n                n = i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/ucbrowser/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"UC Browser\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/Maxthon|mxios/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Maxthon\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/epiphany/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Epiphany\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/puffin/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Puffin\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/sleipnir/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Sleipnir\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/k-meleon/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"K-Meleon\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/micromessenger/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"WeChat\"\n            },\n                n = i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/qqbrowser/i],\n          describe: function describe(e) {\n            var t = {\n              name: /qqbrowserlite/i.test(e) ? \"QQ Browser Lite\" : \"QQ Browser\"\n            },\n                n = i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/msie|trident/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Internet Explorer\"\n            },\n                n = i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/\\sedg\\//i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Microsoft Edge\"\n            },\n                n = i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/edg([ea]|ios)/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Microsoft Edge\"\n            },\n                n = i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/vivaldi/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Vivaldi\"\n            },\n                n = i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/seamonkey/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"SeaMonkey\"\n            },\n                n = i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/sailfish/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Sailfish\"\n            },\n                n = i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/silk/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Amazon Silk\"\n            },\n                n = i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/phantom/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"PhantomJS\"\n            },\n                n = i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/slimerjs/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"SlimerJS\"\n            },\n                n = i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"BlackBerry\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/(web|hpw)[o0]s/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"WebOS Browser\"\n            },\n                n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/bada/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Bada\"\n            },\n                n = i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/tizen/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Tizen\"\n            },\n                n = i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/qupzilla/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"QupZilla\"\n            },\n                n = i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/firefox|iceweasel|fxios/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Firefox\"\n            },\n                n = i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/chromium/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Chromium\"\n            },\n                n = i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, e) || i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/chrome|crios|crmo/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Chrome\"\n            },\n                n = i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/GSA/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Google Search\"\n            },\n                n = i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: function test(e) {\n            var t = !e.test(/like android/i),\n                n = e.test(/android/i);\n            return t && n;\n          },\n          describe: function describe(e) {\n            var t = {\n              name: \"Android Browser\"\n            },\n                n = i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/playstation 4/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"PlayStation 4\"\n            },\n                n = i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/safari|applewebkit/i],\n          describe: function describe(e) {\n            var t = {\n              name: \"Safari\"\n            },\n                n = i.default.getFirstMatch(o, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/.*/i],\n          describe: function describe(e) {\n            var t = -1 !== e.search(\"\\\\(\") ? /^(.*)\\/(.*)[ \\t]\\((.*)/ : /^(.*)\\/(.*) /;\n            return {\n              name: i.default.getFirstMatch(t, e),\n              version: i.default.getSecondMatch(t, e)\n            };\n          }\n        }];\n        t.default = a, e.exports = t.default;\n      },\n      93: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r,\n            i = (r = n(17)) && r.__esModule ? r : {\n          default: r\n        },\n            o = n(18),\n            a = [{\n          test: [/Roku\\/DVP/],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i, e);\n            return {\n              name: o.OS_MAP.Roku,\n              version: t\n            };\n          }\n        }, {\n          test: [/windows phone/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i, e);\n            return {\n              name: o.OS_MAP.WindowsPhone,\n              version: t\n            };\n          }\n        }, {\n          test: [/windows/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i, e),\n                n = i.default.getWindowsVersionName(t);\n            return {\n              name: o.OS_MAP.Windows,\n              version: t,\n              versionName: n\n            };\n          }\n        }, {\n          test: [/macintosh/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i, e).replace(/[_\\s]/g, \".\"),\n                n = i.default.getMacOSVersionName(t),\n                r = {\n              name: o.OS_MAP.MacOS,\n              version: t\n            };\n            return n && (r.versionName = n), r;\n          }\n        }, {\n          test: [/(ipod|iphone|ipad)/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i, e).replace(/[_\\s]/g, \".\");\n            return {\n              name: o.OS_MAP.iOS,\n              version: t\n            };\n          }\n        }, {\n          test: function test(e) {\n            var t = !e.test(/like android/i),\n                n = e.test(/android/i);\n            return t && n;\n          },\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i, e),\n                n = i.default.getAndroidVersionName(t),\n                r = {\n              name: o.OS_MAP.Android,\n              version: t\n            };\n            return n && (r.versionName = n), r;\n          }\n        }, {\n          test: [/(web|hpw)[o0]s/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i, e),\n                n = {\n              name: o.OS_MAP.WebOS\n            };\n            return t && t.length && (n.version = t), n;\n          }\n        }, {\n          test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i, e) || i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i, e) || i.default.getFirstMatch(/\\bbb(\\d+)/i, e);\n            return {\n              name: o.OS_MAP.BlackBerry,\n              version: t\n            };\n          }\n        }, {\n          test: [/bada/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i, e);\n            return {\n              name: o.OS_MAP.Bada,\n              version: t\n            };\n          }\n        }, {\n          test: [/tizen/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i, e);\n            return {\n              name: o.OS_MAP.Tizen,\n              version: t\n            };\n          }\n        }, {\n          test: [/linux/i],\n          describe: function describe() {\n            return {\n              name: o.OS_MAP.Linux\n            };\n          }\n        }, {\n          test: [/CrOS/],\n          describe: function describe() {\n            return {\n              name: o.OS_MAP.ChromeOS\n            };\n          }\n        }, {\n          test: [/PlayStation 4/],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i, e);\n            return {\n              name: o.OS_MAP.PlayStation4,\n              version: t\n            };\n          }\n        }];\n        t.default = a, e.exports = t.default;\n      },\n      94: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r,\n            i = (r = n(17)) && r.__esModule ? r : {\n          default: r\n        },\n            o = n(18),\n            a = [{\n          test: [/googlebot/i],\n          describe: function describe() {\n            return {\n              type: \"bot\",\n              vendor: \"Google\"\n            };\n          }\n        }, {\n          test: [/huawei/i],\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/(can-l01)/i, e) && \"Nova\",\n                n = {\n              type: o.PLATFORMS_MAP.mobile,\n              vendor: \"Huawei\"\n            };\n            return t && (n.model = t), n;\n          }\n        }, {\n          test: [/nexus\\s*(?:7|8|9|10).*/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet,\n              vendor: \"Nexus\"\n            };\n          }\n        }, {\n          test: [/ipad/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet,\n              vendor: \"Apple\",\n              model: \"iPad\"\n            };\n          }\n        }, {\n          test: [/kftt build/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet,\n              vendor: \"Amazon\",\n              model: \"Kindle Fire HD 7\"\n            };\n          }\n        }, {\n          test: [/silk/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet,\n              vendor: \"Amazon\"\n            };\n          }\n        }, {\n          test: [/tablet(?! pc)/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet\n            };\n          }\n        }, {\n          test: function test(e) {\n            var t = e.test(/ipod|iphone/i),\n                n = e.test(/like (ipod|iphone)/i);\n            return t && !n;\n          },\n          describe: function describe(e) {\n            var t = i.default.getFirstMatch(/(ipod|iphone)/i, e);\n            return {\n              type: o.PLATFORMS_MAP.mobile,\n              vendor: \"Apple\",\n              model: t\n            };\n          }\n        }, {\n          test: [/nexus\\s*[0-6].*/i, /galaxy nexus/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile,\n              vendor: \"Nexus\"\n            };\n          }\n        }, {\n          test: [/[^-]mobi/i],\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"blackberry\" === e.getBrowserName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile,\n              vendor: \"BlackBerry\"\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"bada\" === e.getBrowserName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"windows phone\" === e.getBrowserName();\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile,\n              vendor: \"Microsoft\"\n            };\n          }\n        }, {\n          test: function test(e) {\n            var t = Number(String(e.getOSVersion()).split(\".\")[0]);\n            return \"android\" === e.getOSName(!0) && t >= 3;\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tablet\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"android\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.mobile\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"macos\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.desktop,\n              vendor: \"Apple\"\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"windows\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.desktop\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"linux\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.desktop\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"playstation 4\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tv\n            };\n          }\n        }, {\n          test: function test(e) {\n            return \"roku\" === e.getOSName(!0);\n          },\n          describe: function describe() {\n            return {\n              type: o.PLATFORMS_MAP.tv\n            };\n          }\n        }];\n        t.default = a, e.exports = t.default;\n      },\n      95: function _(e, t, n) {\n        \"use strict\";\n\n        t.__esModule = !0, t.default = void 0;\n        var r,\n            i = (r = n(17)) && r.__esModule ? r : {\n          default: r\n        },\n            o = n(18),\n            a = [{\n          test: function test(e) {\n            return \"microsoft edge\" === e.getBrowserName(!0);\n          },\n          describe: function describe(e) {\n            if (/\\sedg\\//i.test(e)) return {\n              name: o.ENGINE_MAP.Blink\n            };\n            var t = i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return {\n              name: o.ENGINE_MAP.EdgeHTML,\n              version: t\n            };\n          }\n        }, {\n          test: [/trident/i],\n          describe: function describe(e) {\n            var t = {\n              name: o.ENGINE_MAP.Trident\n            },\n                n = i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: function test(e) {\n            return e.test(/presto/i);\n          },\n          describe: function describe(e) {\n            var t = {\n              name: o.ENGINE_MAP.Presto\n            },\n                n = i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: function test(e) {\n            var t = e.test(/gecko/i),\n                n = e.test(/like gecko/i);\n            return t && !n;\n          },\n          describe: function describe(e) {\n            var t = {\n              name: o.ENGINE_MAP.Gecko\n            },\n                n = i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }, {\n          test: [/(apple)?webkit\\/537\\.36/i],\n          describe: function describe() {\n            return {\n              name: o.ENGINE_MAP.Blink\n            };\n          }\n        }, {\n          test: [/(apple)?webkit/i],\n          describe: function describe(e) {\n            var t = {\n              name: o.ENGINE_MAP.WebKit\n            },\n                n = i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i, e);\n            return n && (t.version = n), t;\n          }\n        }];\n        t.default = a, e.exports = t.default;\n      }\n    });\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return h;\n      });\n      var r = n(3),\n          i = n(19),\n          o = n(24),\n          a = n(9);\n\n      function s(e, t) {\n        return function (e) {\n          if (Array.isArray(e)) return e;\n        }(e) || function (e, t) {\n          if (!(Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e))) return;\n          var n = [],\n              r = !0,\n              i = !1,\n              o = void 0;\n\n          try {\n            for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0) {\n              ;\n            }\n          } catch (e) {\n            i = !0, o = e;\n          } finally {\n            try {\n              r || null == s.return || s.return();\n            } finally {\n              if (i) throw o;\n            }\n          }\n\n          return n;\n        }(e, t) || function () {\n          throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n        }();\n      }\n\n      var c = n(11),\n          u = n(4).getLogger(e),\n          d = {};\n\n      function l(e, t) {\n        return !t || t <= 0 || !e || e <= 0 ? 0 : Math.round(e / t * 100);\n      }\n\n      function p() {\n        this.loss = {}, this.bitrate = {\n          download: 0,\n          upload: 0\n        }, this.resolution = {}, this.framerate = 0;\n      }\n\n      function f() {\n        this.bandwidth = {}, this.bitrate = {}, this.packetLoss = null, this.transport = [];\n      }\n\n      function h(e, t, n, i) {\n        this._browserType = r.a.getName();\n        var o = d[this._browserType];\n        if (!o) throw \"The browser type '\".concat(this._browserType, \"' isn't supported!\");\n        this._usesPromiseGetStats = r.a.isSafariWithWebrtc() || r.a.isFirefox(), this._getStatValue = this._usesPromiseGetStats ? this._defineNewGetStatValueMethod(o) : this._defineGetStatValueMethod(o), this.peerconnection = e, this.baselineAudioLevelsReport = null, this.currentAudioLevelsReport = null, this.currentStatsReport = null, this.previousStatsReport = null, this.audioLevelReportHistory = {}, this.audioLevelsIntervalId = null, this.eventEmitter = i, this.conferenceStats = new f(), this.audioLevelsIntervalMilis = t, this.statsIntervalId = null, this.statsIntervalMilis = n, this.ssrc2stats = new Map();\n      }\n\n      d[i.b.FIREFOX] = {\n        ssrc: \"ssrc\",\n        packetsReceived: \"packetsReceived\",\n        packetsLost: \"packetsLost\",\n        packetsSent: \"packetsSent\",\n        bytesReceived: \"bytesReceived\",\n        bytesSent: \"bytesSent\",\n        framerateMean: \"framerateMean\",\n        ip: \"ipAddress\",\n        port: \"portNumber\",\n        protocol: \"transport\"\n      }, d[i.b.CHROME] = {\n        receiveBandwidth: \"googAvailableReceiveBandwidth\",\n        sendBandwidth: \"googAvailableSendBandwidth\",\n        remoteAddress: \"googRemoteAddress\",\n        transportType: \"googTransportType\",\n        localAddress: \"googLocalAddress\",\n        activeConnection: \"googActiveConnection\",\n        ssrc: \"ssrc\",\n        packetsReceived: \"packetsReceived\",\n        packetsSent: \"packetsSent\",\n        packetsLost: \"packetsLost\",\n        bytesReceived: \"bytesReceived\",\n        bytesSent: \"bytesSent\",\n        googFrameHeightReceived: \"googFrameHeightReceived\",\n        googFrameWidthReceived: \"googFrameWidthReceived\",\n        googFrameHeightSent: \"googFrameHeightSent\",\n        googFrameWidthSent: \"googFrameWidthSent\",\n        googFrameRateReceived: \"googFrameRateReceived\",\n        googFrameRateSent: \"googFrameRateSent\",\n        audioInputLevel: \"audioInputLevel\",\n        audioOutputLevel: \"audioOutputLevel\",\n        currentRoundTripTime: \"googRtt\",\n        remoteCandidateType: \"googRemoteCandidateType\",\n        localCandidateType: \"googLocalCandidateType\",\n        ip: \"ip\",\n        port: \"port\",\n        protocol: \"protocol\"\n      }, d[i.b.EDGE] = {\n        sendBandwidth: \"googAvailableSendBandwidth\",\n        remoteAddress: \"remoteAddress\",\n        transportType: \"protocol\",\n        localAddress: \"localAddress\",\n        activeConnection: \"activeConnection\",\n        ssrc: \"ssrc\",\n        packetsReceived: \"packetsReceived\",\n        packetsSent: \"packetsSent\",\n        packetsLost: \"packetsLost\",\n        bytesReceived: \"bytesReceived\",\n        bytesSent: \"bytesSent\",\n        googFrameHeightReceived: \"frameHeight\",\n        googFrameWidthReceived: \"frameWidth\",\n        googFrameHeightSent: \"frameHeight\",\n        googFrameWidthSent: \"frameWidth\",\n        googFrameRateReceived: \"framesPerSecond\",\n        googFrameRateSent: \"framesPerSecond\",\n        audioInputLevel: \"audioLevel\",\n        audioOutputLevel: \"audioLevel\",\n        currentRoundTripTime: \"roundTripTime\"\n      }, d[i.b.OPERA] = d[i.b.CHROME], d[i.b.NWJS] = d[i.b.CHROME], d[i.b.ELECTRON] = d[i.b.CHROME], d[i.b.SAFARI] = d[i.b.CHROME], d[i.b.REACT_NATIVE] = d[i.b.CHROME], p.prototype.setLoss = function (e) {\n        this.loss = e || {};\n      }, p.prototype.setResolution = function (e) {\n        this.resolution = e || {};\n      }, p.prototype.addBitrate = function (e) {\n        this.bitrate.download += e.download, this.bitrate.upload += e.upload;\n      }, p.prototype.resetBitrate = function () {\n        this.bitrate.download = 0, this.bitrate.upload = 0;\n      }, p.prototype.setFramerate = function (e) {\n        this.framerate = e || 0;\n      }, h.prototype.stop = function () {\n        this.audioLevelsIntervalId && (clearInterval(this.audioLevelsIntervalId), this.audioLevelsIntervalId = null), this.statsIntervalId && (clearInterval(this.statsIntervalId), this.statsIntervalId = null);\n      }, h.prototype.errorCallback = function (e) {\n        c.callErrorHandler(e), u.error(\"Get stats error\", e), this.stop();\n      }, h.prototype.start = function (e) {\n        var t = this,\n            n = this;\n        e && (this.audioLevelsIntervalId = setInterval(function () {\n          n.peerconnection.getStats(function (e) {\n            var r = null;\n            r = e && e.result && \"function\" == typeof e.result ? e.result() : e, n.currentAudioLevelsReport = r, t._usesPromiseGetStats ? n.processNewAudioLevelReport() : n.processAudioLevelReport(), n.baselineAudioLevelsReport = n.currentAudioLevelsReport;\n          }, function (e) {\n            return n.errorCallback(e);\n          });\n        }, n.audioLevelsIntervalMilis)), r.a.supportsRtpStatistics() && (this.statsIntervalId = setInterval(function () {\n          n.peerconnection.getStats(function (e) {\n            var r = null;\n            r = e && e.result && \"function\" == typeof e.result ? e.result() : e, n.currentStatsReport = r;\n\n            try {\n              t._usesPromiseGetStats ? n.processNewStatsReport() : n.processStatsReport();\n            } catch (e) {\n              c.callErrorHandler(e), u.error(\"Unsupported key:\".concat(e), e);\n            }\n\n            n.previousStatsReport = n.currentStatsReport;\n          }, function (e) {\n            return n.errorCallback(e);\n          });\n        }, n.statsIntervalMilis));\n      }, h.prototype._defineGetStatValueMethod = function (e) {\n        var t;\n\n        switch (this._browserType) {\n          case i.b.CHROME:\n          case i.b.OPERA:\n          case i.b.NWJS:\n          case i.b.ELECTRON:\n            t = function t(e, _t) {\n              return e.stat(_t);\n            };\n\n            break;\n\n          case i.b.REACT_NATIVE:\n            t = function t(e, _t2) {\n              var n;\n              return e.values.some(function (e) {\n                return !!e.hasOwnProperty(_t2) && (n = e[_t2], !0);\n              }), n;\n            };\n\n            break;\n\n          case i.b.EDGE:\n            t = function t(e, _t3) {\n              return e[_t3];\n            };\n\n            break;\n\n          default:\n            t = function t(e, _t4) {\n              return e[_t4];\n            };\n\n        }\n\n        return function (n, r) {\n          return t(n, function (t) {\n            var n = e[t];\n            if (n) return n;\n            throw \"The property '\".concat(t, \"' isn't supported!\");\n          }(r));\n        };\n      }, h.prototype.getNonNegativeStat = function (e, t) {\n        var n = this._getStatValue(e, t);\n\n        return \"number\" != typeof n && (n = Number(n)), isNaN(n) ? 0 : Math.max(0, n);\n      }, h.prototype.processStatsReport = function () {\n        var e = this;\n\n        if (this.previousStatsReport) {\n          var t = this._getStatValue,\n              n = {};\n\n          for (var i in this.currentStatsReport) {\n            if (this.currentStatsReport.hasOwnProperty(i)) {\n              var a = this.currentStatsReport[i];\n\n              if (a) {\n                try {\n                  var s = t(a, \"receiveBandwidth\"),\n                      c = t(a, \"sendBandwidth\");\n                  (s || c) && (this.conferenceStats.bandwidth = {\n                    download: Math.round(s / 1e3),\n                    upload: Math.round(c / 1e3)\n                  });\n                } catch (e) {}\n\n                if (\"googCandidatePair\" === a.type) if (\"continue\" === function () {\n                  var n = void 0,\n                      r = void 0,\n                      i = void 0,\n                      o = void 0,\n                      s = void 0,\n                      c = void 0,\n                      u = void 0;\n\n                  try {\n                    if (!(n = t(a, \"activeConnection\"))) return \"continue\";\n                    r = t(a, \"remoteAddress\"), u = t(a, \"transportType\"), o = t(a, \"localAddress\"), i = t(a, \"localCandidateType\"), s = t(a, \"remoteCandidateType\"), c = e.getNonNegativeStat(a, \"currentRoundTripTime\");\n                  } catch (e) {}\n\n                  if (!r || !u || !o || \"true\" !== n) return \"continue\";\n                  var d = e.conferenceStats.transport;\n                  return d.some(function (e) {\n                    return e.ip === r && e.type === u && e.localip === o;\n                  }) || d.push({\n                    ip: r,\n                    type: u,\n                    localip: o,\n                    p2p: e.peerconnection.isP2P,\n                    localCandidateType: i,\n                    remoteCandidateType: s,\n                    rtt: c\n                  }), \"continue\";\n                }()) continue;\n\n                if (\"candidatepair\" === a.type) {\n                  if (\"succeeded\" !== a.state || !a.selected) continue;\n                  var d = this.currentStatsReport[a.localCandidateId],\n                      l = this.currentStatsReport[a.remoteCandidateId];\n                  this.conferenceStats.transport.push({\n                    ip: \"\".concat(l.ipAddress, \":\").concat(l.portNumber),\n                    type: d.transport,\n                    localip: \"\".concat(d.ipAddress, \":\").concat(d.portNumber),\n                    p2p: this.peerconnection.isP2P,\n                    localCandidateType: d.candidateType,\n                    remoteCandidateType: l.candidateType\n                  });\n                }\n\n                if (\"transportdiagnostics\" === a.msType && this.conferenceStats.transport.push({\n                  ip: a.remoteAddress,\n                  type: a.protocol,\n                  localip: a.localAddress,\n                  p2p: this.peerconnection.isP2P\n                }), (\"ssrc\" === a.type || \"outboundrtp\" === a.type || \"inboundrtp\" === a.type || \"track\" === a.type) && (!r.a.isEdge() || \"inboundrtp\" !== a.type && \"outboundrtp\" !== a.type)) {\n                  var f = this.previousStatsReport[i],\n                      h = this.getNonNegativeStat(a, \"ssrc\");\n\n                  if (\"track\" === a.type && Array.isArray(a.ssrcIds) && (h = Number(a.ssrcIds[0])), f && h && (r.a.isEdge() || !0 !== a.isRemote && !0 !== a.remoteSource)) {\n                    var m = this.ssrc2stats.get(h);\n                    m || (m = new p(), this.ssrc2stats.set(h, m));\n                    var v = !0,\n                        g = \"packetsReceived\",\n                        y = t(a, g);\n                    null != y && \"\" !== y || (v = !1, null == (y = t(a, g = \"packetsSent\")) && u.warn(\"No packetsReceived nor packetsSent stat found\")), (!y || y < 0) && (y = 0);\n\n                    var _ = this.getNonNegativeStat(f, g),\n                        S = Math.max(0, y - _),\n                        b = this.getNonNegativeStat(a, \"packetsLost\"),\n                        E = this.getNonNegativeStat(f, \"packetsLost\"),\n                        T = Math.max(0, b - E);\n\n                    m.setLoss({\n                      packetsTotal: S + T,\n                      packetsLost: T,\n                      isDownloadStream: v\n                    });\n                    var C = this.getNonNegativeStat(a, \"bytesReceived\"),\n                        A = this.getNonNegativeStat(f, \"bytesReceived\"),\n                        R = Math.max(0, C - A),\n                        w = 0,\n                        O = t(a, \"bytesSent\");\n                    \"number\" != typeof O && \"string\" != typeof O || (O = Number(O), isNaN(O) || (n[h] = O, O > 0 && (w = O - t(f, \"bytesSent\")))), w = Math.max(0, w);\n                    var k = a.timestamp - f.timestamp,\n                        P = 0,\n                        I = 0;\n                    k > 0 && (P = Math.round(8 * R / k), I = Math.round(8 * w / k)), m.addBitrate({\n                      download: P,\n                      upload: I\n                    });\n                    var D = {\n                      height: null,\n                      width: null\n                    };\n\n                    try {\n                      var N = void 0,\n                          M = void 0;\n                      (N = t(a, \"googFrameHeightReceived\")) && (M = t(a, \"googFrameWidthReceived\")) ? (D.height = N, D.width = M) : (N = t(a, \"googFrameHeightSent\")) && (M = t(a, \"googFrameWidthSent\")) && (D.height = N, D.width = M);\n                    } catch (e) {}\n\n                    var L = void 0;\n\n                    try {\n                      L = t(a, \"googFrameRateReceived\") || t(a, \"googFrameRateSent\") || 0;\n                    } catch (e) {\n                      try {\n                        L = this.getNonNegativeStat(a, \"framerateMean\");\n                      } catch (e) {}\n                    }\n\n                    m.setFramerate(Math.round(L || 0)), D.height && D.width ? m.setResolution(D) : m.setResolution(null);\n                  }\n                }\n              }\n            }\n          }\n\n          this.eventEmitter.emit(o.c, this.peerconnection, n), this._processAndEmitReport();\n        }\n      }, h.prototype._processAndEmitReport = function () {\n        var e = this,\n            t = {\n          download: 0,\n          upload: 0\n        },\n            n = {\n          download: 0,\n          upload: 0\n        },\n            r = 0,\n            i = 0,\n            a = {},\n            c = {},\n            d = 0,\n            p = 0,\n            f = 0,\n            h = 0,\n            m = !0,\n            v = !1,\n            g = void 0;\n\n        try {\n          for (var y, _ = this.ssrc2stats[Symbol.iterator](); !(m = (y = _.next()).done); m = !0) {\n            var S = s(y.value, 2),\n                b = S[0],\n                E = S[1],\n                T = E.loss,\n                C = T.isDownloadStream ? \"download\" : \"upload\";\n            t[C] += T.packetsTotal, n[C] += T.packetsLost, r += E.bitrate.download, i += E.bitrate.upload;\n            var A = this.peerconnection.getTrackBySSRC(b);\n\n            if (A) {\n              A.isAudioTrack() ? (d += E.bitrate.download, p += E.bitrate.upload) : (f += E.bitrate.download, h += E.bitrate.upload);\n              var R = A.getParticipantId();\n\n              if (R) {\n                var w = E.resolution;\n\n                if (w.width && w.height && -1 !== w.width && -1 !== w.height) {\n                  var O = a[R] || {};\n                  O[b] = w, a[R] = O;\n                }\n\n                if (0 !== E.framerate) {\n                  var k = c[R] || {};\n                  k[b] = E.framerate, c[R] = k;\n                }\n              } else u.error(\"No participant ID returned by \".concat(A));\n            }\n\n            E.resetBitrate();\n          }\n        } catch (e) {\n          v = !0, g = e;\n        } finally {\n          try {\n            m || null == _.return || _.return();\n          } finally {\n            if (v) throw g;\n          }\n        }\n\n        this.conferenceStats.bitrate = {\n          upload: i,\n          download: r\n        }, this.conferenceStats.bitrate.audio = {\n          upload: p,\n          download: d\n        }, this.conferenceStats.bitrate.video = {\n          upload: h,\n          download: f\n        }, this.conferenceStats.packetLoss = {\n          total: l(n.download + n.upload, t.download + t.upload),\n          download: l(n.download, t.download),\n          upload: l(n.upload, t.upload)\n        };\n        var P,\n            I = {};\n        Object.keys(this.audioLevelReportHistory).forEach(function (t) {\n          var n = e.audioLevelReportHistory[t],\n              r = n.data,\n              i = n.isLocal,\n              o = r.reduce(function (e, t) {\n            return e + t;\n          }) / r.length;\n          if (i) P = o;else {\n            var a = e.peerconnection.getTrackBySSRC(Number(t));\n\n            if (a) {\n              var s = a.getParticipantId();\n              s && (I[s] = o);\n            }\n          }\n        }), this.audioLevelReportHistory = {}, this.eventEmitter.emit(o.d, this.peerconnection, {\n          bandwidth: this.conferenceStats.bandwidth,\n          bitrate: this.conferenceStats.bitrate,\n          packetLoss: this.conferenceStats.packetLoss,\n          resolution: a,\n          framerate: c,\n          transport: this.conferenceStats.transport,\n          localAvgAudioLevels: P,\n          avgAudioLevels: I\n        }), this.conferenceStats.transport = [];\n      }, h.prototype.processAudioLevelReport = function () {\n        if (this.baselineAudioLevelsReport) {\n          var e = this._getStatValue;\n\n          for (var t in this.currentAudioLevelsReport) {\n            if (this.currentAudioLevelsReport.hasOwnProperty(t)) {\n              var n = this.currentAudioLevelsReport[t];\n\n              if (\"ssrc\" === n.type || \"track\" === n.type) {\n                var i = this.baselineAudioLevelsReport[t],\n                    a = this.getNonNegativeStat(n, \"ssrc\");\n                if (!a && Array.isArray(n.ssrcIds) && (a = Number(n.ssrcIds[0])), i) {\n                  if (a) {\n                    var s = void 0;\n\n                    try {\n                      s = e(n, \"audioInputLevel\") || e(n, \"audioOutputLevel\");\n                    } catch (e) {\n                      return u.warn(\"Audio Levels are not available in the statistics.\"), void clearInterval(this.audioLevelsIntervalId);\n                    }\n\n                    if (s) {\n                      var c = void 0;\n                      c = \"ssrc\" === n.type ? !e(n, \"packetsReceived\") : !n.remoteSource, r.a.isEdge() ? s = s < 0 ? Math.pow(10, s / 20) : 0 : s /= 32767, a in this.audioLevelReportHistory || (this.audioLevelReportHistory[a] = {\n                        isLocal: c,\n                        data: []\n                      }), this.audioLevelReportHistory[a].data.push(s), this.eventEmitter.emit(o.a, this.peerconnection, a, s, c);\n                    }\n                  } else Date.now() - n.timestamp < 3e3 && u.warn(\"No ssrc: \");\n                } else u.warn(\"\".concat(a, \" not enough data\"));\n              }\n            }\n          }\n        }\n      }, h.prototype._defineNewGetStatValueMethod = function (e) {\n        return function (t, n) {\n          return t[function (t) {\n            var n = e[t];\n            if (n) return n;\n            throw \"The property '\".concat(t, \"' isn't supported!\");\n          }(n)];\n        };\n      }, h.prototype.getNonNegativeValue = function (e) {\n        var t = e;\n        return \"number\" != typeof t && (t = Number(t)), isNaN(t) ? 0 : Math.max(0, t);\n      }, h.prototype._calculateBitrate = function (e, t, n) {\n        var r = this.getNonNegativeValue(e[n]),\n            i = this.getNonNegativeValue(t[n]),\n            o = Math.max(0, r - i),\n            a = e.timestamp - t.timestamp,\n            s = 0;\n        return a > 0 && (s = Math.round(8 * o / a)), s;\n      }, h.prototype.processNewStatsReport = function () {\n        var e = this;\n\n        if (this.previousStatsReport) {\n          var t = this._getStatValue,\n              n = {};\n          this.currentStatsReport.forEach(function (r) {\n            if (\"candidate-pair\" === r.type && r.nominated && \"succeeded\" === r.state) {\n              var i = r.availableIncomingBitrate,\n                  o = r.availableOutgoingBitrate;\n              (i || o) && (e.conferenceStats.bandwidth = {\n                download: Math.round(i / 1e3),\n                upload: Math.round(o / 1e3)\n              });\n              var a = e.currentStatsReport.get(r.remoteCandidateId),\n                  s = e.currentStatsReport.get(r.localCandidateId);\n\n              if (a && s) {\n                var c = t(a, \"ip\"),\n                    u = t(a, \"port\"),\n                    d = \"\".concat(c, \":\").concat(u),\n                    l = t(s, \"ip\"),\n                    f = t(s, \"port\"),\n                    h = \"\".concat(l, \":\").concat(f),\n                    m = t(a, \"protocol\"),\n                    v = e.conferenceStats.transport;\n                v.some(function (e) {\n                  return e.ip === d && e.type === m && e.localip === h;\n                }) || v.push({\n                  ip: d,\n                  type: m,\n                  localIp: h,\n                  p2p: e.peerconnection.isP2P,\n                  localCandidateType: s.candidateType,\n                  remoteCandidateType: a.candidateType,\n                  networkType: s.networkType,\n                  rtt: 1e3 * r.currentRoundTripTime\n                });\n              }\n            } else if (\"inbound-rtp\" === r.type || \"outbound-rtp\" === r.type) {\n              var g = e.previousStatsReport.get(r.id),\n                  y = e.getNonNegativeValue(r.ssrc);\n              if (!g || !y) return;\n\n              var _ = e.ssrc2stats.get(y);\n\n              _ || (_ = new p(), e.ssrc2stats.set(y, _));\n              var S = !0,\n                  b = \"packetsReceived\";\n              \"outbound-rtp\" === r.type && (S = !1, b = \"packetsSent\");\n              var E = r[b];\n              (!E || E < 0) && (E = 0);\n              var T = e.getNonNegativeValue(g[b]),\n                  C = Math.max(0, E - T),\n                  A = e.getNonNegativeValue(r.packetsLost),\n                  R = e.getNonNegativeValue(g.packetsLost),\n                  w = Math.max(0, A - R);\n              _.setLoss({\n                packetsTotal: C + w,\n                packetsLost: w,\n                isDownloadStream: S\n              }), \"inbound-rtp\" === r.type ? _.addBitrate({\n                download: e._calculateBitrate(r, g, \"bytesReceived\"),\n                upload: 0\n              }) : (n[y] = e.getNonNegativeValue(r.bytesSent), _.addBitrate({\n                download: 0,\n                upload: e._calculateBitrate(r, g, \"bytesSent\")\n              }));\n              var O = r.framerateMean;\n              O && _.setFramerate(Math.round(O || 0));\n            } else if (\"track\" === r.type) {\n              var k = {\n                height: r.frameHeight,\n                width: r.frameWidth\n              },\n                  P = r.framesPerSecond;\n\n              if (!P) {\n                var I = e.previousStatsReport.get(r.id);\n\n                if (I) {\n                  var D = r.timestamp - I.timestamp;\n                  if (D > 0 && r.framesSent) P = (r.framesSent - I.framesSent) / D * 1e3;\n                }\n\n                if (!P) return;\n              }\n\n              var N = r.trackIdentifier,\n                  M = e.peerconnection.getSsrcByTrackId(N),\n                  L = e.ssrc2stats.get(M);\n              L || (L = new p(), e.ssrc2stats.set(M, L)), L.setFramerate(Math.round(P || 0)), k.height && k.width ? L.setResolution(k) : L.setResolution(null);\n            }\n          }), this.eventEmitter.emit(o.c, this.peerconnection, n), this._processAndEmitReport();\n        }\n      }, h.prototype.processNewAudioLevelReport = function () {\n        var e = this;\n        this.baselineAudioLevelsReport && this.currentAudioLevelsReport.forEach(function (t) {\n          if (\"track\" === t.type) {\n            var n = t.audioLevel;\n\n            if (n) {\n              var r = t.trackIdentifier,\n                  i = e.peerconnection.getSsrcByTrackId(r);\n\n              if (i) {\n                var s = i === e.peerconnection.getLocalSSRC(e.peerconnection.getLocalTracks(a.a));\n                e.eventEmitter.emit(o.a, e.peerconnection, i, n, s);\n              }\n            }\n          }\n        });\n      };\n    }).call(this, \"modules/statistics/RTPStatsCollector.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return O;\n      });\n\n      var r = n(4),\n          i = n(23),\n          o = n.n(i),\n          a = n(11),\n          s = n(73),\n          c = n(15),\n          u = n(9),\n          d = n(74),\n          l = n(12),\n          p = n(10),\n          f = n(3),\n          h = n(8),\n          m = n.n(h),\n          v = n(75),\n          g = n(18),\n          y = n(76),\n          _ = n(27),\n          S = n(7),\n          b = n(37);\n\n      function E(e) {\n        return function (e) {\n          if (Array.isArray(e)) {\n            for (var t = 0, n = new Array(e.length); t < e.length; t++) {\n              n[t] = e[t];\n            }\n\n            return n;\n          }\n        }(e) || function (e) {\n          if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n        }(e) || function () {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n        }();\n      }\n\n      function T(e) {\n        return (T = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      var C = Object(r.getLogger)(e),\n          A = 3,\n          R = [\"1\", \"2\", \"3\"],\n          w = [2e5, 7e5, 25e5];\n\n      function O(e, t, r, i, o, a, s) {\n        var c = this;\n        this.audioTransferActive = !(!0 === s.startSilent), this._dtmfSender = void 0, this._dtmfTonesQueue = [], this.videoTransferActive = !0, this.rtc = e, this.id = t, this.isP2P = a, this.remoteTracks = new Map(), this.localTracks = new Map(), this._addedStreams = [], this.localSSRCs = new Map(), this.localUfrag = null, this.remoteUfrag = null, this.signalingLayer = r, this._peerVideoTypeChanged = this._peerVideoTypeChanged.bind(this), this.signalingLayer.on(b.b, this._peerVideoTypeChanged), this._peerMutedChanged = this._peerMutedChanged.bind(this), this.signalingLayer.on(b.a, this._peerMutedChanged), this.options = s, this.peerconnection = new p.a.RTCPeerConnectionType(i, o), this.updateLog = [], this.stats = {}, this.statsinterval = null, this.maxstats = s.maxstats;\n        var u = n(141).Interop;\n        this.interop = new u();\n        var l = n(145);\n        this.simulcast = new l({\n          numOfLayers: A,\n          explodeRemoteSimulcast: !1\n        }), this.sdpConsistency = new y.a(this.toString()), this.localSdpMunger = new d.a(this), this.eventEmitter = e.eventEmitter, this.rtxModifier = new v.a(), this.trace = function (e, t) {\n          C.debug(e, t), c.updateLog.push({\n            time: new Date(),\n            type: e,\n            value: t || \"\"\n          });\n        }, this.onicecandidate = null, this.peerconnection.onicecandidate = function (e) {\n          c.trace(\"onicecandidate\", JSON.stringify(e.candidate, null, \" \")), null !== c.onicecandidate && c.onicecandidate(e);\n        }, this.peerconnection.onaddstream = function (e) {\n          return c._remoteStreamAdded(e.stream);\n        }, this.peerconnection.onremovestream = function (e) {\n          return c._remoteStreamRemoved(e.stream);\n        }, this.onsignalingstatechange = null, this.peerconnection.onsignalingstatechange = function (e) {\n          c.trace(\"onsignalingstatechange\", c.signalingState), null !== c.onsignalingstatechange && c.onsignalingstatechange(e);\n        }, this.oniceconnectionstatechange = null, this.peerconnection.oniceconnectionstatechange = function (e) {\n          c.trace(\"oniceconnectionstatechange\", c.iceConnectionState), null !== c.oniceconnectionstatechange && c.oniceconnectionstatechange(e);\n        }, this.onnegotiationneeded = null, this.peerconnection.onnegotiationneeded = function (e) {\n          c.trace(\"onnegotiationneeded\"), null !== c.onnegotiationneeded && c.onnegotiationneeded(e);\n        }, this.ondatachannel = null, this.peerconnection.ondatachannel = function (e) {\n          c.trace(\"ondatachannel\"), null !== c.ondatachannel && c.ondatachannel(e);\n        }, this.maxstats && (this.statsinterval = window.setInterval(function () {\n          c.getStats(function (e) {\n            if (e.result && \"function\" == typeof e.result) for (var t = e.result(), n = function n(e) {\n              var n = t[e];\n              n.names().forEach(function (e) {\n                c._processStat(n, e, n.stat(e));\n              });\n            }, r = 0; r < t.length; ++r) {\n              n(r);\n            } else e.forEach(function (e) {\n              return c._processStat(e, \"\", e);\n            });\n          }, function () {});\n        }, 1e3)), C.info(\"Create new \".concat(this));\n      }\n\n      O.prototype._processStat = function (e, t, n) {\n        var r = \"\".concat(e.id, \"-\").concat(t),\n            i = this.stats[r],\n            o = new Date();\n        i || (this.stats[r] = i = {\n          startTime: o,\n          endTime: o,\n          values: [],\n          times: []\n        }), i.values.push(n), i.times.push(o.getTime()), i.values.length > this.maxstats && (i.values.shift(), i.times.shift()), i.endTime = o;\n      };\n\n      var k = function k(e) {\n        return null == e ? \"\" : \"type: \".concat(e.type, \"\\r\\n\").concat(e.sdp);\n      };\n\n      O.prototype.getConnectionState = function () {\n        var e = this.peerconnection.iceConnectionState;\n        return \"completed\" === e ? \"connected\" : e;\n      }, O.prototype._getDesiredMediaDirection = function (e) {\n        var t = !0;\n        return e === u.a ? t = this.audioTransferActive : e === u.c && (t = this.videoTransferActive), t ? this.hasAnyTracksOfType(e) ? \"sendrecv\" : \"recvonly\" : \"inactive\";\n      }, O.prototype.isSimulcastOn = function () {\n        return !this.options.disableSimulcast && f.a.supportsSimulcast() && (!f.a.isFirefox() || this.options.enableFirefoxSimulcast);\n      }, O.prototype._peerVideoTypeChanged = function (e, t) {\n        if (e) {\n          var n = this.getRemoteTracks(e, u.c);\n          n.length && n[0]._setVideoType(t);\n        } else C.error(\"No endpointID on peerVideoTypeChanged \".concat(this));\n      }, O.prototype._peerMutedChanged = function (e, t, n) {\n        if (e) {\n          var r = this.getRemoteTracks(e, t);\n          r.length && r[0].setMute(n);\n        } else C.error(\"On peerMuteChanged - no endpoint ID\");\n      }, O.prototype.getLocalTracks = function (e) {\n        var t = Array.from(this.localTracks.values());\n        return void 0 !== e && (t = t.filter(function (t) {\n          return t.getType() === e;\n        })), t;\n      }, O.prototype.hasAnyTracksOfType = function (e) {\n        if (!e) throw new Error('\"mediaType\" is required');\n        return this.getLocalTracks(e).length > 0;\n      }, O.prototype.getRemoteTracks = function (e, t) {\n        var n = [],\n            r = e ? [e] : this.remoteTracks.keys(),\n            i = !0,\n            o = !1,\n            a = void 0;\n\n        try {\n          for (var s, c = r[Symbol.iterator](); !(i = (s = c.next()).done); i = !0) {\n            var u = s.value,\n                d = this.remoteTracks.get(u);\n\n            if (d) {\n              var l = !0,\n                  p = !1,\n                  f = void 0;\n\n              try {\n                for (var h, m = d.keys()[Symbol.iterator](); !(l = (h = m.next()).done); l = !0) {\n                  var v = h.value;\n\n                  if (!t || t === v) {\n                    var g = d.get(v);\n                    g && n.push(g);\n                  }\n                }\n              } catch (e) {\n                p = !0, f = e;\n              } finally {\n                try {\n                  l || null == m.return || m.return();\n                } finally {\n                  if (p) throw f;\n                }\n              }\n            }\n          }\n        } catch (e) {\n          o = !0, a = e;\n        } finally {\n          try {\n            i || null == c.return || c.return();\n          } finally {\n            if (o) throw a;\n          }\n        }\n\n        return n;\n      }, O.prototype.getTrackBySSRC = function (e) {\n        if (\"number\" != typeof e) throw new Error(\"SSRC \".concat(e, \" is not a number\"));\n        var t = !0,\n            n = !1,\n            r = void 0;\n\n        try {\n          for (var i, o = this.localTracks.values()[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n            var a = i.value;\n            if (this.getLocalSSRC(a) === e) return a;\n          }\n        } catch (e) {\n          n = !0, r = e;\n        } finally {\n          try {\n            t || null == o.return || o.return();\n          } finally {\n            if (n) throw r;\n          }\n        }\n\n        var s = !0,\n            c = !1,\n            u = void 0;\n\n        try {\n          for (var d, l = this.getRemoteTracks()[Symbol.iterator](); !(s = (d = l.next()).done); s = !0) {\n            var p = d.value;\n            if (p.getSSRC() === e) return p;\n          }\n        } catch (e) {\n          c = !0, u = e;\n        } finally {\n          try {\n            s || null == l.return || l.return();\n          } finally {\n            if (c) throw u;\n          }\n        }\n\n        return null;\n      }, O.prototype.getSsrcByTrackId = function (e) {\n        var t = function t(_t5) {\n          return _t5.getTrack().id === e;\n        },\n            n = this.getLocalTracks().find(t);\n\n        if (n) return this.getLocalSSRC(n);\n        var r = this.getRemoteTracks().find(t);\n        return r ? r.getSSRC() : null;\n      }, O.prototype._remoteStreamAdded = function (e) {\n        var t = this,\n            n = l.a.getStreamID(e);\n\n        if (l.a.isUserStreamById(n)) {\n          (f.a.isChromiumBased() || f.a.isEdge()) && (e.onaddtrack = function (n) {\n            t._remoteTrackAdded(e, n.track);\n          }, e.onremovetrack = function (n) {\n            t._remoteTrackRemoved(e, n.track);\n          });\n          var r = e.getAudioTracks(),\n              i = !0,\n              o = !1,\n              a = void 0;\n\n          try {\n            for (var s, c = r[Symbol.iterator](); !(i = (s = c.next()).done); i = !0) {\n              var u = s.value;\n\n              this._remoteTrackAdded(e, u);\n            }\n          } catch (e) {\n            o = !0, a = e;\n          } finally {\n            try {\n              i || null == c.return || c.return();\n            } finally {\n              if (o) throw a;\n            }\n          }\n\n          var d = e.getVideoTracks(),\n              p = !0,\n              h = !1,\n              m = void 0;\n\n          try {\n            for (var v, g = d[Symbol.iterator](); !(p = (v = g.next()).done); p = !0) {\n              var y = v.value;\n\n              this._remoteTrackAdded(e, y);\n            }\n          } catch (e) {\n            h = !0, m = e;\n          } finally {\n            try {\n              p || null == g.return || g.return();\n            } finally {\n              if (h) throw m;\n            }\n          }\n        } else C.info(\"\".concat(this, \" ignored remote 'stream added' event for non-user stream\") + \"id: \".concat(n));\n      }, O.prototype._remoteTrackAdded = function (e, t) {\n        var n = l.a.getStreamID(e),\n            r = t.kind;\n\n        if (C.info(\"\".concat(this, \" remote track added:\"), n, r), r) {\n          var i = new g.a(this.remoteDescription.sdp).media.filter(function (e) {\n            return e.startsWith(\"m=\".concat(r));\n          });\n\n          if (i.length) {\n            var o = S.a.findLines(i[0], \"a=ssrc:\");\n\n            if ((o = o.filter(function (e) {\n              return -1 !== e.indexOf(\"msid:\".concat(n));\n            })).length) {\n              var s = o[0].substring(7).split(\" \")[0],\n                  c = Number(s),\n                  u = this.signalingLayer.getSSRCOwner(c);\n              if (isNaN(c) || c < 0) a.callErrorHandler(new Error(\"Invalid SSRC: \".concat(s, \" for remote track, msid: \").concat(n, \" media type: \").concat(r)));else if (u) {\n                C.log(\"\".concat(this, \" associated ssrc\"), u, c);\n                var d = this.signalingLayer.getPeerMediaInfo(u, r);\n\n                if (d) {\n                  var p = d.muted,\n                      f = d.videoType;\n\n                  this._createRemoteTrack(u, e, t, r, f, c, p);\n                } else a.callErrorHandler(new Error(\"\".concat(this, \": no peer media info available for \").concat(u)));\n              } else a.callErrorHandler(new Error(\"No SSRC owner known for: \".concat(c, \" for remote track, msid: \").concat(n, \" media type: \").concat(r)));\n            } else a.callErrorHandler(new Error(\"No SSRC lines for streamId \".concat(n, \" for remote track, media type: \").concat(r)));\n          } else a.callErrorHandler(new Error(\"No media lines for type \".concat(r, \" found in remote SDP for remote track: \").concat(n)));\n        } else a.callErrorHandler(new Error(\"MediaType undefined for remote track, stream id: \".concat(n)));\n      }, O.prototype._createRemoteTrack = function (e, t, n, r, i, o, a) {\n        var c = this.remoteTracks.get(e);\n        c || (c = new Map(), this.remoteTracks.set(e, c));\n        var u = c.get(r);\n        if (u && u.getTrack() === n) C.info(\"\".concat(this, \" ignored duplicated remote track added event for: \") + \"\".concat(e, \", \").concat(r));else {\n          u && C.error(\"\".concat(this, \" overwriting remote track for\") + \"\".concat(e, \" \").concat(r));\n          var d = new s.a(this.rtc, this.rtc.conference, e, t, n, r, i, o, a, this.isP2P);\n          c.set(r, d), this.eventEmitter.emit(m.a.REMOTE_TRACK_ADDED, d);\n        }\n      }, O.prototype._remoteStreamRemoved = function (e) {\n        if (l.a.isUserStream(e)) {\n          var t = e.getVideoTracks(),\n              n = !0,\n              r = !1,\n              i = void 0;\n\n          try {\n            for (var o, a = t[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n              var s = o.value;\n\n              this._remoteTrackRemoved(e, s);\n            }\n          } catch (e) {\n            r = !0, i = e;\n          } finally {\n            try {\n              n || null == a.return || a.return();\n            } finally {\n              if (r) throw i;\n            }\n          }\n\n          var c = e.getAudioTracks(),\n              u = !0,\n              d = !1,\n              p = void 0;\n\n          try {\n            for (var f, h = c[Symbol.iterator](); !(u = (f = h.next()).done); u = !0) {\n              var m = f.value;\n\n              this._remoteTrackRemoved(e, m);\n            }\n          } catch (e) {\n            d = !0, p = e;\n          } finally {\n            try {\n              u || null == h.return || h.return();\n            } finally {\n              if (d) throw p;\n            }\n          }\n        } else {\n          var v = l.a.getStreamID(e);\n          C.info(\"Ignored remote 'stream removed' event for non-user stream \".concat(v));\n        }\n      }, O.prototype._remoteTrackRemoved = function (e, t) {\n        var n = l.a.getStreamID(e),\n            r = t && l.a.getTrackID(t);\n        C.info(\"\".concat(this, \" - remote track removed: \").concat(n, \", \").concat(r)), n ? r ? this._removeRemoteTrackById(n, r) || C.warn(\"\".concat(this, \" Removed track not found for msid: \").concat(n, \",\\n             track id: \").concat(r)) : a.callErrorHandler(new Error(\"\".concat(this, \" remote track removal failed - no track ID\"))) : a.callErrorHandler(new Error(\"\".concat(this, \" remote track removal failed - no stream ID\")));\n      }, O.prototype._getRemoteTrackById = function (e, t) {\n        var n = !0,\n            r = !1,\n            i = void 0;\n\n        try {\n          for (var o, a = this.remoteTracks.values()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n            var s = o.value,\n                c = !0,\n                u = !1,\n                d = void 0;\n\n            try {\n              for (var l, p = s.values()[Symbol.iterator](); !(c = (l = p.next()).done); c = !0) {\n                var f = l.value;\n                if (f.getStreamId() == e && f.getTrackId() == t) return f;\n              }\n            } catch (e) {\n              u = !0, d = e;\n            } finally {\n              try {\n                c || null == p.return || p.return();\n              } finally {\n                if (u) throw d;\n              }\n            }\n          }\n        } catch (e) {\n          r = !0, i = e;\n        } finally {\n          try {\n            n || null == a.return || a.return();\n          } finally {\n            if (r) throw i;\n          }\n        }\n      }, O.prototype.removeRemoteTracks = function (e) {\n        var t = [],\n            n = this.remoteTracks.get(e);\n\n        if (n) {\n          var r = n.get(u.a),\n              i = n.get(u.c);\n          r && t.push(r), i && t.push(i), this.remoteTracks.delete(e);\n        }\n\n        return C.debug(\"\".concat(this, \" removed remote tracks for \").concat(e, \" count: \").concat(t.length)), t;\n      }, O.prototype._removeRemoteTrack = function (e) {\n        e.dispose();\n        var t = e.getParticipantId(),\n            n = this.remoteTracks.get(t);\n        n ? n.delete(e.getType()) || C.error(\"Failed to remove \".concat(e, \" - type mapping messed up ?\")) : C.error(\"removeRemoteTrack: no remote tracks map for \".concat(t)), this.eventEmitter.emit(m.a.REMOTE_TRACK_REMOVED, e);\n      }, O.prototype._removeRemoteTrackById = function (e, t) {\n        var n = this._getRemoteTrackById(e, t);\n\n        return n && this._removeRemoteTrack(n), n;\n      };\n\n      var P = function P(e) {\n        if (\"object\" !== T(e) || null === e || \"string\" != typeof e.sdp) return C.warn(\"An empty description was passed as an argument.\"), e;\n        var t = n(23),\n            r = t.parse(e.sdp);\n        void 0 !== r && void 0 !== r.media && Array.isArray(r.media) && r.media.forEach(function (e) {\n          var t = [],\n              n = [];\n\n          if (void 0 !== e.ssrcGroups && Array.isArray(e.ssrcGroups) && e.ssrcGroups.forEach(function (e) {\n            void 0 !== e.semantics && \"FID\" === e.semantics && void 0 !== e.ssrcs && t.push(Number(e.ssrcs.split(\" \")[0]));\n          }), Array.isArray(e.ssrcs)) {\n            var r;\n\n            for (r = 0; r < e.ssrcs.length; r++) {\n              \"object\" === T(e.ssrcs[r]) && void 0 !== e.ssrcs[r].id && t.indexOf(e.ssrcs[r].id) >= 0 && (n.push(e.ssrcs[r]), delete e.ssrcs[r]);\n            }\n\n            for (r = 0; r < e.ssrcs.length; r++) {\n              void 0 !== e.ssrcs[r] && n.push(e.ssrcs[r]);\n            }\n\n            e.ssrcs = function () {\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n              if (!f.a.isChrome() || !f.a.isVersionGreaterThan(70)) return e;\n              var t = E(e);\n              return e.filter(function (e) {\n                return e.attribute === \"mslabel\" && e.value === \"-\";\n              }).map(function (e) {\n                return e.id;\n              }).forEach(function (e) {\n                var n = t.find(function (t) {\n                  return t.id === e && \"cname\" === t.attribute;\n                });\n                n.value = \"recvonly-\".concat(e), (t = t.filter(function (t) {\n                  return t.id !== e;\n                })).push(n);\n              }), t;\n            }(n);\n          }\n        });\n        var i = t.write(r);\n        return new RTCSessionDescription({\n          type: e.type,\n          sdp: i\n        });\n      };\n\n      O.prototype.getLocalSSRC = function (e) {\n        var t = this._getSSRC(e.rtcId);\n\n        return t && t.ssrcs[0];\n      }, O.prototype._injectSsrcGroupForUnifiedSimulcast = function (e) {\n        var t = o.a.parse(e.sdp),\n            n = t.media.find(function (e) {\n          return \"video\" === e.type;\n        });\n\n        if (n.simulcast_03) {\n          var r = [];\n          if (n.ssrcs.forEach(function (e) {\n            \"msid\" === e.attribute && r.push(e.id);\n          }), n.ssrcGroups = n.ssrcGroups || [], n.ssrcGroups.find(function (e) {\n            return \"SIM\" === e.semantics;\n          })) return e;\n          n.ssrcGroups.push({\n            semantics: \"SIM\",\n            ssrcs: r.join(\" \")\n          });\n        }\n\n        return new RTCSessionDescription({\n          type: e.type,\n          sdp: o.a.write(t)\n        });\n      };\n      var I = {\n        signalingState: function signalingState() {\n          return this.peerconnection.signalingState;\n        },\n        iceConnectionState: function iceConnectionState() {\n          return this.peerconnection.iceConnectionState;\n        },\n        localDescription: function localDescription() {\n          var e = this.peerconnection.localDescription;\n          return e ? (this.trace(\"getLocalDescription::preTransform\", k(e)), f.a.usesUnifiedPlan() && (e = this.interop.toPlanB(e), this.trace(\"getLocalDescription::postTransform (Plan B)\", k(e)), e = this._injectSsrcGroupForUnifiedSimulcast(e), this.trace(\"getLocalDescription::postTransform (inject ssrc group)\", k(e))), f.a.doesVideoMuteByStreamRemove() && (e = this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e), C.debug(\"getLocalDescription::postTransform (munge local SDP)\", e)), e = function (e, t) {\n            if (!e) throw new Error(\"No local description passed in.\");\n            var n = new _.a(e.sdp),\n                r = n.selectMedia(\"audio\"),\n                i = !1;\n            r && \"sendrecv\" !== r.direction && (t.startSilent ? r.direction = \"inactive\" : r.direction = \"sendrecv\", i = !0);\n            var o = n.selectMedia(\"video\");\n            return o && \"sendrecv\" !== o.direction && (o.direction = \"sendrecv\", i = !0), i ? new RTCSessionDescription({\n              type: e.type,\n              sdp: n.toRawSDP()\n            }) : e;\n          }(e, this.options), e = this.localSdpMunger.transformStreamIdentifiers(e)) : (C.debug(\"getLocalDescription no localDescription found\"), {});\n        },\n        remoteDescription: function remoteDescription() {\n          var e = this.peerconnection.remoteDescription;\n          return this.trace(\"getRemoteDescription::preTransform\", k(e)), f.a.usesUnifiedPlan() && (e = this.interop.toPlanB(e), this.trace(\"getRemoteDescription::postTransform (Plan B)\", k(e))), e || {};\n        }\n      };\n      Object.keys(I).forEach(function (e) {\n        Object.defineProperty(O.prototype, e, {\n          get: I[e]\n        });\n      }), O.prototype._getSSRC = function (e) {\n        return this.localSSRCs.get(e);\n      }, O.prototype.addTrack = function (e) {\n        var t = e.rtcId;\n        if (C.info(\"add \".concat(e, \" to: \").concat(this)), this.localTracks.has(t)) C.error(\"\".concat(e, \" is already in \").concat(this));else {\n          this.localTracks.set(t, e);\n          var n = e.getOriginalStream();\n\n          if (n ? this._addStream(n) : (!f.a.doesVideoMuteByStreamRemove() || e.isAudioTrack() || e.isVideoTrack() && !e.isMuted()) && C.error(\"\".concat(this, \" no WebRTC stream for: \").concat(e)), f.a.doesVideoMuteByStreamRemove() && e.isVideoTrack() && e.isMuted()) {\n            var r = this.generateNewStreamSSRCInfo(e);\n            this.sdpConsistency.setPrimarySsrc(r.ssrcs[0]);\n            var i = r.groups.find(function (e) {\n              return \"SIM\" === e.semantics;\n            });\n            i && this.simulcast.setSsrcCache(i.ssrcs);\n            var o = r.groups.filter(function (e) {\n              return \"FID\" === e.semantics;\n            });\n\n            if (o) {\n              var a = new Map();\n              o.forEach(function (e) {\n                var t = e.ssrcs[0],\n                    n = e.ssrcs[1];\n                a.set(t, n);\n              }), this.rtxModifier.setSsrcCache(a);\n            }\n          }\n        }\n      }, O.prototype.addTrackUnmute = function (e) {\n        if (!this._assertTrackBelongs(\"addTrackUnmute\", e)) return !1;\n        C.info(\"Adding \".concat(e, \" as unmute to \").concat(this));\n        var t = e.getOriginalStream();\n        return t ? (this._addStream(t), !0) : (C.error(\"Unable to add \".concat(e, \" as unmute to \").concat(this, \" - no WebRTC stream\")), !1);\n      }, O.prototype._addStream = function (e) {\n        this.peerconnection.addStream(e), this._addedStreams.push(e);\n      }, O.prototype._removeStream = function (e) {\n        f.a.supportsRtpSender() ? this._handleSenderRemoveStream(e) : this.peerconnection.removeStream(e), this._addedStreams = this._addedStreams.filter(function (t) {\n          return t !== e;\n        });\n      }, O.prototype._assertTrackBelongs = function (e, t) {\n        var n = this.localTracks.has(t.rtcId);\n        return n || C.error(\"\".concat(e, \": \").concat(t, \" does not belong to \").concat(this)), n;\n      }, O.prototype.isMediaStreamInPc = function (e) {\n        return this._addedStreams.indexOf(e) > -1;\n      }, O.prototype.removeTrack = function (e) {\n        var t = e.getOriginalStream();\n        this.trace(\"removeStream\", e.rtcId, t ? t.id : void 0), this._assertTrackBelongs(\"removeStream\", e) && (this.localTracks.delete(e.rtcId), this.localSSRCs.delete(e.rtcId), t && (f.a.supportsRtpSender() ? this._handleSenderRemoveStream(t) : this.peerconnection.removeStream(t)));\n      }, O.prototype.findSenderByKind = function (e) {\n        return this.peerconnection.getSenders().find(function (t) {\n          return t.track && t.track.kind === e;\n        });\n      }, O.prototype.findSenderByStream = function (e) {\n        var t = e.getTracks()[0];\n        if (t) return this.peerconnection.getSenders().find(function (e) {\n          return e.track === t;\n        });\n        C.error(\"Cannot find sender: no tracks.\");\n      }, O.prototype.replaceTrack = function (e, t) {\n        var n = this;\n\n        if (f.a.supportsRtpSender() && e && t) {\n          var r = this.findSenderByStream(e.getOriginalStream()),\n              i = t.getOriginalStream();\n\n          if (r && i) {\n            var o = i.getTracks()[0];\n            if (o) return r.replaceTrack(o, i).then(function () {\n              var r = n.localSSRCs.get(e.rtcId);\n              return n.localTracks.delete(e.rtcId), n.localSSRCs.delete(e.rtcId), n._addedStreams = n._addedStreams.filter(function (e) {\n                return e !== i;\n              }), n.localTracks.set(t.rtcId, t), t.storedMSID = e.storedMSID, n._addedStreams.push(i), n.localSSRCs.set(t.rtcId, r), n.eventEmitter.emit(m.a.LOCAL_TRACK_SSRC_UPDATED, t, N(r)), !1;\n            });\n          }\n        }\n\n        return e && this.removeTrack(e), t && this.addTrack(t), Promise.resolve(!0);\n      }, O.prototype.replaceTrackWithoutOfferAnswer = function (e) {\n        var t = this,\n            n = e.stream.getTracks()[0],\n            r = this.findSenderByKind(n.kind);\n        return r ? r.replaceTrack(n).then(function () {\n          t._addedStreams = t._addedStreams.filter(function (t) {\n            return t !== e._originalStream;\n          }), t._addedStreams.push(e.stream), e.emit(c.TRACK_MUTE_CHANGED, e);\n        }).catch(function (e) {\n          C.error(\"replaceTrackWithoutOfferAnswer - replaceTrack failed for \".concat(n.kind), e);\n        }) : Promise.reject(new Error(\"Could not find RTCRtpSender for \".concat(n.kind)));\n      }, O.prototype.removeTrackMute = function (e) {\n        var t = e.getOriginalStream();\n        return this.trace(\"removeStreamMute\", e.rtcId, t ? t.id : null), !!this._assertTrackBelongs(\"removeStreamMute\", e) && (t ? (C.info(\"Removing \".concat(e, \" as mute from \").concat(this)), this._removeStream(t), !0) : (C.error(\"removeStreamMute - no WebRTC stream for \".concat(e)), !1));\n      }, O.prototype._handleSenderRemoveStream = function (e) {\n        if (e) {\n          var t = this.findSenderByStream(e);\n          t ? this.peerconnection.removeTrack(t) : C.log(\"Cannot remove tracks: no RTPSender.\");\n        }\n      }, O.prototype.createDataChannel = function (e, t) {\n        return this.trace(\"createDataChannel\", e, t), this.peerconnection.createDataChannel(e, t);\n      }, O.prototype._ensureSimulcastGroupIsLast = function (e) {\n        var t = e.sdp,\n            n = t.indexOf(\"m=video\"),\n            r = t.indexOf(\"a=ssrc-group:SIM\", n),\n            i = t.lastIndexOf(\"a=ssrc-group\");\n        if (-1 === r || -1 === i || i === r) return e;\n        var o = t.indexOf(\"\\r\\n\", r),\n            a = t.substring(r, o + 2);\n        i = (t = t.replace(a, \"\")).lastIndexOf(\"a=ssrc-group\");\n        var s = t.indexOf(\"\\r\\n\", i),\n            c = t.slice(0, s),\n            u = a.trim(),\n            d = t.slice(s);\n        return t = \"\".concat(c, \"\\r\\n\").concat(u).concat(d), new RTCSessionDescription({\n          type: e.type,\n          sdp: t\n        });\n      }, O.prototype._adjustLocalMediaDirection = function (e) {\n        var t = new _.a(e.sdp),\n            n = !1,\n            r = t.selectMedia(\"audio\");\n\n        if (r) {\n          var i = this._getDesiredMediaDirection(u.a);\n\n          r.direction !== i && (r.direction = i, C.info(\"Adjusted local audio direction to \".concat(i)), n = !0);\n        } else C.warn('No \"audio\" media found int the local description');\n\n        var o = t.selectMedia(\"video\");\n\n        if (o) {\n          var a = this._getDesiredMediaDirection(u.c);\n\n          o.direction !== a && (o.direction = a, C.info(\"Adjusted local video direction to \".concat(a)), n = !0);\n        } else C.warn('No \"video\" media found in the local description');\n\n        return n ? new RTCSessionDescription({\n          type: e.type,\n          sdp: t.toRawSDP()\n        }) : e;\n      }, O.prototype.setLocalDescription = function (e) {\n        var t = this,\n            n = e;\n\n        if (this.trace(\"setLocalDescription::preTransform\", k(n)), this.options.disableH264 || this.options.preferH264) {\n          var r = o.a.parse(n.sdp),\n              i = r.media.find(function (e) {\n            return \"video\" === e.type;\n          });\n          this.options.disableH264 ? S.a.stripVideoCodec(i, \"h264\") : S.a.preferVideoCodec(i, \"h264\"), n = new RTCSessionDescription({\n            type: n.type,\n            sdp: o.a.write(r)\n          }), this.trace(\"setLocalDescription::postTransform (H264)\", k(n));\n        }\n\n        return n = this._adjustLocalMediaDirection(n), n = this._ensureSimulcastGroupIsLast(n), f.a.usesUnifiedPlan() && (n = this.interop.toUnifiedPlan(n), this.trace(\"setLocalDescription::postTransform (Unified Plan)\", k(n))), new Promise(function (e, r) {\n          t.peerconnection.setLocalDescription(n).then(function () {\n            t.trace(\"setLocalDescriptionOnSuccess\");\n            var r = S.a.getUfrag(n.sdp);\n            r !== t.localUfrag && (t.localUfrag = r, t.eventEmitter.emit(m.a.LOCAL_UFRAG_CHANGED, t, r)), e();\n          }, function (e) {\n            t.trace(\"setLocalDescriptionOnFailure\", e), t.eventEmitter.emit(m.a.SET_LOCAL_DESCRIPTION_FAILED, e, t), r(e);\n          });\n        });\n      }, O.prototype.setAudioTransferActive = function (e) {\n        C.debug(\"\".concat(this, \" audio transfer active: \").concat(e));\n        var t = this.audioTransferActive !== e;\n        return this.audioTransferActive = e, t;\n      }, O.prototype._insertUnifiedPlanSimulcastReceive = function (e) {\n        var t = o.a.parse(e.sdp),\n            n = t.media.find(function (e) {\n          return \"video\" === e.type;\n        });\n        return n.rids = [{\n          id: \"1\",\n          direction: \"recv\"\n        }, {\n          id: \"2\",\n          direction: \"recv\"\n        }, {\n          id: \"3\",\n          direction: \"recv\"\n        }], n.simulcast_03 = {\n          value: \"recv rid=\".concat(R.join(\";\"))\n        }, new RTCSessionDescription({\n          type: e.type,\n          sdp: o.a.write(t)\n        });\n      }, O.prototype.setMaxBitRate = function (e) {\n        var t = e.type;\n        if (this.options.capScreenshareBitrate && t !== u.a) if (this.peerconnection.getSenders) {\n          var n = e.videoType,\n              r = e.track.id;\n          this.peerconnection.getSenders().filter(function (e) {\n            return e.track && e.track.id === r;\n          }).forEach(function (e) {\n            try {\n              var t = e.getParameters();\n\n              if (t.encodings && t.encodings.length) {\n                for (var r in C.info(\"Setting max bitrate on video stream\"), t.encodings) {\n                  t.encodings.hasOwnProperty(r) && (t.encodings[r].maxBitrate = \"desktop\" === n ? 5e5 : w[r]);\n                }\n\n                e.setParameters(t);\n              }\n            } catch (e) {\n              C.error(\"Browser does not support getParameters/setParamters or setting max bitrate on the encodings: \", e);\n            }\n          });\n        } else C.debug(\"Browser doesn't support RTCRtpSender\");\n      }, O.prototype.setRemoteDescription = function (e) {\n        var t = this;\n\n        if (this.trace(\"setRemoteDescription::preTransform\", k(e)), e = this.simulcast.mungeRemoteDescription(e), this.trace(\"setRemoteDescription::postTransform (simulcast)\", k(e)), this.options.preferH264) {\n          var n = o.a.parse(e.sdp),\n              r = n.media.find(function (e) {\n            return \"video\" === e.type;\n          });\n          S.a.preferVideoCodec(r, \"h264\"), e = new RTCSessionDescription({\n            type: e.type,\n            sdp: o.a.write(n)\n          });\n        }\n\n        return f.a.usesUnifiedPlan() ? (e = new RTCSessionDescription({\n          type: e.type,\n          sdp: this.rtxModifier.stripRtx(e.sdp)\n        }), this.trace(\"setRemoteDescription::postTransform (stripRtx)\", k(e)), e = this.interop.toUnifiedPlan(e), this.trace(\"setRemoteDescription::postTransform (Plan A)\", k(e)), this.isSimulcastOn() && (e = this._insertUnifiedPlanSimulcastReceive(e), this.trace(\"setRemoteDescription::postTransform (sim receive)\", k(e)))) : e = P(e), f.a.isSafariWithWebrtc() && !f.a.isSafariWithVP8() && (C.debug(\"Maybe injecting H264 into the remote description\"), e = this._injectH264IfNotPresent(e)), new Promise(function (n, r) {\n          t.peerconnection.setRemoteDescription(e).then(function () {\n            t.trace(\"setRemoteDescriptionOnSuccess\");\n            var r = S.a.getUfrag(e.sdp);\n            r !== t.remoteUfrag && (t.remoteUfrag = r, t.eventEmitter.emit(m.a.REMOTE_UFRAG_CHANGED, t, r)), n();\n          }, function (e) {\n            t.trace(\"setRemoteDescriptionOnFailure\", e), t.eventEmitter.emit(m.a.SET_REMOTE_DESCRIPTION_FAILED, e, t), r(e);\n          });\n        });\n      }, O.prototype._injectH264IfNotPresent = function (e) {\n        var t = o.a.parse(e.sdp),\n            n = t.media.find(function (e) {\n          return \"video\" === e.type;\n        });\n        if (!n) return C.debug(\"No videoMLine found, no need to inject H264.\"), e;\n        if (n.rtp.some(function (e) {\n          return \"h264\" === e.codec.toLowerCase();\n        })) return C.debug(\"H264 codec found in video mLine, no need to inject.\"), e;\n\n        for (var r, i = n.fmtp, a = n.payloads, s = n.rtp, c = a.toString().split(\" \"), u = 127; u >= 96; u--) {\n          if (!c.includes(u)) {\n            r = u, c.push(u), n.payloads = c.join(\" \");\n            break;\n          }\n        }\n\n        return void 0 === r ? (C.error(\"Could not find valid payload type to inject.\"), e) : (s.push({\n          codec: \"H264\",\n          payload: r,\n          rate: 9e4\n        }), i.push({\n          config: \"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\",\n          payload: r\n        }), C.debug(\"Injecting H264 payload type \".concat(r, \" into video mLine.\")), new RTCSessionDescription({\n          type: e.type,\n          sdp: o.a.write(t)\n        }));\n      }, O.prototype.setVideoTransferActive = function (e) {\n        C.debug(\"\".concat(this, \" video transfer active: \").concat(e));\n        var t = this.videoTransferActive !== e;\n        return this.videoTransferActive = e, t;\n      }, O.prototype.sendTones = function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 200,\n            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 200;\n\n        if (!this._dtmfSender) {\n          if (this.peerconnection.getSenders) {\n            var r = this.peerconnection.getSenders().find(function (e) {\n              return e.dtmf;\n            });\n            this._dtmfSender = r && r.dtmf, this._dtmfSender && C.info(\"\".concat(this, \" initialized DTMFSender using getSenders\"));\n          }\n\n          if (!this._dtmfSender) {\n            var i = Array.from(this.localTracks.values()).find(function (e) {\n              return e.isAudioTrack();\n            });\n            this.peerconnection.createDTMFSender && i && (this._dtmfSender = this.peerconnection.createDTMFSender(i.getTrack())), this._dtmfSender && C.info(\"\".concat(this, \" initialized DTMFSender using deprecated createDTMFSender\"));\n          }\n\n          this._dtmfSender && (this._dtmfSender.ontonechange = this._onToneChange.bind(this));\n        }\n\n        if (this._dtmfSender) {\n          if (this._dtmfSender.toneBuffer) return void this._dtmfTonesQueue.push({\n            tones: e,\n            duration: t,\n            interToneGap: n\n          });\n\n          this._dtmfSender.insertDTMF(e, t, n);\n        } else C.warn(\"\".concat(this, \" sendTones - failed to select DTMFSender\"));\n      }, O.prototype._onToneChange = function (e) {\n        if (this._dtmfSender && \"\" === e.tone && this._dtmfTonesQueue.length) {\n          var t = this._dtmfTonesQueue.shift(),\n              n = t.tones,\n              r = t.duration,\n              i = t.interToneGap;\n\n          this._dtmfSender.insertDTMF(n, r, i);\n        }\n      }, O.prototype.generateRecvonlySsrc = function () {\n        var e = S.a.generateSsrc();\n        C.info(\"\".concat(this, \" generated new recvonly SSRC: \").concat(e)), this.sdpConsistency.setPrimarySsrc(e);\n      }, O.prototype.clearRecvonlySsrc = function () {\n        C.info(\"Clearing primary video SSRC!\"), this.sdpConsistency.clearVideoSsrcCache();\n      }, O.prototype.close = function () {\n        this.trace(\"stop\"), this.signalingLayer.off(b.a, this._peerMutedChanged), this.signalingLayer.off(b.b, this._peerVideoTypeChanged);\n        var e = !0,\n            t = !1,\n            n = void 0;\n\n        try {\n          for (var r, i = this.remoteTracks.values()[Symbol.iterator](); !(e = (r = i.next()).done); e = !0) {\n            var o = r.value,\n                a = !0,\n                s = !1,\n                c = void 0;\n\n            try {\n              for (var u, d = o.values()[Symbol.iterator](); !(a = (u = d.next()).done); a = !0) {\n                var l = u.value;\n\n                this._removeRemoteTrack(l);\n              }\n            } catch (e) {\n              s = !0, c = e;\n            } finally {\n              try {\n                a || null == d.return || d.return();\n              } finally {\n                if (s) throw c;\n              }\n            }\n          }\n        } catch (e) {\n          t = !0, n = e;\n        } finally {\n          try {\n            e || null == i.return || i.return();\n          } finally {\n            if (t) throw n;\n          }\n        }\n\n        this.remoteTracks.clear(), this._addedStreams = [], this._dtmfSender = null, this._dtmfTonesQueue = [], this.rtc._removePeerConnection(this) || C.error(\"RTC._removePeerConnection returned false\"), null !== this.statsinterval && (window.clearInterval(this.statsinterval), this.statsinterval = null), C.info(\"Closing \".concat(this, \"...\")), this.peerconnection.close();\n      };\n\n      function D(e) {\n        return e.getLocalTracks().some(function (e) {\n          return \"camera\" === e.videoType;\n        });\n      }\n\n      function N(e) {\n        return e && e.groups && e.groups.length ? e.groups[0].ssrcs[0] : e && e.ssrcs && e.ssrcs.length ? e.ssrcs[0] : null;\n      }\n\n      O.prototype.createAnswer = function (e) {\n        if (f.a.isFirefox() && this.isSimulcastOn()) {\n          var t = {\n            encodings: [{\n              rid: \"1\",\n              scaleResolutionDownBy: 4\n            }, {\n              rid: \"2\",\n              scaleResolutionDownBy: 2\n            }, {\n              rid: \"3\"\n            }]\n          };\n          this.peerconnection.getSenders().find(function (e) {\n            return null !== e.track && \"video\" === e.track.kind;\n          }).setParameters(t);\n        }\n\n        return this._createOfferOrAnswer(!1, e);\n      }, O.prototype.createOffer = function (e) {\n        return this._createOfferOrAnswer(!0, e);\n      }, O.prototype._createOfferOrAnswer = function (e, t) {\n        var n = this,\n            r = e ? \"Offer\" : \"Answer\";\n        this.trace(\"create\".concat(r), JSON.stringify(t, null, \" \"));\n\n        var i = function i(t, _i6, a) {\n          try {\n            if (n.trace(\"create\".concat(r, \"OnSuccess::preTransform\"), k(t)), f.a.usesUnifiedPlan() && (t = n.interop.toPlanB(t), n.trace(\"create\".concat(r, \"OnSuccess::postTransform (Plan B)\"), k(t)), n.isSimulcastOn() && (t = n._injectSsrcGroupForUnifiedSimulcast(t), n.trace(\"create\".concat(r, \"OnSuccess::postTransform\") + \"(inject ssrc group)\", k(t)))), f.a.usesUnifiedPlan() || (n.hasAnyTracksOfType(u.c) || n.sdpConsistency.hasPrimarySsrcCached() || n.generateRecvonlySsrc(), t = new RTCSessionDescription({\n              type: t.type,\n              sdp: n.sdpConsistency.makeVideoPrimarySsrcsConsistent(t.sdp)\n            }), n.trace(\"create\".concat(r, \"OnSuccess::postTransform \") + \"(make primary audio/video ssrcs consistent)\", k(t))), n.isSimulcastOn() && (!n.options.capScreenshareBitrate || n.options.capScreenshareBitrate && D(n)) && (t = n.simulcast.mungeLocalDescription(t), n.trace(\"create\".concat(r) + \"OnSuccess::postTransform (simulcast)\", k(t))), !n.options.disableRtx && f.a.supportsRtx() && (t = new RTCSessionDescription({\n              type: t.type,\n              sdp: n.rtxModifier.modifyRtxSsrcs(t.sdp)\n            }), n.trace(\"create\".concat(r) + \"OnSuccess::postTransform (rtx modifier)\", k(t))), !e) {\n              var s = new g.a(n.remoteDescription.sdp),\n                  c = new g.a(t.sdp);\n              l = s, p = c, (f.a.isChromiumBased() || f.a.isReactNative()) && l && p && l.media && p.media && l.media.length === p.media.length && (p.media.forEach(function (e, t) {\n                S.a.findLine(l.media[t], \"a=setup:actpass\", l.session) && (p.media[t] = e.replace(/a=setup:active/g, \"a=setup:passive\"));\n              }), p.raw = p.session + p.media.join(\"\")), t = new RTCSessionDescription({\n                type: t.type,\n                sdp: c.raw\n              });\n            }\n\n            var d = function (e) {\n              var t = new Map(),\n                  n = new Map();\n              if (\"object\" !== T(e) || null === e || \"string\" != typeof e.sdp) return C.warn(\"An empty description was passed as an argument.\"), t;\n              var r = o.a.parse(e.sdp);\n              if (!Array.isArray(r.media)) return t;\n              var i = !0,\n                  a = !1,\n                  s = void 0;\n\n              try {\n                for (var c, u = r.media[Symbol.iterator](); !(i = (c = u.next()).done); i = !0) {\n                  var d = c.value;\n\n                  if (Array.isArray(d.ssrcs)) {\n                    if (Array.isArray(d.ssrcGroups)) {\n                      var l = !0,\n                          p = !1,\n                          f = void 0;\n\n                      try {\n                        for (var h, m = d.ssrcGroups[Symbol.iterator](); !(l = (h = m.next()).done); l = !0) {\n                          var v = h.value;\n\n                          if (void 0 !== v.semantics && void 0 !== v.ssrcs) {\n                            var g = v.ssrcs.split(\" \").map(function (e) {\n                              return parseInt(e, 10);\n                            }),\n                                y = g[0];\n                            v.ssrcs = g, n.has(y) || n.set(y, []), n.get(y).push(v);\n                          }\n                        }\n                      } catch (e) {\n                        p = !0, f = e;\n                      } finally {\n                        try {\n                          l || null == m.return || m.return();\n                        } finally {\n                          if (p) throw f;\n                        }\n                      }\n                    }\n\n                    var _ = !0,\n                        S = !1,\n                        b = void 0;\n\n                    try {\n                      for (var E, A = d.ssrcs[Symbol.iterator](); !(_ = (E = A.next()).done); _ = !0) {\n                        var R = E.value;\n\n                        if (\"msid\" === R.attribute) {\n                          var w = R.value,\n                              O = t.get(w);\n                          O || (O = {\n                            ssrcs: [],\n                            groups: [],\n                            msid: w\n                          }, t.set(w, O));\n                          var k = R.id;\n\n                          if (O.ssrcs.push(k), n.has(k)) {\n                            var P = n.get(k),\n                                I = !0,\n                                D = !1,\n                                N = void 0;\n\n                            try {\n                              for (var M, L = P[Symbol.iterator](); !(I = (M = L.next()).done); I = !0) {\n                                var x = M.value;\n                                O.groups.push(x);\n                              }\n                            } catch (e) {\n                              D = !0, N = e;\n                            } finally {\n                              try {\n                                I || null == L.return || L.return();\n                              } finally {\n                                if (D) throw N;\n                              }\n                            }\n                          }\n                        }\n                      }\n                    } catch (e) {\n                      S = !0, b = e;\n                    } finally {\n                      try {\n                        _ || null == A.return || A.return();\n                      } finally {\n                        if (S) throw b;\n                      }\n                    }\n                  }\n                }\n              } catch (e) {\n                a = !0, s = e;\n              } finally {\n                try {\n                  i || null == u.return || u.return();\n                } finally {\n                  if (a) throw s;\n                }\n              }\n\n              return t;\n            }(t);\n\n            C.debug(\"Got local SSRCs MAP: \", d), n._processLocalSSRCsMap(d), _i6(t);\n          } catch (e) {\n            n.trace(\"create\".concat(r, \"OnError\"), e), n.trace(\"create\".concat(r, \"OnError\"), k(t)), C.error(\"create\".concat(r, \"OnError\"), e, k(t)), a(e);\n          }\n\n          var l, p;\n        };\n\n        return new Promise(function (o, a) {\n          (e ? n.peerconnection.createOffer(t) : n.peerconnection.createAnswer(t)).then(function (e) {\n            return i(e, o, a);\n          }, function (t) {\n            return function (t, i) {\n              n.trace(\"create\".concat(r, \"OnFailure\"), t);\n              var o = e ? m.a.CREATE_OFFER_FAILED : m.a.CREATE_ANSWER_FAILED;\n              n.eventEmitter.emit(o, t, n), i(t);\n            }(t, a);\n          });\n        });\n      }, O.prototype._processLocalSSRCsMap = function (e) {\n        var t = !0,\n            n = !1,\n            r = void 0;\n\n        try {\n          for (var i, o = this.localTracks.values()[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n            var a = i.value,\n                s = a.storedMSID;\n\n            if (e.has(s)) {\n              var c = e.get(s);\n              if (!c) return void C.error(\"No SSRC found for: \".concat(s, \" in \").concat(this));\n              var u = this.localSSRCs.get(a.rtcId),\n                  d = N(c),\n                  l = N(u);\n              d !== l ? (null === l ? C.info(\"Storing new local SSRC for \".concat(a, \" in \").concat(this), c) : C.error(\"Overwriting SSRC for \".concat(a, \" \").concat(s, \" in \").concat(this, \" with: \"), c), this.localSSRCs.set(a.rtcId, c), this.eventEmitter.emit(m.a.LOCAL_TRACK_SSRC_UPDATED, a, d)) : C.debug(\"The local SSRC(\".concat(d, \") for \").concat(a, \" \").concat(s) + \"is still up to date in \".concat(this));\n            } else a.isVideoTrack() || a.isMuted() || C.warn(\"No SSRCs found in the local SDP for \".concat(a, \" MSID: \").concat(s, \" in \").concat(this));\n          }\n        } catch (e) {\n          n = !0, r = e;\n        } finally {\n          try {\n            t || null == o.return || o.return();\n          } finally {\n            if (n) throw r;\n          }\n        }\n      }, O.prototype.addIceCandidate = function (e) {\n        return this.trace(\"addIceCandidate\", JSON.stringify({\n          candidate: e.candidate,\n          sdpMid: e.sdpMid,\n          sdpMLineIndex: e.sdpMLineIndex,\n          usernameFragment: e.usernameFragment\n        }, null, \" \")), this.peerconnection.addIceCandidate(e);\n      }, O.prototype.getStats = function (e, t) {\n        f.a.isSafariWithWebrtc() || f.a.isFirefox() || f.a.isReactNative() ? this.peerconnection.getStats().then(e).catch(t || function () {}) : this.peerconnection.getStats(e);\n      }, O.prototype.generateNewStreamSSRCInfo = function (e) {\n        var t = e.rtcId,\n            n = this._getSSRC(t);\n\n        if (n && C.error(\"Will overwrite local SSRCs for track ID: \".concat(t)), this.isSimulcastOn() && (!this.options.capScreenshareBitrate || this.options.capScreenshareBitrate && D(this))) {\n          n = {\n            ssrcs: [],\n            groups: []\n          };\n\n          for (var r = 0; r < A; r++) {\n            n.ssrcs.push(S.a.generateSsrc());\n          }\n\n          n.groups.push({\n            ssrcs: n.ssrcs.slice(),\n            semantics: \"SIM\"\n          });\n        } else n = {\n          ssrcs: [S.a.generateSsrc()],\n          groups: []\n        };\n\n        if (!this.options.disableRtx && f.a.supportsRtx()) for (var i = n.ssrcs.length, o = 0; o < i; ++o) {\n          var a = n.ssrcs[o],\n              s = S.a.generateSsrc();\n          n.ssrcs.push(s), n.groups.push({\n            ssrcs: [a, s],\n            semantics: \"FID\"\n          });\n        }\n        return n.msid = e.storedMSID, this.localSSRCs.set(t, n), n;\n      };\n      O.prototype.setIsSelected = function (e) {\n        this.options.enableLayerSuspension && (C.debug(\"Layer suspension enabled,\" + \"currently selected? \".concat(e)), function (e, t) {\n          if (e.getSenders) {\n            var n = e.getSenders().find(function (e) {\n              return \"video\" === e.track.kind;\n            });\n            if (n) {\n              if (n.getParameters) {\n                var r = n.getParameters();\n                t ? (C.debug(\"Currently selected, enabling all sim layers\"), r.encodings.forEach(function (e) {\n                  e.active = !0;\n                })) : (C.debug(\"Not currently selected, disabling upper layers\"), [1, 2].forEach(function (e) {\n                  r.encodings[e] && (r.encodings[e].active = !1);\n                })), n.setParameters(r);\n              } else C.debug(\"Browser doesn't support RTPSender parameters\");\n            } else C.warn(\"handleLayerSuspension unable to find video sender\");\n          } else C.debug(\"Browser doesn't support RTPSender\");\n        }(this.peerconnection, e));\n      }, O.prototype.toString = function () {\n        return \"TPC[\".concat(this.id, \",p2p:\").concat(this.isP2P, \"]\");\n      };\n    }).call(this, \"modules/RTC/TraceablePeerConnection.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(6),\n          i = n(51),\n          o = n(15),\n          a = n(5);\n\n      function s(e) {\n        return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function u(e) {\n        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function d(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function l(e, t) {\n        return (l = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var p = n(4).getLogger(e),\n          f = n(8),\n          h = !1,\n          m = !1,\n          v = [\"abort\", \"canplay\", \"canplaythrough\", \"emptied\", \"ended\", \"error\", \"loadeddata\", \"loadedmetadata\", \"loadstart\", \"pause\", \"play\", \"playing\", \"ratechange\", \"stalled\", \"suspend\", \"waiting\"],\n          g = function (e) {\n        function t(e, n, r, i, o, a, c, l, f, h) {\n          var m;\n          if (function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (m = function (e, t) {\n            return !t || \"object\" !== s(t) && \"function\" != typeof t ? d(e) : t;\n          }(this, u(t).call(this, n, i, o, function () {}, a, c))).rtc = e, \"number\" != typeof l) throw new TypeError(\"SSRC \".concat(l, \" is not a number\"));\n          return m.ssrc = l, m.ownerEndpointId = r, m.muted = f, m.isP2P = h, p.debug(\"New remote track added: \".concat(d(m))), m.hasBeenMuted = f, m.rtc && m.track && m._bindTrackHandlers(), m._containerHandlers = {}, v.forEach(function (e) {\n            m._containerHandlers[e] = m._containerEventHandler.bind(d(m), e);\n          }), m;\n        }\n\n        var n, i, g;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && l(e, t);\n        }(t, e), n = t, (i = [{\n          key: \"_bindTrackHandlers\",\n          value: function value() {\n            var e = this;\n            this.track.addEventListener(\"mute\", function () {\n              return e._onTrackMute();\n            }), this.track.addEventListener(\"unmute\", function () {\n              return e._onTrackUnmute();\n            }), this.track.addEventListener(\"ended\", function () {\n              p.debug('\"onended\" event('.concat(Date.now(), \"): \").concat(e));\n            });\n          }\n        }, {\n          key: \"_onTrackMute\",\n          value: function value() {\n            p.debug('\"onmute\" event('.concat(Date.now(), \"): \").concat(this)), this.rtc.eventEmitter.emit(f.REMOTE_TRACK_MUTE, this);\n          }\n        }, {\n          key: \"_onTrackUnmute\",\n          value: function value() {\n            p.debug('\"onunmute\" event('.concat(Date.now(), \"): \").concat(this)), this.rtc.eventEmitter.emit(f.REMOTE_TRACK_UNMUTE, this);\n          }\n        }, {\n          key: \"setMute\",\n          value: function value(e) {\n            this.muted !== e && (e && (this.hasBeenMuted = !0), this.stream && (this.stream.muted = e), this.muted = e, this.emit(o.TRACK_MUTE_CHANGED, this));\n          }\n        }, {\n          key: \"isMuted\",\n          value: function value() {\n            return this.muted;\n          }\n        }, {\n          key: \"getParticipantId\",\n          value: function value() {\n            return this.ownerEndpointId;\n          }\n        }, {\n          key: \"isLocal\",\n          value: function value() {\n            return !1;\n          }\n        }, {\n          key: \"getSSRC\",\n          value: function value() {\n            return this.ssrc;\n          }\n        }, {\n          key: \"_setVideoType\",\n          value: function value(e) {\n            this.videoType !== e && (this.videoType = e, this.emit(o.TRACK_VIDEOTYPE_CHANGED, e));\n          }\n        }, {\n          key: \"_playCallback\",\n          value: function value() {\n            var e = this.isVideoTrack() ? \"video\" : \"audio\",\n                t = window.performance.now();\n            console.log(\"\".concat(e, \":\\t\"), t), this.conference.getConnectionTimes()[\"\".concat(e, \".render\")] = t;\n            var n = window.connectionTimes[\"obtainPermissions.start\"],\n                i = window.connectionTimes[\"obtainPermissions.end\"],\n                o = isNaN(i) || isNaN(n) ? 0 : i - n,\n                s = t - (this.conference.getConnectionTimes()[\"session.initiate\"] - this.conference.getConnectionTimes()[\"muc.joined\"]) - o;\n            this.conference.getConnectionTimes()[\"\".concat(e, \".ttfm\")] = s, console.log(\"\".concat(e, \":\\t\"), s), a.a.sendAnalytics(Object(r.N)({\n              media_type: e,\n              muted: this.hasBeenMuted,\n              value: s\n            }));\n          }\n        }, {\n          key: \"_attachTTFMTracker\",\n          value: function value(e) {\n            h && this.isAudioTrack() || m && this.isVideoTrack() || (this.isAudioTrack() && (h = !0), this.isVideoTrack() && (m = !0), e.addEventListener(\"canplay\", this._playCallback.bind(this)));\n          }\n        }, {\n          key: \"_onTrackAttach\",\n          value: function value(e) {\n            var t = this;\n            p.debug(\"Track has been attached to a container: \".concat(this)), v.forEach(function (n) {\n              e.addEventListener(n, t._containerHandlers[n]);\n            });\n          }\n        }, {\n          key: \"_onTrackDetach\",\n          value: function value(e) {\n            var t = this;\n            p.debug(\"Track has been detached from a container: \".concat(this)), v.forEach(function (n) {\n              e.removeEventListener(n, t._containerHandlers[n]);\n            });\n          }\n        }, {\n          key: \"_containerEventHandler\",\n          value: function value(e) {\n            p.debug(\"\".concat(e, \" handler was called for a container with attached \").concat(this));\n          }\n        }, {\n          key: \"_getStatus\",\n          value: function value() {\n            var e = this.track,\n                t = e.enabled,\n                n = e.muted,\n                r = e.readyState;\n            return \"readyState: \".concat(r, \", muted: \").concat(n, \", enabled: \").concat(t);\n          }\n        }, {\n          key: \"toString\",\n          value: function value() {\n            return \"RemoteTrack[userID: \".concat(this.getParticipantId(), \", type: \").concat(this.getType(), \", ssrc: \").concat(this.getSSRC(), \", p2p: \").concat(this.isP2P, \", status: \").concat(this._getStatus(), \"]\");\n          }\n        }]) && c(n.prototype, i), g && c(n, g), t;\n      }(i.a);\n    }).call(this, \"modules/RTC/JitsiRemoteTrack.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return c;\n      });\n      var r = n(4),\n          i = n(9),\n          o = n(27);\n\n      function a(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var s = Object(r.getLogger)(e),\n          c = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.tpc = t;\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"_addMutedLocalVideoTracksToSDP\",\n          value: function value(e) {\n            var t = this.tpc.getLocalTracks(i.c);\n            if (!t.length) return !1;\n            1 !== t.length && s.error(\"\".concat(this.tpc, \" there is more than 1 video track ! \") + \"Strange things may happen !\", t);\n            var n = e.selectMedia(\"video\");\n            if (!n) return s.debug(\"\".concat(this.tpc, \" unable to hack local video track SDP\") + '- no \"video\" media'), !1;\n            var r = !1,\n                o = !0,\n                a = !1,\n                c = void 0;\n\n            try {\n              for (var u, d = t[Symbol.iterator](); !(o = (u = d.next()).done); o = !0) {\n                var l = u.value,\n                    p = l.isMuted(),\n                    f = l.getOriginalStream(),\n                    h = f && this.tpc.isMediaStreamInPc(f),\n                    m = p || !h;\n\n                if (s.debug(\"\".concat(this.tpc, \" \").concat(l, \" muted: \").concat(p, \", is in PeerConnection: \").concat(h, \" => should fake sdp ? : \").concat(m)), m) {\n                  var v = this.tpc.isSimulcastOn() ? this.tpc.simulcast.ssrcCache : [this.tpc.sdpConsistency.cachedPrimarySsrc];\n\n                  if (v.length) {\n                    r = !0, n.direction = \"sendrecv\";\n\n                    var g = v[0],\n                        y = \"injected-\".concat(g),\n                        _ = !0,\n                        S = !1,\n                        b = void 0;\n\n                    try {\n                      for (var E, T = v[Symbol.iterator](); !(_ = (E = T.next()).done); _ = !0) {\n                        var C = E.value;\n                        n.removeSSRC(C), s.debug(\"\".concat(this.tpc, \" injecting video SSRC: \").concat(C, \" for \").concat(l)), n.addSSRCAttribute({\n                          id: C,\n                          attribute: \"cname\",\n                          value: y\n                        }), n.addSSRCAttribute({\n                          id: C,\n                          attribute: \"msid\",\n                          value: l.storedMSID\n                        });\n                      }\n                    } catch (e) {\n                      S = !0, b = e;\n                    } finally {\n                      try {\n                        _ || null == T.return || T.return();\n                      } finally {\n                        if (S) throw b;\n                      }\n                    }\n\n                    if (v.length > 1) {\n                      var A = {\n                        ssrcs: v.join(\" \"),\n                        semantics: \"SIM\"\n                      };\n                      n.findGroup(A.semantics, A.ssrcs) || (s.debug(\"\".concat(this.tpc, \" injecting SIM group for \").concat(l), A), n.addSSRCGroup(A));\n                    }\n\n                    this.tpc.options.disableRtx || this.tpc.rtxModifier.modifyRtxSsrcs2(n);\n                  } else s.error(\"No SSRCs stored for: \".concat(l, \" in \").concat(this.tpc));\n                }\n              }\n            } catch (e) {\n              a = !0, c = e;\n            } finally {\n              try {\n                o || null == d.return || d.return();\n              } finally {\n                if (a) throw c;\n              }\n            }\n\n            return r;\n          }\n        }, {\n          key: \"_transformMediaIdentifiers\",\n          value: function value(e) {\n            var t = this.tpc.id,\n                n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var o, a = e.ssrcs[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                var c = o.value;\n\n                switch (c.attribute) {\n                  case \"cname\":\n                  case \"label\":\n                  case \"mslabel\":\n                    c.value = c.value && \"\".concat(c.value, \"-\").concat(t);\n                    break;\n\n                  case \"msid\":\n                    if (c.value) {\n                      var u = c.value.split(\" \");\n\n                      if (2 === u.length) {\n                        var d = u[0],\n                            l = u[1];\n                        c.value = \"\".concat(d, \"-\").concat(t, \" \").concat(l, \"-\").concat(t);\n                      } else s.warn(\"Unable to munge local MSID\" + \"- weird format detected: \".concat(c.value));\n                    }\n\n                }\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == a.return || a.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n          }\n        }, {\n          key: \"maybeAddMutedLocalVideoTracksToSDP\",\n          value: function value(e) {\n            if (!e) throw new Error(\"No local description passed in.\");\n            var t = new o.a(e.sdp);\n            return this._addMutedLocalVideoTracksToSDP(t) ? new RTCSessionDescription({\n              type: e.type,\n              sdp: t.toRawSDP()\n            }) : e;\n          }\n        }, {\n          key: \"transformStreamIdentifiers\",\n          value: function value(e) {\n            if (!e || !e.sdp || !e.type) return e;\n            var t = new o.a(e.sdp),\n                n = t.selectMedia(\"audio\");\n            n && this._transformMediaIdentifiers(n);\n            var r = t.selectMedia(\"video\");\n            return r && this._transformMediaIdentifiers(r), new RTCSessionDescription({\n              type: e.type,\n              sdp: t.toRawSDP()\n            });\n          }\n        }]) && a(t.prototype, n), r && a(t, r), e;\n      }();\n    }).call(this, \"modules/RTC/LocalSdpMunger.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return u;\n      });\n      var r = n(4),\n          i = n(27),\n          o = n(7);\n\n      function a(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var s = Object(r.getLogger)(e);\n\n      function c(e, t, n) {\n        s.debug(\"Updating mline to associate \".concat(n) + \"rtx ssrc with primary stream, \".concat(t.id));\n        var r = t.id,\n            i = t.msid,\n            o = t.cname,\n            a = e.getRtxSSRC(r);\n        a !== n ? (a && (s.debug(\"\".concat(r, \" was previously associated with rtx\") + \"\".concat(a, \", removing all references to it\")), e.removeSSRC(a), s.debug(\"groups before filtering for \".concat(a)), s.debug(e.dumpSSRCGroups()), e.removeGroupsWithSSRC(a)), e.addSSRCAttribute({\n          id: n,\n          attribute: \"cname\",\n          value: o\n        }), e.addSSRCAttribute({\n          id: n,\n          attribute: \"msid\",\n          value: i\n        }), e.addSSRCGroup({\n          semantics: \"FID\",\n          ssrcs: \"\".concat(r, \" \").concat(n)\n        })) : s.debug(\"\".concat(n, \" was already associated with \").concat(r));\n      }\n\n      var u = function () {\n        function e() {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.correspondingRtxSsrcs = new Map();\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"clearSsrcCache\",\n          value: function value() {\n            this.correspondingRtxSsrcs.clear();\n          }\n        }, {\n          key: \"setSsrcCache\",\n          value: function value(e) {\n            s.debug(\"Setting ssrc cache to \", e), this.correspondingRtxSsrcs = e;\n          }\n        }, {\n          key: \"modifyRtxSsrcs\",\n          value: function value(e) {\n            var t = new i.a(e),\n                n = t.selectMedia(\"video\");\n            return n ? this.modifyRtxSsrcs2(n) ? t.toRawSDP() : e : (s.debug(\"No 'video' media found in the sdp: \".concat(e)), e);\n          }\n        }, {\n          key: \"modifyRtxSsrcs2\",\n          value: function value(e) {\n            if (\"recvonly\" === e.direction) return s.debug(\"RtxModifier doing nothing, video m line is recvonly\"), !1;\n            if (e.getSSRCCount() < 1) return s.debug(\"RtxModifier doing nothing, no video ssrcs present\"), !1;\n            s.debug(\"Current ssrc mapping: \", this.correspondingRtxSsrcs);\n            var t = e.getPrimaryVideoSSRCs();\n            s.debug(\"Parsed primary video ssrcs \", t, \" making sure all have rtx streams\");\n            var n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var a, u = t[Symbol.iterator](); !(n = (a = u.next()).done); n = !0) {\n                var d = a.value,\n                    l = e.getSSRCAttrValue(d, \"msid\"),\n                    p = e.getSSRCAttrValue(d, \"cname\"),\n                    f = this.correspondingRtxSsrcs.get(d);\n                if (f) s.debug(\"Already have an associated rtx ssrc for\" + \"video ssrc \".concat(d, \": \").concat(f));else {\n                  s.debug(\"No previously associated rtx ssrc for video ssrc \".concat(d));\n                  var h = e.getRtxSSRC(d);\n                  h ? (s.debug(\"Rtx stream \".concat(h, \" \") + \"already existed in the sdp as an rtx stream for \" + \"\".concat(d)), f = h) : (f = o.a.generateSsrc(), s.debug(\"Generated rtx ssrc \".concat(f, \" \") + \"for ssrc \".concat(d))), s.debug(\"Caching rtx ssrc \".concat(f, \" \") + \"for video ssrc \".concat(d)), this.correspondingRtxSsrcs.set(d, f);\n                }\n                c(e, {\n                  id: d,\n                  cname: p,\n                  msid: l\n                }, f);\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == u.return || u.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n\n            return !0;\n          }\n        }, {\n          key: \"stripRtx\",\n          value: function value(e) {\n            var t = new i.a(e),\n                n = t.selectMedia(\"video\");\n            if (!n) return s.debug(\"No 'video' media found in the sdp: \".concat(e)), e;\n            if (\"recvonly\" === n.direction) return s.debug(\"RtxModifier doing nothing, video m line is recvonly\"), e;\n            if (n.getSSRCCount() < 1) return s.debug(\"RtxModifier doing nothing, no video ssrcs present\"), e;\n            if (!n.containsAnySSRCGroups()) return s.debug(\"RtxModifier doing nothing, no video ssrcGroups present\"), e;\n            var r = n.findGroups(\"FID\");\n            n.removeGroupsBySemantics(\"FID\");\n            var o = !0,\n                a = !1,\n                c = void 0;\n\n            try {\n              for (var u, d = r[Symbol.iterator](); !(o = (u = d.next()).done); o = !0) {\n                var l = u.value,\n                    p = Object(i.c)(l);\n                n.removeSSRC(p);\n              }\n            } catch (e) {\n              a = !0, c = e;\n            } finally {\n              try {\n                o || null == d.return || d.return();\n              } finally {\n                if (a) throw c;\n              }\n            }\n\n            return t.toRawSDP();\n          }\n        }]) && a(t.prototype, n), r && a(t, r), e;\n      }();\n    }).call(this, \"modules/xmpp/RtxModifier.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return s;\n      });\n      var r = n(4),\n          i = n(27);\n\n      function o(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var a = Object(r.getLogger)(e),\n          s = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.clearVideoSsrcCache(), this.logPrefix = t;\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"clearVideoSsrcCache\",\n          value: function value() {\n            this.cachedPrimarySsrc = null, this.injectRecvOnly = !1;\n          }\n        }, {\n          key: \"setPrimarySsrc\",\n          value: function value(e) {\n            if (\"number\" != typeof e) throw new Error(\"Primary SSRC must be a number!\");\n            this.cachedPrimarySsrc = e;\n          }\n        }, {\n          key: \"hasPrimarySsrcCached\",\n          value: function value() {\n            return Boolean(this.cachedPrimarySsrc);\n          }\n        }, {\n          key: \"makeVideoPrimarySsrcsConsistent\",\n          value: function value(e) {\n            var t = new i.a(e),\n                n = t.selectMedia(\"video\");\n            if (!n) return a.debug(\"\".concat(this.logPrefix, \" no 'video' media found in the sdp: \") + \"\".concat(e)), e;\n            if (\"recvonly\" === n.direction) this.cachedPrimarySsrc && this.injectRecvOnly ? n.addSSRCAttribute({\n              id: this.cachedPrimarySsrc,\n              attribute: \"cname\",\n              value: \"recvonly-\".concat(this.cachedPrimarySsrc)\n            }) : a.info(\"\".concat(this.logPrefix, \" no SSRC found for the recvonly video\") + \"stream!\");else {\n              var r = n.getPrimaryVideoSsrc();\n              if (!r) return a.info(\"\".concat(this.logPrefix, \" sdp-consistency couldn't\") + \" parse new primary ssrc\"), e;\n\n              if (this.cachedPrimarySsrc) {\n                a.info(\"\".concat(this.logPrefix, \" sdp-consistency replacing new ssrc\") + \"\".concat(r, \" with cached \") + \"\".concat(this.cachedPrimarySsrc)), n.replaceSSRC(r, this.cachedPrimarySsrc);\n                var o = !0,\n                    s = !1,\n                    c = void 0;\n\n                try {\n                  for (var u, d = n.ssrcGroups[Symbol.iterator](); !(o = (u = d.next()).done); o = !0) {\n                    var l = u.value;\n\n                    if (\"FID\" === l.semantics) {\n                      var p = Object(i.b)(l),\n                          f = Object(i.c)(l);\n                      p === r && (l.ssrcs = \"\".concat(this.cachedPrimarySsrc, \" \").concat(f));\n                    }\n                  }\n                } catch (e) {\n                  s = !0, c = e;\n                } finally {\n                  try {\n                    o || null == d.return || d.return();\n                  } finally {\n                    if (s) throw c;\n                  }\n                }\n              } else this.cachedPrimarySsrc = r, a.info(\"\".concat(this.logPrefix, \" sdp-consistency caching primary ssrc\") + \"\".concat(this.cachedPrimarySsrc));\n\n              this.injectRecvOnly = !0;\n            }\n            return t.toRawSDP();\n          }\n        }]) && o(t.prototype, n), r && o(t, r), e;\n      }();\n    }).call(this, \"modules/xmpp/SdpConsistency.js\");\n  }, function (e, t) {\n    e.exports = {\n      getTokenAuthUrl: function getTokenAuthUrl(e, t, n) {\n        return \"string\" != typeof e ? null : e.replace(\"{room}\", t).replace(\"{roleUpgrade}\", !0 === n);\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return c;\n    });\n    var r = n(6),\n        i = n(79),\n        o = n(21),\n        a = n(5),\n        s = n(36);\n\n    function c(e, t, n) {\n      this.appID = e, this.token = t, this.options = n, this.xmpp = new s.c(n, t), this.addEventListener(o.CONNECTION_FAILED, function (e, t, n, i) {\n        a.a.sendAnalyticsAndLog(Object(r.B)(e, t, i));\n      }), this.addEventListener(o.CONNECTION_DISCONNECTED, function (e) {\n        e && a.a.sendAnalytics(r.m, {\n          message: e\n        }), a.a.sendLog(JSON.stringify({\n          id: r.m,\n          msg: e\n        }));\n      });\n    }\n\n    c.prototype.connect = function () {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n      this.xmpp.connect(e.id, e.password);\n    }, c.prototype.attach = function (e) {\n      this.xmpp.attach(e);\n    }, c.prototype.disconnect = function () {\n      var e;\n      return (e = this.xmpp).disconnect.apply(e, arguments);\n    }, c.prototype.getJid = function () {\n      return this.xmpp.getJid();\n    }, c.prototype.setToken = function (e) {\n      this.token = e;\n    }, c.prototype.initJitsiConference = function (e, t) {\n      return new i.a({\n        name: e,\n        config: t,\n        connection: this\n      });\n    }, c.prototype.addEventListener = function (e, t) {\n      this.xmpp.addListener(e, t);\n    }, c.prototype.removeEventListener = function (e, t) {\n      this.xmpp.removeListener(e, t);\n    }, c.prototype.getConnectionTimes = function () {\n      return this.xmpp.connectionTimes;\n    }, c.prototype.addFeature = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n      return this.xmpp.caps.addFeature(e, t);\n    }, c.prototype.removeFeature = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n      return this.xmpp.caps.removeFeature(e, t);\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return ie;\n      });\n\n      var r = n(2),\n          i = n(22),\n          o = n.n(i),\n          a = n(4),\n          s = n(80),\n          c = n.n(s),\n          u = n(17),\n          d = n(81),\n          l = n(1),\n          p = n(83),\n          f = n(16),\n          h = n(13),\n          m = n(15),\n          v = n(84),\n          g = n(102),\n          y = n(12),\n          _ = n(103),\n          S = n(104),\n          b = n(26),\n          E = n(105),\n          T = n(3),\n          C = n(106),\n          A = n(107),\n          R = n(42),\n          w = n(108),\n          O = n(109),\n          k = n(110),\n          P = n(111),\n          I = n(33),\n          D = n(112),\n          N = n(113),\n          M = n(114),\n          L = n(5),\n          x = n(115),\n          j = n.n(x),\n          F = n(11),\n          U = n.n(F),\n          H = n(34),\n          J = n.n(H),\n          G = n(116),\n          B = n(117),\n          V = n(20),\n          q = n(36),\n          W = n(9),\n          K = n(8),\n          z = n(14),\n          X = n.n(z),\n          Q = n(6),\n          Y = n(0);\n\n      function Z(e) {\n        return (Z = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function ee(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function te(e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? ee(Object(n), !0).forEach(function (t) {\n            ne(e, t, n[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ee(Object(n)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n          });\n        }\n\n        return e;\n      }\n\n      function ne(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      var re = Object(a.getLogger)(e);\n\n      function ie(e) {\n        if (!e.name || e.name.toLowerCase() !== e.name) {\n          var t = \"Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!\";\n          throw re.error(t), new Error(t);\n        }\n\n        this.eventEmitter = new o.a(), this.options = e, this.eventManager = new d.a(this), this.participants = {}, this._init(e), this.componentsVersions = new G.a(this), this.jvbJingleSession = null, this.lastDominantSpeaker = null, this.dtmfManager = null, this.somebodySupportsDTMF = !1, this.authEnabled = !1, this.startAudioMuted = !1, this.startVideoMuted = !1, this.startMutedPolicy = {\n          audio: !1,\n          video: !1\n        }, this.isMutedByFocus = !1, this.mutedByFocusActor = null, this.wasStopped = !1, this.properties = {}, this.connectionQuality = new C.a(this, this.eventEmitter, e), this.avgRtpStatsReporter = new D.a(this, e.config.avgRtpStatsN || 15), this._audioOutputProblemDetector = new N.a(this), this.isJvbConnectionInterrupted = !1, this.speakerStatsCollector = new M.a(this), this.deferredStartP2PTask = null;\n        var n = parseInt(e.config.p2p && e.config.p2p.backToP2PDelay, 10);\n        this.backToP2PDelay = isNaN(n) ? 5 : n, re.info(\"backToP2PDelay: \".concat(this.backToP2PDelay)), this.isP2PConnectionInterrupted = !1, this.p2p = !1, this.p2pJingleSession = null, this.videoSIPGWHandler = new B.a(this.room), this.recordingManager = new k.a(this.room);\n      }\n\n      ie.prototype.constructor = ie, ie.resourceCreator = function (e, t) {\n        var n;\n        if (t) n = J.a.randomHexString(8).toLowerCase();else {\n          n = r.Strophe.getNodeFromJid(e).substr(0, 8).toLowerCase();\n          /[0-9a-f]{8}/g.test(n) || (n = J.a.randomHexString(8).toLowerCase());\n        }\n        return n;\n      }, ie.prototype._init = function () {\n        var e = this,\n            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        t.connection && (this.connection = t.connection, this.xmpp = this.connection.xmpp, this.eventManager.setupXMPPListeners());\n        var n = this.options.config,\n            r = n.statisticsId ? n.statisticsId : I.a.callStatsUserName;\n        this.room = this.xmpp.createRoom(this.options.name, te({}, n, {\n          statsId: r\n        }), ie.resourceCreator), this._onIceConnectionInterrupted = this._onIceConnectionInterrupted.bind(this), this.room.addListener(Y.CONNECTION_INTERRUPTED, this._onIceConnectionInterrupted), this._onIceConnectionRestored = this._onIceConnectionRestored.bind(this), this.room.addListener(Y.CONNECTION_RESTORED, this._onIceConnectionRestored), this._onIceConnectionEstablished = this._onIceConnectionEstablished.bind(this), this.room.addListener(Y.CONNECTION_ESTABLISHED, this._onIceConnectionEstablished), this._updateProperties = this._updateProperties.bind(this), this.room.addListener(Y.CONFERENCE_PROPERTIES_CHANGED, this._updateProperties), this.rttMonitor = new P.a(n.rttMonitor || {}), this.e2eping = new w.a(this, n, function (t, n) {\n          try {\n            e.sendMessage(t, n, !0);\n          } catch (e) {\n            re.warn(\"Failed to send a ping request or response.\");\n          }\n        }), this.rtc || (this.rtc = new y.a(this, t), this.eventManager.setupRTCListeners()), this.participantConnectionStatus = new R.b(this.rtc, this, {\n          rtcMuteTimeout: n._peerConnStatusRtcMuteTimeout,\n          outOfLastNTimeout: n._peerConnStatusOutOfLastNTimeout\n        }), this.participantConnectionStatus.init(), this.statistics || (this.statistics = new L.a(this.xmpp, {\n          aliasName: r,\n          userName: n.statisticsDisplayName ? n.statisticsDisplayName : this.myUserId(),\n          callStatsConfIDNamespace: this.connection.options.hosts.domain,\n          confID: n.confID || \"\".concat(this.connection.options.hosts.domain, \"/\").concat(this.options.name),\n          customScriptUrl: n.callStatsCustomScriptUrl,\n          callStatsID: n.callStatsID,\n          callStatsSecret: n.callStatsSecret,\n          roomName: this.options.name,\n          applicationName: n.applicationName,\n          getWiFiStatsMethod: n.getWiFiStatsMethod\n        }), L.a.analytics.addPermanentProperties({\n          callstats_name: r\n        })), this.eventManager.setupChatRoomListeners(), this.eventManager.setupStatisticsListeners(), n.enableTalkWhileMuted && (n.createVADProcessor ? (re.info(\"Using VAD detection for generating talk while muted events\"), this._talkWhileMutedDetection = new S.a(this, n.createVADProcessor), this._talkWhileMutedDetection.on(b.VAD_TALK_WHILE_MUTED, function () {\n          return e.eventEmitter.emit(l.TALK_WHILE_MUTED);\n        })) : (re.info(\"Using audio level based detection for generating talk while muted events\"), this._talkWhileMutedDetection = new _.a(this, function () {\n          return e.eventEmitter.emit(l.TALK_WHILE_MUTED);\n        }))), n.enableNoAudioDetection && (this._noAudioSignalDetection = new E.a(this), this._noAudioSignalDetection.on(b.NO_AUDIO_INPUT, function () {\n          e.eventEmitter.emit(l.NO_AUDIO_INPUT);\n        }), this._noAudioSignalDetection.on(b.AUDIO_INPUT_STATE_CHANGE, function (t) {\n          e.eventEmitter.emit(l.AUDIO_INPUT_STATE_CHANGE, t);\n        })), \"channelLastN\" in n && this.setLastN(n.channelLastN), this.jvb121Status = new O.a(this), this.p2pDominantSpeakerDetection = new g.a(this), n && n.deploymentInfo && n.deploymentInfo.userRegion && this.setLocalParticipantProperty(\"region\", n.deploymentInfo.userRegion);\n      }, ie.prototype.join = function (e) {\n        var t = this;\n        this.room && this.room.join(e).then(function () {\n          return t._maybeSetSITimeout();\n        });\n      }, ie.prototype.authenticateAndUpgradeRole = function (e) {\n        return v.a.call(this, te({}, e, {\n          onCreateResource: ie.resourceCreator\n        }));\n      }, ie.prototype.isJoined = function () {\n        return this.room && this.room.joined;\n      }, ie.prototype.isP2PEnabled = function () {\n        return Boolean(this.options.config.p2p && this.options.config.p2p.enabled) || void 0 === this.options.config.p2p;\n      }, ie.prototype.isP2PTestModeEnabled = function () {\n        return Boolean(this.options.config.testing && this.options.config.testing.p2pTestMode);\n      }, ie.prototype.leave = function () {\n        var e = this;\n\n        if (this.participantConnectionStatus && (this.participantConnectionStatus.dispose(), this.participantConnectionStatus = null), this.avgRtpStatsReporter && (this.avgRtpStatsReporter.dispose(), this.avgRtpStatsReporter = null), this._audioOutputProblemDetector && (this._audioOutputProblemDetector.dispose(), this._audioOutputProblemDetector = null), this.rttMonitor && (this.rttMonitor.stop(), this.rttMonitor = null), this.e2eping && (this.e2eping.stop(), this.e2eping = null), this.getLocalTracks().forEach(function (t) {\n          return e.onLocalTrackRemoved(t);\n        }), this.rtc.closeBridgeChannel(), this.statistics && this.statistics.dispose(), this._delayedIceFailed && this._delayedIceFailed.cancel(), this.jvbJingleSession && (this.jvbJingleSession.close(), this.jvbJingleSession = null), this.p2pJingleSession && (this.p2pJingleSession.close(), this.p2pJingleSession = null), this.room) {\n          var t = this.room;\n          return t.removeListener(Y.CONNECTION_INTERRUPTED, this._onIceConnectionInterrupted), t.removeListener(Y.CONNECTION_RESTORED, this._onIceConnectionRestored), t.removeListener(Y.CONNECTION_ESTABLISHED, this._onIceConnectionEstablished), t.removeListener(Y.CONFERENCE_PROPERTIES_CHANGED, this._updateProperties), this.eventManager.removeXMPPListeners(), this.room = null, t.leave().then(function () {\n            e.rtc && e.rtc.destroy();\n          }).catch(function (t) {\n            throw e.getParticipants().forEach(function (t) {\n              return e.onMemberLeft(t.getJid());\n            }), t;\n          });\n        }\n\n        return Promise.reject(new Error(\"The conference is has been already left\"));\n      }, ie.prototype.getName = function () {\n        return this.options.name;\n      }, ie.prototype.getConnection = function () {\n        return this.connection;\n      }, ie.prototype.isAuthEnabled = function () {\n        return this.authEnabled;\n      }, ie.prototype.isLoggedIn = function () {\n        return Boolean(this.authIdentity);\n      }, ie.prototype.getAuthLogin = function () {\n        return this.authIdentity;\n      }, ie.prototype.isExternalAuthEnabled = function () {\n        return this.room && this.room.moderator.isExternalAuthEnabled();\n      }, ie.prototype.getExternalAuthUrl = function (e) {\n        var t = this;\n        return new Promise(function (n, r) {\n          t.isExternalAuthEnabled() ? e ? t.room.moderator.getPopupLoginUrl(n, r) : t.room.moderator.getLoginUrl(n, r) : r();\n        });\n      }, ie.prototype.getLocalTracks = function (e) {\n        var t = [];\n        return this.rtc && (t = this.rtc.getLocalTracks(e)), t;\n      }, ie.prototype.getLocalAudioTrack = function () {\n        return this.rtc ? this.rtc.getLocalAudioTrack() : null;\n      }, ie.prototype.getLocalVideoTrack = function () {\n        return this.rtc ? this.rtc.getLocalVideoTrack() : null;\n      }, ie.prototype.on = function (e, t) {\n        this.eventEmitter && this.eventEmitter.on(e, t);\n      }, ie.prototype.off = function (e, t) {\n        this.eventEmitter && this.eventEmitter.removeListener(e, t);\n      }, ie.prototype.addEventListener = ie.prototype.on, ie.prototype.removeEventListener = ie.prototype.off, ie.prototype.addCommandListener = function (e, t) {\n        this.room && this.room.addPresenceListener(e, t);\n      }, ie.prototype.removeCommandListener = function (e, t) {\n        this.room && this.room.removePresenceListener(e, t);\n      }, ie.prototype.sendTextMessage = function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"body\";\n\n        if (this.room) {\n          var n = (this.room.getFromPresence(\"nick\") || {}).value;\n          this.room.sendMessage(e, t, n);\n        }\n      }, ie.prototype.sendPrivateTextMessage = function (e, t) {\n        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"body\";\n        this.room && this.room.sendPrivateMessage(e, t, n);\n      }, ie.prototype.sendCommand = function (e, t) {\n        this.room ? (this.room.addToPresence(e, t), this.room.sendPresence()) : re.warn(\"Not sending a command, room not initialized.\");\n      }, ie.prototype.sendCommandOnce = function (e, t) {\n        this.sendCommand(e, t), this.removeCommand(e);\n      }, ie.prototype.removeCommand = function (e) {\n        this.room && this.room.removeFromPresence(e);\n      }, ie.prototype.setDisplayName = function (e) {\n        this.room && (this.room.removeFromPresence(\"nick\"), this.room.addToPresence(\"nick\", {\n          attributes: {\n            xmlns: \"http://jabber.org/protocol/nick\"\n          },\n          value: e\n        }), this.room.sendPresence());\n      }, ie.prototype.setSubject = function (e) {\n        this.room && this.isModerator() && this.room.setSubject(e);\n      }, ie.prototype.getTranscriber = function () {\n        if (void 0 === this.transcriber) {\n          this.transcriber = new j.a();\n          var e = this.getLocalTracks(W.a),\n              t = !0,\n              n = !1,\n              r = void 0;\n\n          try {\n            for (var i, o = e[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {\n              var a = i.value;\n              this.transcriber.addTrack(a);\n            }\n          } catch (e) {\n            n = !0, r = e;\n          } finally {\n            try {\n              t || null == o.return || o.return();\n            } finally {\n              if (n) throw r;\n            }\n          }\n\n          var s = this.rtc.getRemoteTracks(W.a),\n              c = !0,\n              u = !1,\n              d = void 0;\n\n          try {\n            for (var l, p = s[Symbol.iterator](); !(c = (l = p.next()).done); c = !0) {\n              var f = l.value;\n              this.transcriber.addTrack(f);\n            }\n          } catch (e) {\n            u = !0, d = e;\n          } finally {\n            try {\n              c || null == p.return || p.return();\n            } finally {\n              if (u) throw d;\n            }\n          }\n        }\n\n        return this.transcriber;\n      }, ie.prototype.getTranscriptionStatus = function () {\n        return this.room.transcriptionStatus;\n      }, ie.prototype.addTrack = function (e) {\n        if (e.isVideoTrack()) {\n          var t = this.rtc.getLocalVideoTrack();\n          if (t) return e === t ? Promise.resolve(e) : Promise.reject(new Error(\"cannot add second video track to the conference\"));\n        }\n\n        return this.replaceTrack(null, e);\n      }, ie.prototype._fireAudioLevelChangeEvent = function (e, t) {\n        var n = this.getActivePeerConnection();\n        t && n !== t || this.eventEmitter.emit(l.TRACK_AUDIO_LEVEL_CHANGED, this.myUserId(), e);\n      }, ie.prototype._fireMuteChangeEvent = function (e) {\n        var t;\n\n        if (this.isMutedByFocus && e.isAudioTrack() && !e.isMuted() && (this.isMutedByFocus = !1, this.room.muteParticipant(this.room.myroomjid, !1)), this.mutedByFocusActor) {\n          var n = r.Strophe.getResourceFromJid(this.mutedByFocusActor);\n          t = this.participants[n];\n        }\n\n        this.eventEmitter.emit(l.TRACK_MUTE_CHANGED, e, t);\n      }, ie.prototype.onLocalTrackRemoved = function (e) {\n        e._setConference(null), this.rtc.removeLocalTrack(e), e.removeEventListener(m.TRACK_MUTE_CHANGED, e.muteHandler), e.removeEventListener(m.TRACK_AUDIO_LEVEL_CHANGED, e.audioLevelHandler), e.isVideoTrack() && e.videoType === X.a.DESKTOP && this.statistics.sendScreenSharingEvent(!1), this.eventEmitter.emit(l.TRACK_REMOVED, e);\n      }, ie.prototype.removeTrack = function (e) {\n        return this.replaceTrack(e, null);\n      }, ie.prototype.replaceTrack = function (e, t) {\n        var n = this;\n        return e && e.disposed ? Promise.reject(new f.a(h.TRACK_IS_DISPOSED)) : t && t.disposed ? Promise.reject(new f.a(h.TRACK_IS_DISPOSED)) : this._doReplaceTrack(e, t).then(function () {\n          return e && n.onLocalTrackRemoved(e), t && n._setupNewTrack(t), Promise.resolve();\n        }, function (e) {\n          return Promise.reject(new Error(e));\n        });\n      }, ie.prototype.replaceTrackWithoutOfferAnswer = function (e) {\n        var t = [];\n        return this.jvbJingleSession ? t.push(this.jvbJingleSession.replaceTrackWithoutOfferAnswer(e)) : re.info(\"replaceTrackWithoutOfferAnswer - no JVB JingleSession\"), this.p2pJingleSession ? t.push(this.p2pJingleSession.replaceTrackWithoutOfferAnswer(e)) : re.info(\"_doReplaceTrack - no P2P JingleSession\"), Promise.all(t);\n      }, ie.prototype._doReplaceTrack = function (e, t) {\n        var n = [];\n        return this.jvbJingleSession ? n.push(this.jvbJingleSession.replaceTrack(e, t)) : re.info(\"_doReplaceTrack - no JVB JingleSession\"), this.p2pJingleSession ? n.push(this.p2pJingleSession.replaceTrack(e, t)) : re.info(\"_doReplaceTrack - no P2P JingleSession\"), Promise.all(n);\n      }, ie.prototype._setupNewTrack = function (e) {\n        if (e.isAudioTrack() || e.isVideoTrack() && e.videoType !== X.a.DESKTOP) {\n          var t = y.a.getCurrentlyAvailableMediaDevices().find(function (t) {\n            return t.kind === \"\".concat(e.getTrack().kind, \"input\") && t.label === e.getTrack().label;\n          });\n          t && L.a.sendActiveDeviceListEvent(y.a.getEventDataForActiveDevice(t));\n        }\n\n        e.isVideoTrack() && (this.removeCommand(\"videoType\"), this.sendCommand(\"videoType\", {\n          value: e.videoType,\n          attributes: {\n            xmlns: \"http://jitsi.org/jitmeet/video\"\n          }\n        })), this.rtc.addLocalTrack(e), e.isAudioTrack() ? this.room.setAudioMute(e.isMuted()) : this.room.setVideoMute(e.isMuted()), e.muteHandler = this._fireMuteChangeEvent.bind(this, e), e.audioLevelHandler = this._fireAudioLevelChangeEvent.bind(this), e.addEventListener(m.TRACK_MUTE_CHANGED, e.muteHandler), e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED, e.audioLevelHandler), e._setConference(this), this.eventEmitter.emit(l.TRACK_ADDED, e);\n      }, ie.prototype._addLocalTrackAsUnmute = function (e) {\n        var t = [];\n        return this.jvbJingleSession ? t.push(this.jvbJingleSession.addTrackAsUnmute(e)) : re.info(\"Add local MediaStream as unmute - no JVB Jingle session started yet\"), this.p2pJingleSession ? t.push(this.p2pJingleSession.addTrackAsUnmute(e)) : re.info(\"Add local MediaStream as unmute - no P2P Jingle session started yet\"), Promise.all(t);\n      }, ie.prototype._removeLocalTrackAsMute = function (e) {\n        var t = [];\n        return this.jvbJingleSession ? t.push(this.jvbJingleSession.removeTrackAsMute(e)) : re.info(\"Remove local MediaStream - no JVB JingleSession started yet\"), this.p2pJingleSession ? t.push(this.p2pJingleSession.removeTrackAsMute(e)) : re.info(\"Remove local MediaStream - no P2P JingleSession started yet\"), Promise.all(t);\n      }, ie.prototype.getRole = function () {\n        return this.room.role;\n      }, ie.prototype.isHidden = function () {\n        return this.connection ? r.Strophe.getDomainFromJid(this.connection.getJid()) === this.options.config.hiddenDomain : null;\n      }, ie.prototype.isModerator = function () {\n        return this.room ? this.room.isModerator() : null;\n      }, ie.prototype.lock = function (e) {\n        var t = this;\n        return this.isModerator() ? new Promise(function (n, r) {\n          t.room.lockRoom(e || \"\", function () {\n            return n();\n          }, function (e) {\n            return r(e);\n          }, function () {\n            return r(u.PASSWORD_NOT_SUPPORTED);\n          });\n        }) : Promise.reject(new Error(\"You are not moderator.\"));\n      }, ie.prototype.unlock = function () {\n        return this.lock();\n      }, ie.prototype.selectParticipant = function (e) {\n        this.selectParticipants([e]);\n      }, ie.prototype.selectParticipants = function (e) {\n        if (!Array.isArray(e)) throw new Error(\"Invalid argument; participantIds must be an array.\");\n        this.rtc.selectEndpoints(e);\n      }, ie.prototype.pinParticipant = function (e) {\n        this.rtc.pinEndpoint(e);\n      }, ie.prototype.getLastN = function () {\n        return this.rtc.getLastN();\n      }, ie.prototype.setLastN = function (e) {\n        if (!Number.isInteger(e) && !Number.parseInt(e, 10)) throw new Error(\"Invalid value for lastN: \".concat(e));\n        var t = Number(e);\n        if (t < -1) throw new RangeError(\"lastN cannot be smaller than -1\");\n\n        if (this.rtc.setLastN(t), this.p2pJingleSession) {\n          var n = 0 !== t;\n          this.p2pJingleSession.setMediaTransferActive(!0, n).catch(function (e) {\n            re.error(\"Failed to adjust video transfer status (\".concat(n, \")\"), e);\n          });\n        }\n      }, ie.prototype.isInLastN = function (e) {\n        return this.rtc.isInLastN(e);\n      }, ie.prototype.getParticipants = function () {\n        return Object.keys(this.participants).map(function (e) {\n          return this.participants[e];\n        }, this);\n      }, ie.prototype.getParticipantCount = function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n            t = this.getParticipants();\n        return e || (t = t.filter(function (e) {\n          return !e.isHidden();\n        })), t.length + 1;\n      }, ie.prototype.getParticipantById = function (e) {\n        return this.participants[e];\n      }, ie.prototype.kickParticipant = function (e) {\n        var t = this.getParticipantById(e);\n        t && this.room.kick(t.getJid());\n      }, ie.prototype._maybeClearSITimeout = function () {\n        this._sessionInitiateTimeout && (this.jvbJingleSession || this.getParticipantCount() < 2) && (window.clearTimeout(this._sessionInitiateTimeout), this._sessionInitiateTimeout = null);\n      }, ie.prototype._maybeSetSITimeout = function () {\n        var e = this;\n        !this.jvbJingleSession && this.getParticipantCount() >= 2 && !this._sessionInitiateTimeout && (this._sessionInitiateTimeout = window.setTimeout(function () {\n          e._sessionInitiateTimeout = null, L.a.sendAnalytics(Object(Q.G)(Q.d, {\n            p2p: !1,\n            value: 5e3\n          }));\n        }, 5e3));\n      }, ie.prototype.muteParticipant = function (e) {\n        var t = this.getParticipantById(e);\n        t && this.room.muteParticipant(t.getJid(), !0);\n      }, ie.prototype.onMemberJoined = function (e, t, n, i, o, a, s, c) {\n        var u = r.Strophe.getResourceFromJid(e);\n\n        if (\"focus\" !== u && this.myUserId() !== u) {\n          var d = new p.a(e, this, t, i, o, a, s);\n          d._role = n, d._botType = c, this.participants[u] = d, this.eventEmitter.emit(l.USER_JOINED, u, d), this._updateFeatures(d), this._maybeStartOrStopP2P(), this._maybeSetSITimeout();\n        }\n      }, ie.prototype._updateFeatures = function (e) {\n        var t = this;\n        e.getFeatures().then(function (n) {\n          e._supportsDTMF = n.has(\"urn:xmpp:jingle:dtmf:0\"), t.updateDTMFSupport(), n.has(\"http://jitsi.org/protocol/jigasi\") && e.setProperty(\"features_jigasi\", !0);\n        }).catch(function () {\n          return !1;\n        });\n      }, ie.prototype._onMemberBotTypeChanged = function (e, t) {\n        var n = this.getParticipants().find(function (t) {\n          return t.getJid() === e;\n        });\n\n        if (n) {\n          n._botType = t;\n          var i = r.Strophe.getResourceFromJid(e);\n          this.eventEmitter.emit(l.BOT_TYPE_CHANGED, i, t);\n        }\n\n        n._botType || this._maybeStartOrStopP2P();\n      }, ie.prototype.onMemberLeft = function (e) {\n        var t = this,\n            n = r.Strophe.getResourceFromJid(e);\n\n        if (\"focus\" !== n && this.myUserId() !== n) {\n          var i = this.participants[n];\n          delete this.participants[n], this.rtc.removeRemoteTracks(n).forEach(function (e) {\n            return t.eventEmitter.emit(l.TRACK_REMOVED, e);\n          }), i && this.eventEmitter.emit(l.USER_LEFT, n, i), this._maybeStartOrStopP2P(!0), this._maybeClearSITimeout();\n        }\n      }, ie.prototype.onMemberKicked = function (e, t, n) {\n        var r = this.participants[t];\n        if (e) return this.eventEmitter.emit(l.KICKED, r), void this.leave();\n        var i = this.participants[n];\n        this.eventEmitter.emit(l.PARTICIPANT_KICKED, r, i);\n      }, ie.prototype.onLocalRoleChanged = function (e) {\n        this.eventEmitter.emit(l.USER_ROLE_CHANGED, this.myUserId(), e);\n      }, ie.prototype.onUserRoleChanged = function (e, t) {\n        var n = r.Strophe.getResourceFromJid(e),\n            i = this.getParticipantById(n);\n        i && (i._role = t, this.eventEmitter.emit(l.USER_ROLE_CHANGED, n, t));\n      }, ie.prototype.onDisplayNameChanged = function (e, t) {\n        var n = r.Strophe.getResourceFromJid(e),\n            i = this.getParticipantById(n);\n        i && i._displayName !== t && (i._displayName = t, this.eventEmitter.emit(l.DISPLAY_NAME_CHANGED, n, t));\n      }, ie.prototype.onRemoteTrackAdded = function (e) {\n        var t = this;\n        if (!e.isP2P || this.isP2PActive()) {\n          if (e.isP2P || !this.isP2PActive()) {\n            var n = e.getParticipantId(),\n                r = this.getParticipantById(n);\n\n            if (r) {\n              r._tracks.push(e), this.transcriber && this.transcriber.addTrack(e);\n              var i = this.eventEmitter;\n              e.addEventListener(m.TRACK_MUTE_CHANGED, function () {\n                return i.emit(l.TRACK_MUTE_CHANGED, e);\n              }), e.addEventListener(m.TRACK_AUDIO_LEVEL_CHANGED, function (e, r) {\n                t.getActivePeerConnection() === r && i.emit(l.TRACK_AUDIO_LEVEL_CHANGED, n, e);\n              }), i.emit(l.TRACK_ADDED, e);\n            } else re.error(\"No participant found for id: \".concat(n));\n          } else re.info(\"Trying to add remote JVB track, when in P2P - IGNORED\");\n        } else re.info(\"Trying to add remote P2P track, when not in P2P - IGNORED\");\n      }, ie.prototype.onCallAccepted = function (e, t) {\n        this.p2pJingleSession === e && (re.info(\"P2P setAnswer\"), this.p2pJingleSession.setAnswer(t));\n      }, ie.prototype.onTransportInfo = function (e, t) {\n        this.p2pJingleSession === e && (re.info(\"P2P addIceCandidates\"), this.p2pJingleSession.addIceCandidates(t));\n      }, ie.prototype.onRemoteTrackRemoved = function (e) {\n        var t = this;\n        this.getParticipants().forEach(function (n) {\n          for (var r = n.getTracks(), i = 0; i < r.length; i++) {\n            if (r[i] === e) {\n              n._tracks.splice(i, 1), t.eventEmitter.emit(l.TRACK_REMOVED, e), t.transcriber && t.transcriber.removeTrack(e);\n              break;\n            }\n          }\n        }, this);\n      }, ie.prototype._onIncomingCallP2P = function (e, t) {\n        var n;\n        T.a.supportsP2P() ? this.isP2PEnabled() || this.isP2PTestModeEnabled() ? this.p2pJingleSession ? n = {\n          reason: \"busy\",\n          reasonDescription: \"P2P already in progress\",\n          errorMsg: 'Duplicated P2P \"session-initiate\"'\n        } : this._shouldBeInP2PMode() || (n = {\n          reason: \"decline\",\n          reasonDescription: \"P2P requirements not met\",\n          errorMsg: 'Received P2P \"session-initiate\" when should not be in P2P mode'\n        }, L.a.sendAnalytics(Object(Q.G)(Q.h))) : n = {\n          reason: \"decline\",\n          reasonDescription: \"P2P disabled\",\n          errorMsg: \"P2P mode disabled in the configuration\"\n        } : n = {\n          reason: \"unsupported-applications\",\n          reasonDescription: \"P2P not supported\",\n          errorMsg: \"This client does not support P2P connections\"\n        }, n ? this._rejectIncomingCall(e, n) : this._acceptP2PIncomingCall(e, t);\n      }, ie.prototype.onIncomingCall = function (e, t, n) {\n        if (e.isP2P) this._onIncomingCallP2P(e, t);else {\n          if (!this.room.isFocus(e.remoteJid)) {\n            var r = \"Rejecting session-initiate from non-focus.\";\n            return void this._rejectIncomingCall(e, {\n              reason: \"security-error\",\n              reasonDescription: r,\n              errorMsg: r\n            });\n          }\n\n          this._acceptJvbIncomingCall(e, t, n);\n        }\n      }, ie.prototype._acceptJvbIncomingCall = function (e, t, n) {\n        var r = this;\n        this.jvbJingleSession = e, this.room.connectionTimes[\"session.initiate\"] = n, this.wasStopped && L.a.sendAnalyticsAndLog(Object(Q.G)(Q.a, {\n          p2p: !1\n        }));\n        var i = $(t).find('>bridge-session[xmlns=\"http://jitsi.org/protocol/focus\"]').attr(\"region\");\n        this.eventEmitter.emit(l.SERVER_REGION_CHANGED, i), this._maybeClearSITimeout(), L.a.sendAnalytics(Object(Q.G)(Q.c, {\n          p2p: !1,\n          value: n\n        }));\n\n        try {\n          e.initialize(this.room, this.rtc, this.options.config);\n        } catch (e) {\n          U.a.callErrorHandler(e);\n        }\n\n        this._setBridgeChannel(t, e.peerconnection);\n\n        try {\n          e.acceptOffer(t, function () {\n            r.isP2PActive() && r.jvbJingleSession && r._suspendMediaTransferForJvbConnection();\n          }, function (e) {\n            U.a.callErrorHandler(e), re.error(\"Failed to accept incoming Jingle session\", e);\n          }, this.getLocalTracks()), re.info(\"Starting CallStats for JVB connection...\"), this.statistics.startCallStats(this.jvbJingleSession.peerconnection, \"jitsi\"), this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection);\n        } catch (e) {\n          U.a.callErrorHandler(e), re.error(e);\n        }\n      }, ie.prototype._setBridgeChannel = function (e, t) {\n        var n,\n            r = null,\n            i = $(e).find(\">content>transport>web-socket\").first();\n\n        switch (1 === i.length && (r = i[0].getAttribute(\"url\")), this.options.config.openBridgeChannel) {\n          case \"datachannel\":\n          case !0:\n          case void 0:\n            n = \"datachannel\";\n            break;\n\n          case \"websocket\":\n            n = \"websocket\";\n        }\n\n        \"datachannel\" !== n || T.a.supportsDataChannels() || (n = \"websocket\"), \"datachannel\" === n ? this.rtc.initializeBridgeChannel(t, null) : \"websocket\" === n && r && this.rtc.initializeBridgeChannel(null, r);\n      }, ie.prototype._rejectIncomingCall = function (e, t) {\n        t && t.errorMsg && U.a.callErrorHandler(new Error(t.errorMsg)), e.terminate(null, function (e) {\n          re.warn(\"An error occurred while trying to terminate invalid Jingle session\", e);\n        }, {\n          reason: t && t.reason,\n          reasonDescription: t && t.reasonDescription,\n          sendSessionTerminate: !0\n        });\n      }, ie.prototype.onCallEnded = function (e, t, n) {\n        re.info(\"Call ended: \".concat(t, \" - \").concat(n, \" P2P ?\").concat(e.isP2P)), e === this.jvbJingleSession ? (this.wasStopped = !0, L.a.sendAnalytics(Object(Q.G)(Q.e, {\n          p2p: !1\n        })), this.statistics && (this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection), re.info(\"Stopping JVB CallStats\"), this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)), this.jvbJingleSession = null, this.rtc.onCallEnded()) : e === this.p2pJingleSession ? (\"decline\" === t && \"force JVB121\" === n ? (re.info(\"In forced JVB 121 mode...\"), L.a.analytics.addPermanentProperties({\n          forceJvb121: !0\n        })) : \"connectivity-error\" === t && \"ICE FAILED\" === n && L.a.analytics.addPermanentProperties({\n          p2pFailed: !0\n        }), this._stopP2PSession()) : re.error(\"Received onCallEnded for invalid session\", e.sid, e.remoteJid, t, n);\n      }, ie.prototype.onSuspendDetected = function (e) {\n        e.isP2P || (this.leave(), this.eventEmitter.emit(l.SUSPEND_DETECTED));\n      }, ie.prototype.updateDTMFSupport = function () {\n        for (var e = !1, t = this.getParticipants(), n = 0; n < t.length; n += 1) {\n          if (t[n].supportsDTMF()) {\n            e = !0;\n            break;\n          }\n        }\n\n        e !== this.somebodySupportsDTMF && (this.somebodySupportsDTMF = e, this.eventEmitter.emit(l.DTMF_SUPPORT_CHANGED, e));\n      }, ie.prototype.isDTMFSupported = function () {\n        return this.somebodySupportsDTMF;\n      }, ie.prototype.myUserId = function () {\n        return this.room && this.room.myroomjid ? r.Strophe.getResourceFromJid(this.room.myroomjid) : null;\n      }, ie.prototype.sendTones = function (e, t, n) {\n        var r = this.getActivePeerConnection();\n        r ? r.sendTones(e, t, n) : re.warn(\"cannot sendTones: no peer connection\");\n      }, ie.prototype.startRecording = function (e) {\n        return this.room ? this.recordingManager.startRecording(e) : Promise.reject(new Error(\"The conference is not created yet!\"));\n      }, ie.prototype.stopRecording = function (e) {\n        return this.room ? this.recordingManager.stopRecording(e) : Promise.reject(new Error(\"The conference is not created yet!\"));\n      }, ie.prototype.isSIPCallingSupported = function () {\n        return !!this.room && this.room.isSIPCallingSupported();\n      }, ie.prototype.dial = function (e) {\n        return this.room ? this.room.dial(e) : new Promise(function (e, t) {\n          t(new Error(\"The conference is not created yet!\"));\n        });\n      }, ie.prototype.hangup = function () {\n        return this.room ? this.room.hangup() : new Promise(function (e, t) {\n          t(new Error(\"The conference is not created yet!\"));\n        });\n      }, ie.prototype.startTranscriber = function () {\n        return this.dial(\"jitsi_meet_transcribe\");\n      }, ie.prototype.stopTranscriber = ie.prototype.hangup, ie.prototype.getPhoneNumber = function () {\n        return this.room ? this.room.getPhoneNumber() : null;\n      }, ie.prototype.getPhonePin = function () {\n        return this.room ? this.room.getPhonePin() : null;\n      }, ie.prototype.getMeetingUniqueId = function () {\n        if (this.room) return this.room.getMeetingId();\n      }, ie.prototype.getActivePeerConnection = function () {\n        return this.isP2PActive() ? this.p2pJingleSession.peerconnection : this.jvbJingleSession ? this.jvbJingleSession.peerconnection : null;\n      }, ie.prototype.getConnectionState = function () {\n        var e = this.getActivePeerConnection();\n        return e ? e.getConnectionState() : null;\n      }, ie.prototype.setStartMutedPolicy = function (e) {\n        this.isModerator() && (this.startMutedPolicy = e, this.room.removeFromPresence(\"startmuted\"), this.room.addToPresence(\"startmuted\", {\n          attributes: {\n            audio: e.audio,\n            video: e.video,\n            xmlns: \"http://jitsi.org/jitmeet/start-muted\"\n          }\n        }), this.room.sendPresence());\n      }, ie.prototype.getStartMutedPolicy = function () {\n        return this.startMutedPolicy;\n      }, ie.prototype.isStartAudioMuted = function () {\n        return this.startAudioMuted;\n      }, ie.prototype.isStartVideoMuted = function () {\n        return this.startVideoMuted;\n      }, ie.prototype.getLogs = function () {\n        var e = this.xmpp.getJingleLog(),\n            t = {};\n        t.time = new Date(), t.url = window.location.href, t.ua = navigator.userAgent;\n        var n = this.xmpp.getXmppLog();\n        return n && (t.xmpp = n), e.metadata = t, e;\n      }, ie.prototype.getConnectionTimes = function () {\n        return this.room.connectionTimes;\n      }, ie.prototype.setLocalParticipantProperty = function (e, t) {\n        this.sendCommand(\"jitsi_participant_\".concat(e), {\n          value: t\n        });\n      }, ie.prototype.removeLocalParticipantProperty = function (e) {\n        this.removeCommand(\"jitsi_participant_\".concat(e)), this.room.sendPresence();\n      }, ie.prototype.getLocalParticipantProperty = function (e) {\n        var t = this.room.presMap.nodes.find(function (t) {\n          return t.tagName === \"jitsi_participant_\".concat(e);\n        });\n        return t ? t.value : void 0;\n      }, ie.prototype.sendFeedback = function (e, t) {\n        return this.statistics.sendFeedback(e, t);\n      }, ie.prototype.isCallstatsEnabled = function () {\n        return this.statistics.isCallstatsEnabled();\n      }, ie.prototype._onTrackAttach = function (e, t) {\n        var n = e.isLocal(),\n            r = null,\n            i = e.isP2P,\n            o = i ? e.getParticipantId() : \"jitsi\",\n            a = i ? this.p2pJingleSession && this.p2pJingleSession.peerconnection : this.jvbJingleSession && this.jvbJingleSession.peerconnection;\n        n ? a && (r = a.getLocalSSRC(e)) : r = e.getSSRC(), t.id && r && a && this.statistics.associateStreamWithVideoTag(a, r, n, o, e.getUsageLabel(), t.id);\n      }, ie.prototype.sendApplicationLog = function (e) {\n        L.a.sendLog(e);\n      }, ie.prototype._isFocus = function (e) {\n        return this.room ? this.room.isFocus(e) : null;\n      }, ie.prototype._fireIncompatibleVersionsEvent = function () {\n        this.eventEmitter.emit(l.CONFERENCE_FAILED, u.INCOMPATIBLE_SERVER_VERSIONS);\n      }, ie.prototype.sendEndpointMessage = function (e, t) {\n        this.rtc.sendChannelMessage(e, t);\n      }, ie.prototype.broadcastEndpointMessage = function (e) {\n        this.sendEndpointMessage(\"\", e);\n      }, ie.prototype.sendMessage = function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\",\n            n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],\n            r = Z(e);\n        if (\"object\" === r || !n && \"string\" === r) {\n          if (n) this.sendEndpointMessage(t, e);else {\n            var i = e,\n                o = \"body\";\n\n            if (\"object\" === r) {\n              o = \"json-message\", i.hasOwnProperty(q.b) || (i[q.b] = \"\");\n\n              try {\n                i = JSON.stringify(i);\n              } catch (e) {\n                return void re.error(\"Can not send a message, stringify failed: \", e);\n              }\n            }\n\n            t ? this.sendPrivateTextMessage(t, i, o) : this.sendTextMessage(i, o);\n          }\n        } else re.error(\"Can not send a message of type \".concat(r));\n      }, ie.prototype.isConnectionInterrupted = function () {\n        return this.isP2PActive() ? this.isP2PConnectionInterrupted : this.isJvbConnectionInterrupted;\n      }, ie.prototype._onIceConnectionInterrupted = function (e) {\n        e.isP2P ? this.isP2PConnectionInterrupted = !0 : this.isJvbConnectionInterrupted = !0, e.isP2P === this.isP2PActive() && this.eventEmitter.emit(l.CONNECTION_INTERRUPTED);\n      }, ie.prototype._onIceConnectionFailed = function (e) {\n        e.isP2P ? (L.a.analytics.addPermanentProperties({\n          p2pFailed: !0\n        }), this.p2pJingleSession && L.a.sendAnalyticsAndLog(Object(Q.I)(Q.j, {\n          initiator: this.p2pJingleSession.isInitiator\n        })), this._stopP2PSession(\"connectivity-error\", \"ICE FAILED\")) : e && this.jvbJingleSession === e && (this.xmpp.isPingSupported() ? (this._delayedIceFailed = new A.a(this), this._delayedIceFailed.start(e)) : (re.info(\"PING not supported - sending ICE failed immediately\"), e.sendIceFailedNotification()));\n      }, ie.prototype._onIceConnectionRestored = function (e) {\n        e.isP2P ? this.isP2PConnectionInterrupted = !1 : (this.isJvbConnectionInterrupted = !1, this._delayedIceFailed && this._delayedIceFailed.cancel()), e.isP2P === this.isP2PActive() && this.eventEmitter.emit(l.CONNECTION_RESTORED);\n      }, ie.prototype._acceptP2PIncomingCall = function (e, t) {\n        this.isP2PConnectionInterrupted = !1, this.p2pJingleSession = e, this.p2pJingleSession.initialize(this.room, this.rtc, this.options.config), re.info(\"Starting CallStats for P2P connection...\");\n        var n = r.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),\n            i = this.participants[n];\n        i && (n = i.getStatsID() || n), this.statistics.startCallStats(this.p2pJingleSession.peerconnection, n);\n        var o = this.getLocalTracks();\n        this.p2pJingleSession.acceptOffer(t, function () {\n          re.debug('Got RESULT for P2P \"session-accept\"');\n        }, function (e) {\n          re.error(\"Failed to accept incoming P2P Jingle session\", e);\n        }, o);\n      }, ie.prototype._addRemoteJVBTracks = function () {\n        this._addRemoteTracks(\"JVB\", this.jvbJingleSession.peerconnection.getRemoteTracks());\n      }, ie.prototype._addRemoteP2PTracks = function () {\n        this._addRemoteTracks(\"P2P\", this.p2pJingleSession.peerconnection.getRemoteTracks());\n      }, ie.prototype._addRemoteTracks = function (e, t) {\n        var n = !0,\n            r = !1,\n            i = void 0;\n\n        try {\n          for (var o, a = t[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n            var s = o.value;\n            re.info(\"Adding remote \".concat(e, \" track: \").concat(s)), this.rtc.eventEmitter.emit(K.REMOTE_TRACK_ADDED, s);\n          }\n        } catch (e) {\n          r = !0, i = e;\n        } finally {\n          try {\n            n || null == a.return || a.return();\n          } finally {\n            if (r) throw i;\n          }\n        }\n      }, ie.prototype._onIceConnectionEstablished = function (e) {\n        null !== this.p2pJingleSession && (this.p2pEstablishmentDuration = this.p2pJingleSession.establishmentDuration), null !== this.jvbJingleSession && (this.jvbEstablishmentDuration = this.jvbJingleSession.establishmentDuration);\n        var t = !1,\n            n = this.options.config.forceJVB121Ratio;\n\n        if (e.isP2P ? this.p2pJingleSession !== e ? (re.error(\"CONNECTION_ESTABLISHED - wrong P2P session instance ?!\"), t = !0) : !e.isInitiator && \"number\" == typeof n && Math.random() < n && (re.info(\"Forcing JVB 121 mode (ratio=\".concat(n, \")...\")), L.a.analytics.addPermanentProperties({\n          forceJvb121: !0\n        }), this._stopP2PSession(\"decline\", \"force JVB121\"), t = !0) : t = !0, !isNaN(this.p2pEstablishmentDuration) && !isNaN(this.jvbEstablishmentDuration)) {\n          var r = this.p2pEstablishmentDuration - this.jvbEstablishmentDuration;\n          L.a.sendAnalytics(Q.p, {\n            value: r\n          });\n        }\n\n        e.isP2P === this.isP2PActive() && this.eventEmitter.emit(l.CONNECTION_ESTABLISHED), t || (this._setP2PStatus(!0), this.jvbJingleSession ? this._removeRemoteJVBTracks() : re.info(\"Not removing remote JVB tracks - no session yet\"), this._addRemoteP2PTracks(), this.jvbJingleSession && this._suspendMediaTransferForJvbConnection(), re.info(\"Starting remote stats with p2p connection\"), this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection), L.a.sendAnalyticsAndLog(Object(Q.I)(Q.i, {\n          initiator: this.p2pJingleSession.isInitiator\n        })));\n      }, ie.prototype._updateProperties = function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = !c()(e, this.properties);\n\n        if (this.properties = e, t) {\n          this.eventEmitter.emit(l.PROPERTIES_CHANGED, this.properties);\n          var n = [\"bridge-count\", \"created-ms\", \"octo-enabled\"];\n          n.forEach(function (t) {\n            void 0 !== e[t] && L.a.analytics.addPermanentProperties(ne({}, t.replace(\"-\", \"_\"), e[t]));\n          });\n        }\n      }, ie.prototype.getProperty = function (e) {\n        return this.properties[e];\n      }, ie.prototype._maybeClearDeferredStartP2P = function () {\n        this.deferredStartP2PTask && (re.info(\"Cleared deferred start P2P task\"), clearTimeout(this.deferredStartP2PTask), this.deferredStartP2PTask = null);\n      }, ie.prototype._removeRemoteJVBTracks = function () {\n        this._removeRemoteTracks(\"JVB\", this.jvbJingleSession.peerconnection.getRemoteTracks());\n      }, ie.prototype._removeRemoteP2PTracks = function () {\n        this._removeRemoteTracks(\"P2P\", this.p2pJingleSession.peerconnection.getRemoteTracks());\n      }, ie.prototype._removeRemoteTracks = function (e, t) {\n        var n = !0,\n            r = !1,\n            i = void 0;\n\n        try {\n          for (var o, a = t[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n            var s = o.value;\n            re.info(\"Removing remote \".concat(e, \" track: \").concat(s)), this.rtc.eventEmitter.emit(K.REMOTE_TRACK_REMOVED, s);\n          }\n        } catch (e) {\n          r = !0, i = e;\n        } finally {\n          try {\n            n || null == a.return || a.return();\n          } finally {\n            if (r) throw i;\n          }\n        }\n      }, ie.prototype._resumeMediaTransferForJvbConnection = function () {\n        re.info(\"Resuming media transfer over the JVB connection...\"), this.jvbJingleSession.setMediaTransferActive(!0, !0).then(function () {\n          re.info(\"Resumed media transfer over the JVB connection!\");\n        }, function (e) {\n          re.error(\"Failed to resume media transfer over the JVB connection:\", e);\n        });\n      }, ie.prototype._setP2PStatus = function (e) {\n        if (this.p2p !== e) {\n          if (this.p2p = e, e) {\n            re.info(\"Peer to peer connection established!\"), L.a.analytics.addPermanentProperties({\n              p2pFailed: !1,\n              forceJvb121: !1\n            });\n            var t = 0 !== this.rtc.getLastN();\n            this.p2pJingleSession.setMediaTransferActive(!0, t).catch(function (e) {\n              re.error(\"Failed to sync up P2P video transfer status\" + \"(\".concat(t, \")\"), e);\n            });\n          } else re.info(\"Peer to peer connection closed!\");\n\n          this.jvbJingleSession && this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection, !e), this.dtmfManager = null, this.eventEmitter.emit(l.P2P_STATUS, this, this.p2p), this.eventEmitter.emit(this.isConnectionInterrupted() ? l.CONNECTION_INTERRUPTED : l.CONNECTION_RESTORED);\n        } else re.debug(\"Called _setP2PStatus with the same status: \".concat(e));\n      }, ie.prototype._startP2PSession = function (e) {\n        if (this._maybeClearDeferredStartP2P(), this.p2pJingleSession) re.error(\"P2P session already started!\");else {\n          this.isP2PConnectionInterrupted = !1, this.p2pJingleSession = this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid, e), re.info(\"Created new P2P JingleSession\", this.room.myroomjid, e), this.p2pJingleSession.initialize(this.room, this.rtc, this.options.config), re.info(\"Starting CallStats for P2P connection...\");\n          var t = r.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),\n              n = this.participants[t];\n          n && (t = n.getStatsID() || t), this.statistics.startCallStats(this.p2pJingleSession.peerconnection, t);\n          var i = this.getLocalTracks();\n          this.p2pJingleSession.invite(i);\n        }\n      }, ie.prototype._suspendMediaTransferForJvbConnection = function () {\n        re.info(\"Suspending media transfer over the JVB connection...\"), this.jvbJingleSession.setMediaTransferActive(!1, !1).then(function () {\n          re.info(\"Suspended media transfer over the JVB connection !\");\n        }, function (e) {\n          re.error(\"Failed to suspend media transfer over the JVB connection:\", e);\n        });\n      }, ie.prototype._maybeStartOrStopP2P = function (e) {\n        if (T.a.supportsP2P() && this.isP2PEnabled() && !this.isP2PTestModeEnabled()) {\n          var t = this.getParticipants(),\n              n = t.length,\n              r = this._shouldBeInP2PMode();\n\n          if (!r && this.deferredStartP2PTask && this._maybeClearDeferredStartP2P(), !this.p2pJingleSession && r) {\n            var i = n && t[0],\n                o = this.myUserId(),\n                a = i.getId();\n            if (o > a) return void re.debug(\"I'm the bigger peersId - the other peer should start P2P\", o, a);\n            if (o === a) return void re.error(\"The same IDs ? \", o, a);\n            var s = i.getJid();\n\n            if (e) {\n              if (this.deferredStartP2PTask) return void re.error(\"Deferred start P2P task's been set already!\");\n              re.info(\"Will start P2P with: \".concat(s, \" after \").concat(this.backToP2PDelay, \" seconds...\")), this.deferredStartP2PTask = setTimeout(this._startP2PSession.bind(this, s), 1e3 * this.backToP2PDelay);\n            } else re.info(\"Will start P2P with: \".concat(s)), this._startP2PSession(s);\n          } else this.p2pJingleSession && !r && (re.info(\"Will stop P2P with: \".concat(this.p2pJingleSession.remoteJid)), this.p2pJingleSession.isInitiator && n > 1 && L.a.sendAnalyticsAndLog(Object(Q.I)(Q.k)), this._stopP2PSession());\n        } else re.info(\"Auto P2P disabled\");\n      }, ie.prototype._shouldBeInP2PMode = function () {\n        var e = this.getParticipants(),\n            t = e.length,\n            n = void 0 !== e.find(function (e) {\n          return \"poltergeist\" === e._botType;\n        }),\n            r = 1 === t && !n;\n        return re.debug(\"P2P? peerCount: \".concat(t, \", hasBotPeer: \").concat(n, \" => \").concat(r)), r;\n      }, ie.prototype._stopP2PSession = function (e, t) {\n        if (this.p2pJingleSession) {\n          var n = this.isP2PActive();\n          n && (this.jvbJingleSession && this._resumeMediaTransferForJvbConnection(), this._removeRemoteP2PTracks()), re.info(\"Stopping remote stats for P2P connection\"), this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection), re.info(\"Stopping CallStats for P2P connection\"), this.statistics.stopCallStats(this.p2pJingleSession.peerconnection), this.p2pJingleSession.terminate(function () {\n            re.info(\"P2P session terminate RESULT\");\n          }, function (t) {\n            e && re.error(\"An error occurred while trying to terminate P2P Jingle session\", t);\n          }, {\n            reason: e || \"success\",\n            reasonDescription: t || \"Turing off P2P session\",\n            sendSessionTerminate: this.room && this.getParticipantById(r.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))\n          }), this.p2pJingleSession = null, this._setP2PStatus(!1), n && (this.jvbJingleSession ? this._addRemoteJVBTracks() : re.info(\"Not adding remote JVB tracks - no session yet\"));\n        } else re.error(\"No P2P session to be stopped!\");\n      }, ie.prototype.isP2PActive = function () {\n        return this.p2p;\n      }, ie.prototype.getP2PConnectionState = function () {\n        return this.isP2PActive() ? this.p2pJingleSession.peerconnection.getConnectionState() : null;\n      }, ie.prototype.startP2PSession = function () {\n        var e = this.getParticipants();\n        if (1 !== e.length) throw new Error(\"There must be exactly 1 participant to start the P2P session !\");\n        var t = e[0].getJid();\n\n        this._startP2PSession(t);\n      }, ie.prototype.stopP2PSession = function () {\n        this._stopP2PSession();\n      }, ie.prototype.getSpeakerStats = function () {\n        return this.speakerStatsCollector.getStats();\n      }, ie.prototype.setReceiverVideoConstraint = function (e) {\n        this.rtc.setReceiverVideoConstraint(e);\n      }, ie.prototype.createVideoSIPGWSession = function (e, t) {\n        return this.room ? this.videoSIPGWHandler.createVideoSIPGWSession(e, t) : new Error(V.ERROR_NO_CONNECTION);\n      };\n    }).call(this, \"JitsiConference.js\");\n  }, function (e, t, n) {\n    (function (e, n) {\n      var r = 200,\n          i = \"__lodash_hash_undefined__\",\n          o = 1,\n          a = 2,\n          s = 9007199254740991,\n          c = \"[object Arguments]\",\n          u = \"[object Array]\",\n          d = \"[object AsyncFunction]\",\n          l = \"[object Boolean]\",\n          p = \"[object Date]\",\n          f = \"[object Error]\",\n          h = \"[object Function]\",\n          m = \"[object GeneratorFunction]\",\n          v = \"[object Map]\",\n          g = \"[object Number]\",\n          y = \"[object Null]\",\n          _ = \"[object Object]\",\n          S = \"[object Proxy]\",\n          b = \"[object RegExp]\",\n          E = \"[object Set]\",\n          T = \"[object String]\",\n          C = \"[object Symbol]\",\n          A = \"[object Undefined]\",\n          R = \"[object ArrayBuffer]\",\n          w = \"[object DataView]\",\n          O = /^\\[object .+?Constructor\\]$/,\n          k = /^(?:0|[1-9]\\d*)$/,\n          P = {};\n      P[\"[object Float32Array]\"] = P[\"[object Float64Array]\"] = P[\"[object Int8Array]\"] = P[\"[object Int16Array]\"] = P[\"[object Int32Array]\"] = P[\"[object Uint8Array]\"] = P[\"[object Uint8ClampedArray]\"] = P[\"[object Uint16Array]\"] = P[\"[object Uint32Array]\"] = !0, P[c] = P[u] = P[R] = P[l] = P[w] = P[p] = P[f] = P[h] = P[v] = P[g] = P[_] = P[b] = P[E] = P[T] = P[\"[object WeakMap]\"] = !1;\n\n      var I = \"object\" == typeof e && e && e.Object === Object && e,\n          D = \"object\" == typeof self && self && self.Object === Object && self,\n          N = I || D || Function(\"return this\")(),\n          M = t && !t.nodeType && t,\n          L = M && \"object\" == typeof n && n && !n.nodeType && n,\n          x = L && L.exports === M,\n          j = x && I.process,\n          F = function () {\n        try {\n          return j && j.binding && j.binding(\"util\");\n        } catch (e) {}\n      }(),\n          U = F && F.isTypedArray;\n\n      function H(e, t) {\n        for (var n = -1, r = null == e ? 0 : e.length; ++n < r;) {\n          if (t(e[n], n, e)) return !0;\n        }\n\n        return !1;\n      }\n\n      function J(e) {\n        var t = -1,\n            n = Array(e.size);\n        return e.forEach(function (e, r) {\n          n[++t] = [r, e];\n        }), n;\n      }\n\n      function G(e) {\n        var t = -1,\n            n = Array(e.size);\n        return e.forEach(function (e) {\n          n[++t] = e;\n        }), n;\n      }\n\n      var B,\n          V,\n          q,\n          W = Array.prototype,\n          K = Function.prototype,\n          z = Object.prototype,\n          $ = N[\"__core-js_shared__\"],\n          X = K.toString,\n          Q = z.hasOwnProperty,\n          Y = (B = /[^.]+$/.exec($ && $.keys && $.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + B : \"\",\n          Z = z.toString,\n          ee = RegExp(\"^\" + X.call(Q).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n          te = x ? N.Buffer : void 0,\n          ne = N.Symbol,\n          re = N.Uint8Array,\n          ie = z.propertyIsEnumerable,\n          oe = W.splice,\n          ae = ne ? ne.toStringTag : void 0,\n          se = Object.getOwnPropertySymbols,\n          ce = te ? te.isBuffer : void 0,\n          ue = (V = Object.keys, q = Object, function (e) {\n        return V(q(e));\n      }),\n          de = Fe(N, \"DataView\"),\n          le = Fe(N, \"Map\"),\n          pe = Fe(N, \"Promise\"),\n          fe = Fe(N, \"Set\"),\n          he = Fe(N, \"WeakMap\"),\n          me = Fe(Object, \"create\"),\n          ve = Ge(de),\n          ge = Ge(le),\n          ye = Ge(pe),\n          _e = Ge(fe),\n          Se = Ge(he),\n          be = ne ? ne.prototype : void 0,\n          Ee = be ? be.valueOf : void 0;\n\n      function Te(e) {\n        var t = -1,\n            n = null == e ? 0 : e.length;\n\n        for (this.clear(); ++t < n;) {\n          var r = e[t];\n          this.set(r[0], r[1]);\n        }\n      }\n\n      function Ce(e) {\n        var t = -1,\n            n = null == e ? 0 : e.length;\n\n        for (this.clear(); ++t < n;) {\n          var r = e[t];\n          this.set(r[0], r[1]);\n        }\n      }\n\n      function Ae(e) {\n        var t = -1,\n            n = null == e ? 0 : e.length;\n\n        for (this.clear(); ++t < n;) {\n          var r = e[t];\n          this.set(r[0], r[1]);\n        }\n      }\n\n      function Re(e) {\n        var t = -1,\n            n = null == e ? 0 : e.length;\n\n        for (this.__data__ = new Ae(); ++t < n;) {\n          this.add(e[t]);\n        }\n      }\n\n      function we(e) {\n        var t = this.__data__ = new Ce(e);\n        this.size = t.size;\n      }\n\n      function Oe(e, t) {\n        var n = qe(e),\n            r = !n && Ve(e),\n            i = !n && !r && We(e),\n            o = !n && !r && !i && Qe(e),\n            a = n || r || i || o,\n            s = a ? function (e, t) {\n          for (var n = -1, r = Array(e); ++n < e;) {\n            r[n] = t(n);\n          }\n\n          return r;\n        }(e.length, String) : [],\n            c = s.length;\n\n        for (var u in e) {\n          !t && !Q.call(e, u) || a && (\"length\" == u || i && (\"offset\" == u || \"parent\" == u) || o && (\"buffer\" == u || \"byteLength\" == u || \"byteOffset\" == u) || Je(u, c)) || s.push(u);\n        }\n\n        return s;\n      }\n\n      function ke(e, t) {\n        for (var n = e.length; n--;) {\n          if (Be(e[n][0], t)) return n;\n        }\n\n        return -1;\n      }\n\n      function Pe(e) {\n        return null == e ? void 0 === e ? A : y : ae && ae in Object(e) ? function (e) {\n          var t = Q.call(e, ae),\n              n = e[ae];\n\n          try {\n            e[ae] = void 0;\n            var r = !0;\n          } catch (e) {}\n\n          var i = Z.call(e);\n          r && (t ? e[ae] = n : delete e[ae]);\n          return i;\n        }(e) : function (e) {\n          return Z.call(e);\n        }(e);\n      }\n\n      function Ie(e) {\n        return Xe(e) && Pe(e) == c;\n      }\n\n      function De(e, t, n, r, i) {\n        return e === t || (null == e || null == t || !Xe(e) && !Xe(t) ? e != e && t != t : function (e, t, n, r, i, s) {\n          var d = qe(e),\n              h = qe(t),\n              m = d ? u : He(e),\n              y = h ? u : He(t),\n              S = (m = m == c ? _ : m) == _,\n              A = (y = y == c ? _ : y) == _,\n              O = m == y;\n\n          if (O && We(e)) {\n            if (!We(t)) return !1;\n            d = !0, S = !1;\n          }\n\n          if (O && !S) return s || (s = new we()), d || Qe(e) ? Le(e, t, n, r, i, s) : function (e, t, n, r, i, s, c) {\n            switch (n) {\n              case w:\n                if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;\n                e = e.buffer, t = t.buffer;\n\n              case R:\n                return !(e.byteLength != t.byteLength || !s(new re(e), new re(t)));\n\n              case l:\n              case p:\n              case g:\n                return Be(+e, +t);\n\n              case f:\n                return e.name == t.name && e.message == t.message;\n\n              case b:\n              case T:\n                return e == t + \"\";\n\n              case v:\n                var u = J;\n\n              case E:\n                var d = r & o;\n                if (u || (u = G), e.size != t.size && !d) return !1;\n                var h = c.get(e);\n                if (h) return h == t;\n                r |= a, c.set(e, t);\n                var m = Le(u(e), u(t), r, i, s, c);\n                return c.delete(e), m;\n\n              case C:\n                if (Ee) return Ee.call(e) == Ee.call(t);\n            }\n\n            return !1;\n          }(e, t, m, n, r, i, s);\n\n          if (!(n & o)) {\n            var k = S && Q.call(e, \"__wrapped__\"),\n                P = A && Q.call(t, \"__wrapped__\");\n\n            if (k || P) {\n              var I = k ? e.value() : e,\n                  D = P ? t.value() : t;\n              return s || (s = new we()), i(I, D, n, r, s);\n            }\n          }\n\n          if (!O) return !1;\n          return s || (s = new we()), function (e, t, n, r, i, a) {\n            var s = n & o,\n                c = xe(e),\n                u = c.length,\n                d = xe(t).length;\n            if (u != d && !s) return !1;\n            var l = u;\n\n            for (; l--;) {\n              var p = c[l];\n              if (!(s ? p in t : Q.call(t, p))) return !1;\n            }\n\n            var f = a.get(e);\n            if (f && a.get(t)) return f == t;\n            var h = !0;\n            a.set(e, t), a.set(t, e);\n            var m = s;\n\n            for (; ++l < u;) {\n              p = c[l];\n              var v = e[p],\n                  g = t[p];\n              if (r) var y = s ? r(g, v, p, t, e, a) : r(v, g, p, e, t, a);\n\n              if (!(void 0 === y ? v === g || i(v, g, n, r, a) : y)) {\n                h = !1;\n                break;\n              }\n\n              m || (m = \"constructor\" == p);\n            }\n\n            if (h && !m) {\n              var _ = e.constructor,\n                  S = t.constructor;\n              _ != S && \"constructor\" in e && \"constructor\" in t && !(\"function\" == typeof _ && _ instanceof _ && \"function\" == typeof S && S instanceof S) && (h = !1);\n            }\n\n            return a.delete(e), a.delete(t), h;\n          }(e, t, n, r, i, s);\n        }(e, t, n, r, De, i));\n      }\n\n      function Ne(e) {\n        return !(!$e(e) || function (e) {\n          return !!Y && Y in e;\n        }(e)) && (Ke(e) ? ee : O).test(Ge(e));\n      }\n\n      function Me(e) {\n        if (n = (t = e) && t.constructor, r = \"function\" == typeof n && n.prototype || z, t !== r) return ue(e);\n        var t,\n            n,\n            r,\n            i = [];\n\n        for (var o in Object(e)) {\n          Q.call(e, o) && \"constructor\" != o && i.push(o);\n        }\n\n        return i;\n      }\n\n      function Le(e, t, n, r, i, s) {\n        var c = n & o,\n            u = e.length,\n            d = t.length;\n        if (u != d && !(c && d > u)) return !1;\n        var l = s.get(e);\n        if (l && s.get(t)) return l == t;\n        var p = -1,\n            f = !0,\n            h = n & a ? new Re() : void 0;\n\n        for (s.set(e, t), s.set(t, e); ++p < u;) {\n          var m = e[p],\n              v = t[p];\n          if (r) var g = c ? r(v, m, p, t, e, s) : r(m, v, p, e, t, s);\n\n          if (void 0 !== g) {\n            if (g) continue;\n            f = !1;\n            break;\n          }\n\n          if (h) {\n            if (!H(t, function (e, t) {\n              if (o = t, !h.has(o) && (m === e || i(m, e, n, r, s))) return h.push(t);\n              var o;\n            })) {\n              f = !1;\n              break;\n            }\n          } else if (m !== v && !i(m, v, n, r, s)) {\n            f = !1;\n            break;\n          }\n        }\n\n        return s.delete(e), s.delete(t), f;\n      }\n\n      function xe(e) {\n        return function (e, t, n) {\n          var r = t(e);\n          return qe(e) ? r : function (e, t) {\n            for (var n = -1, r = t.length, i = e.length; ++n < r;) {\n              e[i + n] = t[n];\n            }\n\n            return e;\n          }(r, n(e));\n        }(e, Ye, Ue);\n      }\n\n      function je(e, t) {\n        var n,\n            r,\n            i = e.__data__;\n        return (\"string\" == (r = typeof (n = t)) || \"number\" == r || \"symbol\" == r || \"boolean\" == r ? \"__proto__\" !== n : null === n) ? i[\"string\" == typeof t ? \"string\" : \"hash\"] : i.map;\n      }\n\n      function Fe(e, t) {\n        var n = function (e, t) {\n          return null == e ? void 0 : e[t];\n        }(e, t);\n\n        return Ne(n) ? n : void 0;\n      }\n\n      Te.prototype.clear = function () {\n        this.__data__ = me ? me(null) : {}, this.size = 0;\n      }, Te.prototype.delete = function (e) {\n        var t = this.has(e) && delete this.__data__[e];\n        return this.size -= t ? 1 : 0, t;\n      }, Te.prototype.get = function (e) {\n        var t = this.__data__;\n\n        if (me) {\n          var n = t[e];\n          return n === i ? void 0 : n;\n        }\n\n        return Q.call(t, e) ? t[e] : void 0;\n      }, Te.prototype.has = function (e) {\n        var t = this.__data__;\n        return me ? void 0 !== t[e] : Q.call(t, e);\n      }, Te.prototype.set = function (e, t) {\n        var n = this.__data__;\n        return this.size += this.has(e) ? 0 : 1, n[e] = me && void 0 === t ? i : t, this;\n      }, Ce.prototype.clear = function () {\n        this.__data__ = [], this.size = 0;\n      }, Ce.prototype.delete = function (e) {\n        var t = this.__data__,\n            n = ke(t, e);\n        return !(n < 0) && (n == t.length - 1 ? t.pop() : oe.call(t, n, 1), --this.size, !0);\n      }, Ce.prototype.get = function (e) {\n        var t = this.__data__,\n            n = ke(t, e);\n        return n < 0 ? void 0 : t[n][1];\n      }, Ce.prototype.has = function (e) {\n        return ke(this.__data__, e) > -1;\n      }, Ce.prototype.set = function (e, t) {\n        var n = this.__data__,\n            r = ke(n, e);\n        return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this;\n      }, Ae.prototype.clear = function () {\n        this.size = 0, this.__data__ = {\n          hash: new Te(),\n          map: new (le || Ce)(),\n          string: new Te()\n        };\n      }, Ae.prototype.delete = function (e) {\n        var t = je(this, e).delete(e);\n        return this.size -= t ? 1 : 0, t;\n      }, Ae.prototype.get = function (e) {\n        return je(this, e).get(e);\n      }, Ae.prototype.has = function (e) {\n        return je(this, e).has(e);\n      }, Ae.prototype.set = function (e, t) {\n        var n = je(this, e),\n            r = n.size;\n        return n.set(e, t), this.size += n.size == r ? 0 : 1, this;\n      }, Re.prototype.add = Re.prototype.push = function (e) {\n        return this.__data__.set(e, i), this;\n      }, Re.prototype.has = function (e) {\n        return this.__data__.has(e);\n      }, we.prototype.clear = function () {\n        this.__data__ = new Ce(), this.size = 0;\n      }, we.prototype.delete = function (e) {\n        var t = this.__data__,\n            n = t.delete(e);\n        return this.size = t.size, n;\n      }, we.prototype.get = function (e) {\n        return this.__data__.get(e);\n      }, we.prototype.has = function (e) {\n        return this.__data__.has(e);\n      }, we.prototype.set = function (e, t) {\n        var n = this.__data__;\n\n        if (n instanceof Ce) {\n          var i = n.__data__;\n          if (!le || i.length < r - 1) return i.push([e, t]), this.size = ++n.size, this;\n          n = this.__data__ = new Ae(i);\n        }\n\n        return n.set(e, t), this.size = n.size, this;\n      };\n      var Ue = se ? function (e) {\n        return null == e ? [] : (e = Object(e), function (e, t) {\n          for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) {\n            var a = e[n];\n            t(a, n, e) && (o[i++] = a);\n          }\n\n          return o;\n        }(se(e), function (t) {\n          return ie.call(e, t);\n        }));\n      } : function () {\n        return [];\n      },\n          He = Pe;\n\n      function Je(e, t) {\n        return !!(t = null == t ? s : t) && (\"number\" == typeof e || k.test(e)) && e > -1 && e % 1 == 0 && e < t;\n      }\n\n      function Ge(e) {\n        if (null != e) {\n          try {\n            return X.call(e);\n          } catch (e) {}\n\n          try {\n            return e + \"\";\n          } catch (e) {}\n        }\n\n        return \"\";\n      }\n\n      function Be(e, t) {\n        return e === t || e != e && t != t;\n      }\n\n      (de && He(new de(new ArrayBuffer(1))) != w || le && He(new le()) != v || pe && \"[object Promise]\" != He(pe.resolve()) || fe && He(new fe()) != E || he && \"[object WeakMap]\" != He(new he())) && (He = function He(e) {\n        var t = Pe(e),\n            n = t == _ ? e.constructor : void 0,\n            r = n ? Ge(n) : \"\";\n        if (r) switch (r) {\n          case ve:\n            return w;\n\n          case ge:\n            return v;\n\n          case ye:\n            return \"[object Promise]\";\n\n          case _e:\n            return E;\n\n          case Se:\n            return \"[object WeakMap]\";\n        }\n        return t;\n      });\n      var Ve = Ie(function () {\n        return arguments;\n      }()) ? Ie : function (e) {\n        return Xe(e) && Q.call(e, \"callee\") && !ie.call(e, \"callee\");\n      },\n          qe = Array.isArray;\n\n      var We = ce || function () {\n        return !1;\n      };\n\n      function Ke(e) {\n        if (!$e(e)) return !1;\n        var t = Pe(e);\n        return t == h || t == m || t == d || t == S;\n      }\n\n      function ze(e) {\n        return \"number\" == typeof e && e > -1 && e % 1 == 0 && e <= s;\n      }\n\n      function $e(e) {\n        var t = typeof e;\n        return null != e && (\"object\" == t || \"function\" == t);\n      }\n\n      function Xe(e) {\n        return null != e && \"object\" == typeof e;\n      }\n\n      var Qe = U ? function (e) {\n        return function (t) {\n          return e(t);\n        };\n      }(U) : function (e) {\n        return Xe(e) && ze(e.length) && !!P[Pe(e)];\n      };\n\n      function Ye(e) {\n        return null != (t = e) && ze(t.length) && !Ke(t) ? Oe(e) : Me(e);\n        var t;\n      }\n\n      n.exports = function (e, t) {\n        return De(e, t);\n      };\n    }).call(this, n(44), n(147)(e));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return b;\n      });\n\n      var r = n(2),\n          i = n(6),\n          o = n(57),\n          a = n.n(o),\n          s = n(82),\n          c = n.n(s),\n          u = n(4),\n          d = n(17),\n          l = n(1),\n          p = n(9),\n          f = n(8),\n          h = n.n(f),\n          m = n(14),\n          v = n.n(m),\n          g = n(5),\n          y = n(0),\n          _ = n.n(y),\n          S = Object(u.getLogger)(e);\n\n      function b(e) {\n        this.conference = e, this.xmppListeners = {}, e.on(l.TRACK_MUTE_CHANGED, function (t) {\n          if (t.isLocal() && e.statistics) {\n            var n = t.isP2P ? e.p2pJingleSession : e.jvbJingleSession,\n                r = n && n.peerconnection || null;\n            e.statistics.sendMuteEvent(r, t.isMuted(), t.getType());\n          }\n        });\n      }\n\n      b.prototype.setupChatRoomListeners = function () {\n        var e = this,\n            t = this.conference,\n            n = t.room;\n        this.chatRoomForwarder = new c.a(n, this.conference.eventEmitter), n.addListener(_.a.ICE_RESTARTING, function (e) {\n          e.isP2P || t.rtc.closeBridgeChannel();\n        }), n.addListener(_.a.ICE_RESTART_SUCCESS, function (e, n) {\n          !e.isP2P && t._setBridgeChannel(n, e.peerconnection);\n        }), n.addListener(_.a.AUDIO_MUTED_BY_FOCUS, function (e) {\n          g.a.sendAnalytics(Object(i.K)()), t.mutedByFocusActor = e, t.rtc.setAudioMute(!0).then(function () {\n            t.isMutedByFocus = !0, t.mutedByFocusActor = null;\n          }).catch(function (e) {\n            t.mutedByFocusActor = null, S.warn(\"Error while audio muting due to focus request\", e);\n          });\n        }), this.chatRoomForwarder.forward(_.a.SUBJECT_CHANGED, l.SUBJECT_CHANGED), this.chatRoomForwarder.forward(_.a.MUC_JOINED, l.CONFERENCE_JOINED), n.addListener(_.a.MUC_JOINED, function () {\n          e.conference.isJvbConnectionInterrupted = !1, Object.keys(n.connectionTimes).forEach(function (e) {\n            var t = Object(i.C)(\"conference_\".concat(e), {\n              value: n.connectionTimes[e]\n            });\n            g.a.sendAnalytics(t);\n          }), Object.keys(n.xmpp.connectionTimes).forEach(function (e) {\n            var t = Object(i.C)(\"xmpp_\".concat(e), {\n              value: n.xmpp.connectionTimes[e]\n            });\n            g.a.sendAnalytics(t);\n          });\n        }), n.addListener(_.a.RENEGOTIATION_FAILED, function (e, n) {\n          n.isP2P || t.eventEmitter.emit(l.CONFERENCE_FAILED, d.OFFER_ANSWER_FAILED, e);\n        }), this.chatRoomForwarder.forward(_.a.ROOM_JOIN_ERROR, l.CONFERENCE_FAILED, d.CONNECTION_ERROR), this.chatRoomForwarder.forward(_.a.ROOM_CONNECT_ERROR, l.CONFERENCE_FAILED, d.CONNECTION_ERROR), this.chatRoomForwarder.forward(_.a.ROOM_CONNECT_NOT_ALLOWED_ERROR, l.CONFERENCE_FAILED, d.NOT_ALLOWED_ERROR), this.chatRoomForwarder.forward(_.a.ROOM_MAX_USERS_ERROR, l.CONFERENCE_FAILED, d.CONFERENCE_MAX_USERS), this.chatRoomForwarder.forward(_.a.PASSWORD_REQUIRED, l.CONFERENCE_FAILED, d.PASSWORD_REQUIRED), this.chatRoomForwarder.forward(_.a.AUTHENTICATION_REQUIRED, l.CONFERENCE_FAILED, d.AUTHENTICATION_REQUIRED), this.chatRoomForwarder.forward(_.a.BRIDGE_DOWN, l.CONFERENCE_FAILED, d.VIDEOBRIDGE_NOT_AVAILABLE), n.addListener(_.a.BRIDGE_DOWN, function () {\n          return g.a.sendAnalytics(Object(i.z)());\n        }), this.chatRoomForwarder.forward(_.a.RESERVATION_ERROR, l.CONFERENCE_FAILED, d.RESERVATION_ERROR), this.chatRoomForwarder.forward(_.a.GRACEFUL_SHUTDOWN, l.CONFERENCE_FAILED, d.GRACEFUL_SHUTDOWN), n.addListener(_.a.CONNECTION_ICE_FAILED, function (e) {\n          t._onIceConnectionFailed(e);\n        }), this.chatRoomForwarder.forward(_.a.MUC_DESTROYED, l.CONFERENCE_FAILED, d.CONFERENCE_DESTROYED), this.chatRoomForwarder.forward(_.a.CHAT_ERROR_RECEIVED, l.CONFERENCE_ERROR, d.CHAT_ERROR), this.chatRoomForwarder.forward(_.a.FOCUS_DISCONNECTED, l.CONFERENCE_FAILED, d.FOCUS_DISCONNECTED), n.addListener(_.a.FOCUS_LEFT, function () {\n          g.a.sendAnalytics(Object(i.E)()), t.eventEmitter.emit(l.CONFERENCE_FAILED, d.FOCUS_LEFT);\n        }), n.addListener(_.a.SESSION_ACCEPT_TIMEOUT, function (e) {\n          g.a.sendAnalyticsAndLog(Object(i.G)(i.b, {\n            p2p: e.isP2P\n          }));\n        }), n.addListener(_.a.RECORDER_STATE_CHANGED, function (e, n) {\n          if (n) {\n            var i = t.getParticipantById(r.Strophe.getResourceFromJid(n));\n            \"off\" === e.getStatus() ? e.setTerminator(i) : \"on\" === e.getStatus() && e.setInitiator(i);\n          }\n\n          t.eventEmitter.emit(l.RECORDER_STATE_CHANGED, e);\n        }), this.chatRoomForwarder.forward(_.a.TRANSCRIPTION_STATUS_CHANGED, l.TRANSCRIPTION_STATUS_CHANGED), this.chatRoomForwarder.forward(_.a.VIDEO_SIP_GW_AVAILABILITY_CHANGED, l.VIDEO_SIP_GW_AVAILABILITY_CHANGED), this.chatRoomForwarder.forward(_.a.VIDEO_SIP_GW_SESSION_STATE_CHANGED, l.VIDEO_SIP_GW_SESSION_STATE_CHANGED), this.chatRoomForwarder.forward(_.a.PHONE_NUMBER_CHANGED, l.PHONE_NUMBER_CHANGED), n.setParticipantPropertyListener(function (e, n) {\n          var r = t.getParticipantById(n);\n          r && r.setProperty(e.tagName.substring(\"jitsi_participant_\".length), e.value);\n        }), n.addListener(_.a.KICKED, t.onMemberKicked.bind(t)), n.addListener(_.a.SUSPEND_DETECTED, t.onSuspendDetected.bind(t)), this.chatRoomForwarder.forward(_.a.MUC_LOCK_CHANGED, l.LOCK_STATE_CHANGED), n.addListener(_.a.MUC_MEMBER_JOINED, t.onMemberJoined.bind(t)), n.addListener(_.a.MUC_MEMBER_BOT_TYPE_CHANGED, t._onMemberBotTypeChanged.bind(t)), n.addListener(_.a.MUC_MEMBER_LEFT, t.onMemberLeft.bind(t)), this.chatRoomForwarder.forward(_.a.MUC_LEFT, l.CONFERENCE_LEFT), n.addListener(_.a.DISPLAY_NAME_CHANGED, t.onDisplayNameChanged.bind(t)), n.addListener(_.a.LOCAL_ROLE_CHANGED, function (e) {\n          t.onLocalRoleChanged(e), t.statistics && t.isModerator() && t.on(l.RECORDER_STATE_CHANGED, function (e) {\n            var t = {\n              error: e.getError(),\n              id: \"recorder_status\",\n              status: e.getStatus()\n            };\n            g.a.sendLog(JSON.stringify(t));\n          });\n        }), n.addListener(_.a.MUC_ROLE_CHANGED, t.onUserRoleChanged.bind(t)), n.addListener(a.a.IDENTITY_UPDATED, function (e, n) {\n          t.authEnabled = e, t.authIdentity = n, t.eventEmitter.emit(l.AUTH_STATUS_CHANGED, e, n);\n        }), n.addListener(_.a.MESSAGE_RECEIVED, function (e, n, i, o, a) {\n          var s = r.Strophe.getResourceFromJid(e);\n          t.eventEmitter.emit(l.MESSAGE_RECEIVED, s, i, a, n);\n        }), n.addListener(_.a.PRIVATE_MESSAGE_RECEIVED, function (e, n, i, o, a) {\n          var s = r.Strophe.getResourceFromJid(e);\n          t.eventEmitter.emit(l.PRIVATE_MESSAGE_RECEIVED, s, i, a);\n        }), n.addListener(_.a.PRESENCE_STATUS, function (e, n) {\n          var i = r.Strophe.getResourceFromJid(e),\n              o = t.getParticipantById(i);\n          o && o._status !== n && (o._status = n, t.eventEmitter.emit(l.USER_STATUS_CHANGED, i, n));\n        }), n.addListener(_.a.JSON_MESSAGE_RECEIVED, function (e, n) {\n          var i = r.Strophe.getResourceFromJid(e),\n              o = t.getParticipantById(i);\n          o ? t.eventEmitter.emit(l.ENDPOINT_MESSAGE_RECEIVED, o, n) : S.warn(\"Ignored XMPPEvents.JSON_MESSAGE_RECEIVED for not existing \" + \"participant: \".concat(e), n);\n        }), n.addPresenceListener(\"startmuted\", function (e, n) {\n          var r = !1;\n          if (t.myUserId() === n && t.isModerator()) r = !0;else {\n            var i = t.getParticipantById(n);\n            i && i.isModerator() && (r = !0);\n          }\n\n          if (r) {\n            var o = \"true\" === e.attributes.audio,\n                a = \"true\" === e.attributes.video,\n                s = !1;\n            o !== t.startMutedPolicy.audio && (t.startMutedPolicy.audio = o, s = !0), a !== t.startMutedPolicy.video && (t.startMutedPolicy.video = a, s = !0), s && t.eventEmitter.emit(l.START_MUTED_POLICY_CHANGED, t.startMutedPolicy);\n          }\n        }), t.statistics && (n.addListener(_.a.CONNECTION_ICE_FAILED, function (e) {\n          t.statistics.sendIceConnectionFailedEvent(e.peerconnection);\n        }), n.addListener(_.a.ADD_ICE_CANDIDATE_FAILED, function (e, n) {\n          t.statistics.sendAddIceCandidateFailed(e, n);\n        }));\n      }, b.prototype.setupRTCListeners = function () {\n        var e = this.conference,\n            t = e.rtc;\n        t.addListener(h.a.REMOTE_TRACK_ADDED, e.onRemoteTrackAdded.bind(e)), t.addListener(h.a.REMOTE_TRACK_REMOVED, e.onRemoteTrackRemoved.bind(e)), t.addListener(h.a.DOMINANT_SPEAKER_CHANGED, function (t) {\n          e.lastDominantSpeaker !== t && e.room && (e.lastDominantSpeaker = t, e.eventEmitter.emit(l.DOMINANT_SPEAKER_CHANGED, t), e.statistics && e.myUserId() === t && e.statistics.sendDominantSpeakerEvent(e.room.roomjid));\n        }), t.addListener(h.a.DATA_CHANNEL_OPEN, function () {\n          var t = window.performance.now(),\n              n = \"data.channel.opened\";\n          S.log(\"(TIME) \".concat(n), t), e.room.connectionTimes[n] = t, g.a.sendAnalytics(Object(i.C)(n, {\n            value: t\n          })), e.eventEmitter.emit(l.DATA_CHANNEL_OPENED);\n        }), t.addListener(h.a.ENDPOINT_MESSAGE_RECEIVED, function (t, n) {\n          var r = e.getParticipantById(t);\n          r ? e.eventEmitter.emit(l.ENDPOINT_MESSAGE_RECEIVED, r, n) : S.warn(\"Ignored ENDPOINT_MESSAGE_RECEIVED for not existing \" + \"participant: \".concat(t), n);\n        }), t.addListener(h.a.LOCAL_UFRAG_CHANGED, function (e, t) {\n          e.isP2P || g.a.sendLog(JSON.stringify({\n            id: \"local_ufrag\",\n            value: t\n          }));\n        }), t.addListener(h.a.REMOTE_UFRAG_CHANGED, function (e, t) {\n          e.isP2P || g.a.sendLog(JSON.stringify({\n            id: \"remote_ufrag\",\n            value: t\n          }));\n        }), t.addListener(h.a.CREATE_ANSWER_FAILED, function (t, n) {\n          e.statistics.sendCreateAnswerFailed(t, n), n.isP2P || e.eventEmitter.emit(l.CONFERENCE_FAILED, d.OFFER_ANSWER_FAILED, t);\n        }), t.addListener(h.a.CREATE_OFFER_FAILED, function (t, n) {\n          e.statistics.sendCreateOfferFailed(t, n), n.isP2P || e.eventEmitter.emit(l.CONFERENCE_FAILED, d.OFFER_ANSWER_FAILED, t);\n        }), t.addListener(h.a.SET_LOCAL_DESCRIPTION_FAILED, function (t, n) {\n          e.statistics.sendSetLocalDescFailed(t, n), n.isP2P || e.eventEmitter.emit(l.CONFERENCE_FAILED, d.OFFER_ANSWER_FAILED, t);\n        }), t.addListener(h.a.SET_REMOTE_DESCRIPTION_FAILED, function (t, n) {\n          e.statistics.sendSetRemoteDescFailed(t, n), n.isP2P || e.eventEmitter.emit(l.CONFERENCE_FAILED, d.OFFER_ANSWER_FAILED, t);\n        }), t.addListener(h.a.LOCAL_TRACK_SSRC_UPDATED, function (t, n) {\n          t.isVideoTrack() && t.videoType === v.a.DESKTOP && e.statistics.sendScreenSharingEvent(!0, n);\n        });\n      }, b.prototype.removeXMPPListeners = function () {\n        var e = this,\n            t = this.conference;\n        t.xmpp.caps.removeListener(_.a.PARTCIPANT_FEATURES_CHANGED, this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED]), delete this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED], Object.keys(this.xmppListeners).forEach(function (n) {\n          t.xmpp.removeListener(n, e.xmppListeners[n]);\n        }), this.xmppListeners = {};\n      }, b.prototype.setupXMPPListeners = function () {\n        var e = this.conference,\n            t = function t(_t6) {\n          var n = e.getParticipantById(r.Strophe.getResourceFromJid(_t6));\n          n && e.eventEmitter.emit(l.PARTCIPANT_FEATURES_CHANGED, n);\n        };\n\n        e.xmpp.caps.addListener(_.a.PARTCIPANT_FEATURES_CHANGED, t), this.xmppListeners[_.a.PARTCIPANT_FEATURES_CHANGED] = t, this._addConferenceXMPPListener(_.a.CALL_INCOMING, e.onIncomingCall.bind(e)), this._addConferenceXMPPListener(_.a.CALL_ACCEPTED, e.onCallAccepted.bind(e)), this._addConferenceXMPPListener(_.a.TRANSPORT_INFO, e.onTransportInfo.bind(e)), this._addConferenceXMPPListener(_.a.CALL_ENDED, e.onCallEnded.bind(e)), this._addConferenceXMPPListener(_.a.START_MUTED_FROM_FOCUS, function (t, n) {\n          e.options.config.ignoreStartMuted || (e.startAudioMuted = t, e.startVideoMuted = n, e.getLocalTracks().forEach(function (t) {\n            switch (t.getType()) {\n              case p.a:\n                e.startAudioMuted && t.mute();\n                break;\n\n              case p.c:\n                e.startVideoMuted && t.mute();\n            }\n          }), e.eventEmitter.emit(l.STARTED_MUTED));\n        });\n      }, b.prototype._addConferenceXMPPListener = function (e, t) {\n        this.xmppListeners[e] = t, this.conference.xmpp.addListener(e, t);\n      }, b.prototype.setupStatisticsListeners = function () {\n        var e = this.conference;\n        e.statistics && (e.statistics.addAudioLevelListener(function (t, n, r, i) {\n          e.rtc.setAudioLevel(t, n, r, i);\n        }), e.statistics.addBeforeDisposedListener(function () {\n          e.eventEmitter.emit(l.BEFORE_STATISTICS_DISPOSED);\n        }), e.options.config.startSilent || e.statistics.addByteSentStatsListener(function (t, n) {\n          e.getLocalTracks(p.a).forEach(function (e) {\n            var r = t.getLocalSSRC(e);\n            r && n.hasOwnProperty(r) && e._onByteSentStatsReceived(t, n[r]);\n          });\n        }));\n      };\n    }).call(this, \"JitsiConferenceEventManager.js\");\n  }, function (e, t) {\n    function n(e, t) {\n      if (!e || !t || \"function\" != typeof e.addListener || \"function\" != typeof t.emit) throw new Error(\"Invalid arguments passed to EventEmitterForwarder\");\n      this.src = e, this.dest = t;\n    }\n\n    n.prototype.forward = function () {\n      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {\n        t[n] = arguments[n];\n      }\n\n      var r = t[0];\n      t[0] = this.dest, this.src.addListener(r, Function.prototype.bind.apply(this.dest.emit, t));\n    }, e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return d;\n      });\n      var r = n(2),\n          i = n(4),\n          o = n(1),\n          a = n(42),\n          s = n(9);\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var u = Object(i.getLogger)(e),\n          d = function () {\n        function e(t, n, i, o, s, c, u) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._jid = t, this._id = r.Strophe.getResourceFromJid(t), this._conference = n, this._displayName = i, this._supportsDTMF = !1, this._tracks = [], this._role = \"none\", this._status = c, this._hidden = o, this._statsID = s, this._connectionStatus = a.a.ACTIVE, this._properties = {}, this._identity = u;\n        }\n\n        var t, n, i;\n        return t = e, (n = [{\n          key: \"getConference\",\n          value: function value() {\n            return this._conference;\n          }\n        }, {\n          key: \"getProperty\",\n          value: function value(e) {\n            return this._properties[e];\n          }\n        }, {\n          key: \"hasAnyVideoTrackWebRTCMuted\",\n          value: function value() {\n            return this.getTracks().some(function (e) {\n              return e.getType() === s.c && e.isWebRTCTrackMuted();\n            });\n          }\n        }, {\n          key: \"_setConnectionStatus\",\n          value: function value(e) {\n            this._connectionStatus = e;\n          }\n        }, {\n          key: \"getConnectionStatus\",\n          value: function value() {\n            return this._connectionStatus;\n          }\n        }, {\n          key: \"setProperty\",\n          value: function value(e, t) {\n            var n = this._properties[e];\n            t !== n && (this._properties[e] = t, this._conference.eventEmitter.emit(o.PARTICIPANT_PROPERTY_CHANGED, this, e, n, t));\n          }\n        }, {\n          key: \"getTracks\",\n          value: function value() {\n            return this._tracks.slice();\n          }\n        }, {\n          key: \"getTracksByMediaType\",\n          value: function value(e) {\n            return this.getTracks().filter(function (t) {\n              return t.getType() === e;\n            });\n          }\n        }, {\n          key: \"getId\",\n          value: function value() {\n            return this._id;\n          }\n        }, {\n          key: \"getJid\",\n          value: function value() {\n            return this._jid;\n          }\n        }, {\n          key: \"getDisplayName\",\n          value: function value() {\n            return this._displayName;\n          }\n        }, {\n          key: \"getStatsID\",\n          value: function value() {\n            return this._statsID;\n          }\n        }, {\n          key: \"getStatus\",\n          value: function value() {\n            return this._status;\n          }\n        }, {\n          key: \"isModerator\",\n          value: function value() {\n            return \"moderator\" === this._role;\n          }\n        }, {\n          key: \"isHidden\",\n          value: function value() {\n            return this._hidden;\n          }\n        }, {\n          key: \"isAudioMuted\",\n          value: function value() {\n            return this._isMediaTypeMuted(s.a);\n          }\n        }, {\n          key: \"_isMediaTypeMuted\",\n          value: function value(e) {\n            return this.getTracks().reduce(function (t, n) {\n              return t && (n.getType() !== e || n.isMuted());\n            }, !0);\n          }\n        }, {\n          key: \"isVideoMuted\",\n          value: function value() {\n            return this._isMediaTypeMuted(s.c);\n          }\n        }, {\n          key: \"getRole\",\n          value: function value() {\n            return this._role;\n          }\n        }, {\n          key: \"supportsDTMF\",\n          value: function value() {\n            return this._supportsDTMF;\n          }\n        }, {\n          key: \"getFeatures\",\n          value: function value() {\n            var e = this,\n                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5e3;\n            return this._conference.xmpp.caps.getFeatures(this._jid, t).catch(function (n) {\n              return n && n.constructor === String ? e._conference.xmpp.caps.getFeatures(e._jid, t) : (u.warn(\"Failed to discover features of \".concat(e._jid), n), Promise.reject(n));\n            });\n          }\n        }, {\n          key: \"getBotType\",\n          value: function value() {\n            return this._botType;\n          }\n        }]) && c(t.prototype, n), i && c(t, i), e;\n      }();\n    }).call(this, \"JitsiParticipant.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return o;\n    });\n    var r = n(21),\n        i = n(36);\n\n    function o(e) {\n      var t,\n          n = this,\n          o = e.id,\n          a = e.password,\n          s = e.onCreateResource,\n          c = e.onLoginSuccessful,\n          u = e.roomPassword,\n          d = !1,\n          l = new i.c(this.connection.options),\n          p = new Promise(function (e, i) {\n        t = i, l.addListener(r.CONNECTION_DISCONNECTED, function () {\n          l = void 0;\n        }), l.addListener(r.CONNECTION_ESTABLISHED, function () {\n          d || (c && c(), l.createRoom(n.options.name, n.options.config, s).moderator.authenticate().then(function () {\n            l && l.disconnect(), d || (n.join(u), e());\n          }).catch(function (e) {\n            var t = e.error,\n                n = e.message;\n            l.disconnect(), i({\n              authenticationError: t,\n              message: n\n            });\n          }));\n        }), l.addListener(r.CONNECTION_FAILED, function (e, t, n) {\n          i({\n            connectionError: e,\n            credentials: n,\n            message: t\n          }), l = void 0;\n        }), d || l.connect(o, a);\n      });\n      return p.cancel = function () {\n        d = !0, t({}), l && l.disconnect();\n      }, p;\n    }\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(2),\n          o = n(86),\n          a = n(35),\n          s = n(0),\n          c = n.n(s);\n\n      function u(e) {\n        return (u = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function d(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function l(e, t) {\n        return !t || \"object\" !== u(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function p(e, t, n) {\n        return (p = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n          var r = function (e, t) {\n            for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e));) {\n              ;\n            }\n\n            return e;\n          }(e, t);\n\n          if (r) {\n            var i = Object.getOwnPropertyDescriptor(r, t);\n            return i.get ? i.get.call(n) : i.value;\n          }\n        })(e, t, n || e);\n      }\n\n      function f(e) {\n        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function h(e, t) {\n        return (h = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var m = Object(r.getLogger)(e),\n          v = function (e) {\n        function t(e) {\n          var n;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (n = l(this, f(t).call(this))).xmpp = e, n.rooms = {}, n;\n        }\n\n        var n, r, a;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && h(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"init\",\n          value: function value(e) {\n            p(f(t.prototype), \"init\", this).call(this, e), this.connection.addHandler(this.onPresence.bind(this), null, \"presence\", null, null, null, null), this.connection.addHandler(this.onPresenceUnavailable.bind(this), null, \"presence\", \"unavailable\", null), this.connection.addHandler(this.onPresenceError.bind(this), null, \"presence\", \"error\", null), this.connection.addHandler(this.onMessage.bind(this), null, \"message\", null, null), this.connection.addHandler(this.onMute.bind(this), \"http://jitsi.org/jitmeet/audio\", \"iq\", \"set\", null, null);\n          }\n        }, {\n          key: \"createRoom\",\n          value: function value(e, t, n) {\n            var r = i.Strophe.getBareJidFromJid(e);\n\n            if (this.rooms[r]) {\n              var a = \"You are already in the room!\";\n              throw m.error(a), new Error(a);\n            }\n\n            return this.rooms[r] = new o.a(this.connection, e, t, this.xmpp, n), this.eventEmitter.emit(c.a.EMUC_ROOM_ADDED, this.rooms[r]), this.rooms[r];\n          }\n        }, {\n          key: \"doLeave\",\n          value: function value(e) {\n            this.eventEmitter.emit(c.a.EMUC_ROOM_REMOVED, this.rooms[e]), delete this.rooms[e];\n          }\n        }, {\n          key: \"onPresence\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\");\n            if (e.getAttribute(\"type\")) return !0;\n            var n = this.rooms[i.Strophe.getBareJidFromJid(t)];\n            return !n || ($(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"201\"]').length && n.createNonAnonymousRoom(), n.onPresence(e), !0);\n          }\n        }, {\n          key: \"onPresenceUnavailable\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = this.rooms[i.Strophe.getBareJidFromJid(t)];\n            return !n || (n.onPresenceUnavailable(e, t), !0);\n          }\n        }, {\n          key: \"onPresenceError\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = this.rooms[i.Strophe.getBareJidFromJid(t)];\n            return !n || (n.onPresenceError(e, t), !0);\n          }\n        }, {\n          key: \"onMessage\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = this.rooms[i.Strophe.getBareJidFromJid(t)];\n            return !n || (n.onMessage(e, t), !0);\n          }\n        }, {\n          key: \"onMute\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = this.rooms[i.Strophe.getBareJidFromJid(t)];\n            return !n || (n.onMute(e), !0);\n          }\n        }]) && d(n.prototype, r), a && d(n, a), t;\n      }(a.a);\n\n      t.a = function (e) {\n        i.Strophe.addConnectionPlugin(\"emuc\", new v(e));\n      };\n    }).call(this, \"modules/xmpp/strophe.emuc.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return T;\n      });\n      var r = n(4),\n          i = n(2),\n          o = n(11),\n          a = n.n(o),\n          s = n(54),\n          c = n(25),\n          u = n(9),\n          d = n(6),\n          l = n(0),\n          p = n.n(l),\n          f = n(5),\n          h = n(87);\n\n      function m(e) {\n        return (m = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function v(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function g(e, t) {\n        return !t || \"object\" !== m(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function y(e) {\n        return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function _(e, t) {\n        return (_ = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var S = Object(r.getLogger)(e),\n          b = {\n        packet2JSON: function packet2JSON(e, t) {\n          for (var n = 0, r = Array.from(e.children); n < r.length; n++) {\n            for (var o = r[n], a = {\n              attributes: {},\n              children: [],\n              tagName: o.tagName\n            }, s = 0, c = Array.from(o.attributes); s < c.length; s++) {\n              var u = c[s];\n              a.attributes[u.name] = u.value;\n            }\n\n            var d = i.Strophe.getText(o);\n            d && (a.value = i.Strophe.xmlunescape(d)), t.push(a), this.packet2JSON(o, a.children);\n          }\n        },\n        json2packet: function json2packet(e, t) {\n          for (var n = 0; n < e.length; n++) {\n            var r = e[n];\n            r && (t.c(r.tagName, r.attributes), r.value && t.t(r.value), r.children && this.json2packet(r.children, t), t.up());\n          }\n        }\n      };\n\n      function E(e, t) {\n        for (var n = [], r = 0; r < e.length; r++) {\n          e[r].tagName === t && n.push(e[r]);\n        }\n\n        return n;\n      }\n\n      var T = function (e) {\n        function t(e, n, r, o, a) {\n          var c;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (c = g(this, y(t).call(this))).xmpp = o, c.connection = e, c.roomjid = i.Strophe.getBareJidFromJid(n), c.myroomjid = n, c.password = r, S.info(\"Joined MUC as \".concat(c.myroomjid)), c.members = {}, c.presMap = {}, c.presHandlers = {}, c.joined = !1, c.role = null, c.focusMucJid = null, c.noBridgeAvailable = !1, c.options = a || {}, c.moderator = new h.a(c.roomjid, c.xmpp, c.eventEmitter, {\n            connection: c.xmpp.options,\n            conference: c.options\n          }), c.initPresenceMap(a), c.lastPresences = {}, c.phoneNumber = null, c.phonePin = null, c.connectionTimes = {}, c.participantPropertyListener = null, c.locked = !1, c.transcriptionStatus = s.OFF, c;\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && _(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"initPresenceMap\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            this.presMap.to = this.myroomjid, this.presMap.xns = \"http://jabber.org/protocol/muc\", this.presMap.nodes = [], e.statsId && this.presMap.nodes.push({\n              tagName: \"stats-id\",\n              value: e.statsId\n            }), this.addVideoInfoToPresence(!1), e.deploymentInfo && e.deploymentInfo.userRegion && this.presMap.nodes.push({\n              tagName: \"region\",\n              attributes: {\n                id: e.deploymentInfo.userRegion,\n                xmlns: \"http://jitsi.org/jitsi-meet\"\n              }\n            });\n          }\n        }, {\n          key: \"join\",\n          value: function value(e) {\n            var t = this;\n            return this.password = e, new Promise(function (e) {\n              t.options.disableFocus && S.info(\"Conference focus disabled\"), (t.options.disableFocus ? Promise.resolve() : t.moderator.allocateConferenceFocus()).then(function () {\n                t.sendPresence(!0), e();\n              });\n            });\n          }\n        }, {\n          key: \"sendPresence\",\n          value: function value(e) {\n            var t = this.presMap.to;\n\n            if (t && (this.joined || e)) {\n              var n = Object(i.$pres)({\n                to: t\n              });\n              e && (n.c(\"x\", {\n                xmlns: this.presMap.xns\n              }), this.password && n.c(\"password\").t(this.password).up(), n.up()), b.json2packet(this.presMap.nodes, n), this.connection.send(n), e && this.connection.flush();\n            }\n          }\n        }, {\n          key: \"doLeave\",\n          value: function value() {\n            S.log(\"do leave\", this.myroomjid);\n            var e = Object(i.$pres)({\n              to: this.myroomjid,\n              type: \"unavailable\"\n            });\n            this.presMap.length = 0, this.connection.flush(), this.connection.send(e), this.connection.flush();\n          }\n        }, {\n          key: \"discoRoomInfo\",\n          value: function value() {\n            var e = this,\n                t = Object(i.$iq)({\n              type: \"get\",\n              to: this.roomjid\n            }).c(\"query\", {\n              xmlns: i.Strophe.NS.DISCO_INFO\n            });\n            this.connection.sendIQ(t, function (t) {\n              var n = 1 === $(t).find('>query>feature[var=\"muc_passwordprotected\"]').length;\n              n !== e.locked && (e.eventEmitter.emit(p.a.MUC_LOCK_CHANGED, n), e.locked = n);\n              var r = $(t).find('>query>x[type=\"result\"]>field[var=\"muc#roominfo_meetingId\"]>value');\n              r.length ? e.setMeetingId(r.text()) : S.trace(\"No meeting ID from backend\");\n            }, function (e) {\n              a.a.callErrorHandler(e), S.error(\"Error getting room info: \", e);\n            });\n          }\n        }, {\n          key: \"setMeetingId\",\n          value: function value(e) {\n            this.meetingId !== e && (this.meetingId && S.warn(\"Meeting Id changed from:\".concat(this.meetingId, \" to:\").concat(e)), this.meetingId = e, f.a.sendAnalytics(Object(d.A)(\"joined\", {\n              meetingId: e\n            })));\n          }\n        }, {\n          key: \"createNonAnonymousRoom\",\n          value: function value() {\n            var e = Object(i.$iq)({\n              type: \"get\",\n              to: this.roomjid\n            }).c(\"query\", {\n              xmlns: \"http://jabber.org/protocol/muc#owner\"\n            }).c(\"x\", {\n              xmlns: \"jabber:x:data\",\n              type: \"submit\"\n            }),\n                t = this;\n            this.connection.sendIQ(e, function (e) {\n              if (!$(e).find('>query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_whois\"]').length) {\n                var n = \"non-anonymous rooms not supported\";\n                return a.a.callErrorHandler(new Error(n)), void S.error(n);\n              }\n\n              var r = Object(i.$iq)({\n                to: t.roomjid,\n                type: \"set\"\n              }).c(\"query\", {\n                xmlns: \"http://jabber.org/protocol/muc#owner\"\n              });\n              r.c(\"x\", {\n                xmlns: \"jabber:x:data\",\n                type: \"submit\"\n              }), r.c(\"field\", {\n                var: \"FORM_TYPE\"\n              }).c(\"value\").t(\"http://jabber.org/protocol/muc#roomconfig\").up().up(), r.c(\"field\", {\n                var: \"muc#roomconfig_whois\"\n              }).c(\"value\").t(\"anyone\").up().up(), t.connection.sendIQ(r);\n            }, function (e) {\n              a.a.callErrorHandler(e), S.error(\"Error getting room configuration form: \", e);\n            });\n          }\n        }, {\n          key: \"onPresence\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = {},\n                r = e.getElementsByTagName(\"status\")[0];\n            r && (n.status = r.textContent || \"\");\n            var o = !1,\n                a = !1,\n                s = e.getElementsByTagNameNS(\"http://jabber.org/protocol/muc#user\", \"x\")[0],\n                c = s && s.getElementsByTagName(\"item\")[0];\n            n.affiliation = c && c.getAttribute(\"affiliation\"), n.role = c && c.getAttribute(\"role\");\n            var u = c && c.getAttribute(\"jid\");\n            n.jid = u, n.isFocus = u && 0 === u.indexOf(\"\".concat(this.moderator.getFocusUserJid(), \"/\")), n.isHiddenDomain = u && u.indexOf(\"@\") > 0 && this.options.hiddenDomain === u.substring(u.indexOf(\"@\") + 1, u.indexOf(\"/\")), this.eventEmitter.emit(p.a.PRESENCE_RECEIVED, {\n              fromHiddenDomain: n.isHiddenDomain,\n              presence: e\n            });\n            var d = e.querySelector(\"x\");\n            d && d.remove();\n            var l = [];\n            b.packet2JSON(e, l), this.lastPresences[t] = l;\n\n            for (var f = function f(e) {\n              var t = {},\n                  n = e.children.find(function (e) {\n                return \"user\" === e.tagName;\n              });\n\n              if (n) {\n                t.user = {};\n\n                for (var r = function r() {\n                  var e = o[i],\n                      r = n.children.find(function (t) {\n                    return t.tagName === e;\n                  });\n                  r && (t.user[e] = r.value);\n                }, i = 0, o = [\"id\", \"name\", \"avatar\"]; i < o.length; i++) {\n                  r();\n                }\n              }\n\n              var a = e.children.find(function (e) {\n                return \"group\" === e.tagName;\n              });\n              return a && (t.group = a.value), t;\n            }, h = 0; h < l.length; h++) {\n              var m = l[h];\n\n              switch (m.tagName) {\n                case \"bot\":\n                  var v = m.attributes;\n                  if (!v) break;\n                  var g = v.type;\n                  n.botType = g;\n                  break;\n\n                case \"nick\":\n                  n.nick = m.value;\n                  break;\n\n                case \"userId\":\n                  n.id = m.value;\n                  break;\n\n                case \"stats-id\":\n                  n.statsID = m.value;\n                  break;\n\n                case \"identity\":\n                  n.identity = f(m);\n                  break;\n\n                case \"stat\":\n                  var y = m.attributes;\n                  if (!y) break;\n                  \"version\" === y.name && (n.version = y.value);\n              }\n            }\n\n            if (t === this.myroomjid) {\n              var _ = \"owner\" === n.affiliation ? n.role : \"none\";\n\n              if (this.role !== _ && (this.role = _, this.eventEmitter.emit(p.a.LOCAL_ROLE_CHANGED, this.role)), !this.joined) {\n                this.joined = !0;\n                var E = this.connectionTimes[\"muc.joined\"] = window.performance.now();\n                S.log(\"(TIME) MUC joined:\\t\", E), this.password && (this.locked = !0), this.sendPresence(), this.eventEmitter.emit(p.a.MUC_JOINED), this.discoRoomInfo();\n              }\n            } else if (void 0 === u) S.info(\"Ignoring member with undefined JID\");else if (void 0 === this.members[t]) this.members[t] = n, S.log(\"entered\", t, n), o = void 0 !== n.status, a = void 0 !== n.version, n.isFocus ? this._initFocus(t, u) : (this.eventEmitter.emit(p.a.MUC_MEMBER_JOINED, t, n.nick, n.role, n.isHiddenDomain, n.statsID, n.status, n.identity, n.botType), o = !1);else {\n              var T = this.members[t];\n              T.role !== n.role && (T.role = n.role, this.eventEmitter.emit(p.a.MUC_ROLE_CHANGED, t, n.role)), T.botType !== n.botType && (T.botType = n.botType, this.eventEmitter.emit(p.a.MUC_MEMBER_BOT_TYPE_CHANGED, t, n.botType)), n.isFocus && (T.isFocus = !0, this._initFocus(t, u)), n.displayName && (T.displayName = n.displayName), T.status !== n.status && (o = !0, T.status = n.status), T.version !== n.version && (a = !0, T.version = n.version);\n            }\n\n            for (var C = 0; C < l.length; C++) {\n              var A = l[C];\n\n              switch (A.tagName) {\n                case \"nick\":\n                  if (!n.isFocus) {\n                    var R = this.xmpp.options.displayJids ? i.Strophe.getResourceFromJid(t) : n.nick;\n                    this.eventEmitter.emit(p.a.DISPLAY_NAME_CHANGED, t, R);\n                  }\n\n                  break;\n\n                case \"bridgeNotAvailable\":\n                  n.isFocus && !this.noBridgeAvailable && (this.noBridgeAvailable = !0, this.eventEmitter.emit(p.a.BRIDGE_DOWN));\n                  break;\n\n                case \"conference-properties\":\n                  if (n.isFocus) {\n                    for (var w = {}, O = 0; O < A.children.length; O++) {\n                      var k = A.children[O].attributes;\n                      k && k.key && (w[k.key] = k.value);\n                    }\n\n                    this.eventEmitter.emit(p.a.CONFERENCE_PROPERTIES_CHANGED, w);\n                  }\n\n                  break;\n\n                case \"transcription-status\":\n                  var P = A.attributes;\n                  if (!P) break;\n                  var I = P.status;\n                  I && I !== this.transcriptionStatus && (this.transcriptionStatus = I, this.eventEmitter.emit(p.a.TRANSCRIPTION_STATUS_CHANGED, I));\n                  break;\n\n                case \"call-control\":\n                  var D = A.attributes;\n                  if (!D) break;\n                  this.phoneNumber = D.phone || null, this.phonePin = D.pin || null, this.eventEmitter.emit(p.a.PHONE_NUMBER_CHANGED);\n                  break;\n\n                default:\n                  this.processNode(A, t);\n              }\n            }\n\n            o && this.eventEmitter.emit(p.a.PRESENCE_STATUS, t, n.status), a && S.info(\"Received version for \".concat(u, \": \").concat(n.version));\n          }\n        }, {\n          key: \"_initFocus\",\n          value: function value(e, t) {\n            this.focusMucJid = e, S.info(\"Ignore focus: \".concat(e, \", real JID: \").concat(t));\n          }\n        }, {\n          key: \"setParticipantPropertyListener\",\n          value: function value(e) {\n            this.participantPropertyListener = e;\n          }\n        }, {\n          key: \"processNode\",\n          value: function value(e, t) {\n            try {\n              var n = this.presHandlers[e.tagName];\n              e.tagName.startsWith(\"jitsi_participant_\") && (n = [this.participantPropertyListener]), n && n.forEach(function (n) {\n                n(e, i.Strophe.getResourceFromJid(t), t);\n              });\n            } catch (t) {\n              a.a.callErrorHandler(t), S.error(\"Error processing:\".concat(e.tagName, \" node.\"), t);\n            }\n          }\n        }, {\n          key: \"sendMessage\",\n          value: function value(e, t, n) {\n            var r = Object(i.$msg)({\n              to: this.roomjid,\n              type: \"groupchat\"\n            });\n            \"body\" === t ? r.c(t, e).up() : r.c(t, {\n              xmlns: \"http://jitsi.org/jitmeet\"\n            }, e).up(), n && r.c(\"nick\", {\n              xmlns: \"http://jabber.org/protocol/nick\"\n            }).t(n).up().up(), this.connection.send(r), this.eventEmitter.emit(p.a.SENDING_CHAT_MESSAGE, e);\n          }\n        }, {\n          key: \"sendPrivateMessage\",\n          value: function value(e, t, n, r) {\n            var o = Object(i.$msg)({\n              to: \"\".concat(this.roomjid, \"/\").concat(e),\n              type: \"chat\"\n            });\n            \"body\" === n ? o.c(n, t).up() : o.c(n, {\n              xmlns: \"http://jitsi.org/jitmeet\"\n            }, t).up(), r && o.c(\"nick\", {\n              xmlns: \"http://jabber.org/protocol/nick\"\n            }).t(r).up().up(), this.connection.send(o), this.eventEmitter.emit(p.a.SENDING_PRIVATE_CHAT_MESSAGE, t);\n          }\n        }, {\n          key: \"setSubject\",\n          value: function value(e) {\n            var t = Object(i.$msg)({\n              to: this.roomjid,\n              type: \"groupchat\"\n            });\n            t.c(\"subject\", e), this.connection.send(t);\n          }\n        }, {\n          key: \"onParticipantLeft\",\n          value: function value(e, t) {\n            delete this.lastPresences[e], t || (this.eventEmitter.emit(p.a.MUC_MEMBER_LEFT, e), this.moderator.onMucMemberLeft(e));\n          }\n        }, {\n          key: \"onPresenceUnavailable\",\n          value: function value(e, t) {\n            var n = this;\n            if ($(e).find('>ignore[xmlns=\"http://jitsi.org/jitmeet/\"]').length) return !0;\n\n            if ($(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy').length) {\n              var r,\n                  o = $(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy>reason');\n              return o.length && (r = o.text()), this.eventEmitter.emit(p.a.MUC_DESTROYED, r), this.connection.emuc.doLeave(this.roomjid), !0;\n            }\n\n            var a = $(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"110\"]').length,\n                s = $(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"307\"]').length,\n                c = Object.keys(this.members);\n\n            if (s) {\n              var u,\n                  d = $(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>item>actor');\n              d.length && (u = d.attr(\"nick\")), c.find(function (e) {\n                return i.Strophe.getResourceFromJid(e) === u;\n              }) && this.eventEmitter.emit(p.a.KICKED, a, u, i.Strophe.getResourceFromJid(t));\n            }\n\n            a ? c.length > 0 && (c.forEach(function (e) {\n              var t = n.members[e];\n              delete n.members[e], n.onParticipantLeft(e, t.isFocus);\n            }), this.connection.emuc.doLeave(this.roomjid), s || this.eventEmitter.emit(p.a.MUC_LEFT)) : (delete this.members[t], this.onParticipantLeft(t, !1));\n          }\n        }, {\n          key: \"onMessage\",\n          value: function value(e, t) {\n            var n = $(e).find('>nick[xmlns=\"http://jabber.org/protocol/nick\"]').text() || i.Strophe.getResourceFromJid(t),\n                r = e.getAttribute(\"type\");\n\n            if (\"error\" === r) {\n              var o = $(e).find(\">error>text\").text();\n              return this.eventEmitter.emit(p.a.CHAT_ERROR_RECEIVED, o), !0;\n            }\n\n            var a = $(e).find(\">body\").text(),\n                s = $(e).find(\">subject\");\n\n            if (s.length) {\n              var c = s.text();\n              (c || \"\" === c) && (this.eventEmitter.emit(p.a.SUBJECT_CHANGED, c), S.log(\"Subject is changed to \".concat(c)));\n            }\n\n            var u = $(e).find(\">delay\").attr(\"stamp\");\n\n            if (!u && (u = $(e).find('>[xmlns=\"jabber:x:delay\"]').attr(\"stamp\"))) {\n              var d = u.match(/(\\d{4})(\\d{2})(\\d{2}T\\d{2}:\\d{2}:\\d{2})/);\n              u = \"\".concat(d[1], \"-\").concat(d[2], \"-\").concat(d[3], \"Z\");\n            }\n\n            t === this.roomjid && $(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"104\"]').length && this.discoRoomInfo();\n            var l = $(e).find(\">json-message\").text(),\n                f = this.xmpp.tryParseJSONAndVerify(l);\n            f && void 0 === u ? this.eventEmitter.emit(p.a.JSON_MESSAGE_RECEIVED, t, f) : a && (\"chat\" === r ? this.eventEmitter.emit(p.a.PRIVATE_MESSAGE_RECEIVED, t, n, a, this.myroomjid, u) : \"groupchat\" === r && this.eventEmitter.emit(p.a.MESSAGE_RECEIVED, t, n, a, this.myroomjid, u));\n          }\n        }, {\n          key: \"onPresenceError\",\n          value: function value(e, t) {\n            $(e).find('>error[type=\"auth\"]>not-authorized[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]').length ? (S.log(\"on password required\", t), this.eventEmitter.emit(p.a.PASSWORD_REQUIRED)) : $(e).find('>error[type=\"cancel\"]>not-allowed[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]').length ? i.Strophe.getDomainFromJid(e.getAttribute(\"to\")) === this.xmpp.options.hosts.anonymousdomain ? this.eventEmitter.emit(p.a.ROOM_JOIN_ERROR) : (S.warn(\"onPresError \", e), this.eventEmitter.emit(p.a.ROOM_CONNECT_NOT_ALLOWED_ERROR)) : $(e).find(\">error>service-unavailable\").length ? (S.warn(\"Maximum users limit for the room has been reached\", e), this.eventEmitter.emit(p.a.ROOM_MAX_USERS_ERROR)) : (S.warn(\"onPresError \", e), this.eventEmitter.emit(p.a.ROOM_CONNECT_ERROR));\n          }\n        }, {\n          key: \"kick\",\n          value: function value(e) {\n            var t = Object(i.$iq)({\n              to: this.roomjid,\n              type: \"set\"\n            }).c(\"query\", {\n              xmlns: \"http://jabber.org/protocol/muc#admin\"\n            }).c(\"item\", {\n              nick: i.Strophe.getResourceFromJid(e),\n              role: \"none\"\n            }).c(\"reason\").t(\"You have been kicked.\").up().up().up();\n            this.connection.sendIQ(t, function (t) {\n              return S.log(\"Kick participant with jid: \", e, t);\n            }, function (e) {\n              return S.log(\"Kick participant error: \", e);\n            });\n          }\n        }, {\n          key: \"lockRoom\",\n          value: function value(e, t, n, r) {\n            var o = this;\n            this.connection.sendIQ(Object(i.$iq)({\n              to: this.roomjid,\n              type: \"get\"\n            }).c(\"query\", {\n              xmlns: \"http://jabber.org/protocol/muc#owner\"\n            }), function (a) {\n              if ($(a).find('>query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_roomsecret\"]').length) {\n                var s = Object(i.$iq)({\n                  to: o.roomjid,\n                  type: \"set\"\n                }).c(\"query\", {\n                  xmlns: \"http://jabber.org/protocol/muc#owner\"\n                });\n                s.c(\"x\", {\n                  xmlns: \"jabber:x:data\",\n                  type: \"submit\"\n                }), s.c(\"field\", {\n                  var: \"FORM_TYPE\"\n                }).c(\"value\").t(\"http://jabber.org/protocol/muc#roomconfig\").up().up(), s.c(\"field\", {\n                  var: \"muc#roomconfig_roomsecret\"\n                }).c(\"value\").t(e).up().up(), s.c(\"field\", {\n                  var: \"muc#roomconfig_whois\"\n                }).c(\"value\").t(\"anyone\").up().up(), o.connection.sendIQ(s, t, n);\n              } else r();\n            }, n);\n          }\n        }, {\n          key: \"addToPresence\",\n          value: function value(e, t) {\n            t.tagName = e, this.removeFromPresence(e), this.presMap.nodes.push(t);\n          }\n        }, {\n          key: \"getFromPresence\",\n          value: function value(e) {\n            return this.presMap.nodes.find(function (t) {\n              return e === t.tagName;\n            });\n          }\n        }, {\n          key: \"removeFromPresence\",\n          value: function value(e) {\n            var t = this.presMap.nodes.filter(function (t) {\n              return e !== t.tagName;\n            });\n            this.presMap.nodes = t;\n          }\n        }, {\n          key: \"addPresenceListener\",\n          value: function value(e, t) {\n            if (\"function\" != typeof t) throw new Error('\"handler\" is not a function');\n            var n = this.presHandlers[e];\n            n || (this.presHandlers[e] = n = []), -1 === n.indexOf(t) ? n.push(t) : S.warn(\"Trying to add the same handler more than once for: \".concat(e));\n          }\n        }, {\n          key: \"removePresenceListener\",\n          value: function value(e, t) {\n            var n = this.presHandlers[e],\n                r = n ? n.indexOf(t) : -1;\n            -1 !== r ? n.splice(r, 1) : S.warn(\"Handler for: \".concat(e, \" was not registered\"));\n          }\n        }, {\n          key: \"isFocus\",\n          value: function value(e) {\n            var t = this.members[e];\n            return t ? t.isFocus : null;\n          }\n        }, {\n          key: \"isModerator\",\n          value: function value() {\n            return \"moderator\" === this.role;\n          }\n        }, {\n          key: \"getMemberRole\",\n          value: function value(e) {\n            return this.members[e] ? this.members[e].role : null;\n          }\n        }, {\n          key: \"setVideoMute\",\n          value: function value(e, t) {\n            this.sendVideoInfoPresence(e), t && t(e);\n          }\n        }, {\n          key: \"setAudioMute\",\n          value: function value(e, t) {\n            return this.sendAudioInfoPresence(e, t);\n          }\n        }, {\n          key: \"addAudioInfoToPresence\",\n          value: function value(e) {\n            this.removeFromPresence(\"audiomuted\"), this.addToPresence(\"audiomuted\", {\n              attributes: {\n                xmlns: \"http://jitsi.org/jitmeet/audio\"\n              },\n              value: e.toString()\n            });\n          }\n        }, {\n          key: \"sendAudioInfoPresence\",\n          value: function value(e, t) {\n            this.addAudioInfoToPresence(e), this.connection && this.sendPresence(), t && t();\n          }\n        }, {\n          key: \"addVideoInfoToPresence\",\n          value: function value(e) {\n            this.removeFromPresence(\"videomuted\"), this.addToPresence(\"videomuted\", {\n              attributes: {\n                xmlns: \"http://jitsi.org/jitmeet/video\"\n              },\n              value: e.toString()\n            });\n          }\n        }, {\n          key: \"sendVideoInfoPresence\",\n          value: function value(e) {\n            this.addVideoInfoToPresence(e), this.connection && this.sendPresence();\n          }\n        }, {\n          key: \"getMediaPresenceInfo\",\n          value: function value(e, t) {\n            var n = this.lastPresences[\"\".concat(this.roomjid, \"/\").concat(e)];\n            if (!n) return null;\n            var r = {\n              muted: !1,\n              videoType: void 0\n            },\n                i = null;\n            if (t === u.a) i = E(n, \"audiomuted\");else {\n              if (t !== u.c) return S.error(\"Unsupported media type: \".concat(t)), null;\n              i = E(n, \"videomuted\");\n              var o = E(n, \"videoType\");\n              o.length > 0 && (r.videoType = o[0].value);\n            }\n            return r.muted = i.length > 0 && \"true\" === i[0].value, r;\n          }\n        }, {\n          key: \"isSIPCallingSupported\",\n          value: function value() {\n            return !!this.moderator && this.moderator.isSipGatewayEnabled();\n          }\n        }, {\n          key: \"dial\",\n          value: function value(e) {\n            return this.connection.rayo.dial(e, \"fromnumber\", i.Strophe.getBareJidFromJid(this.myroomjid), this.password, this.focusMucJid);\n          }\n        }, {\n          key: \"hangup\",\n          value: function value() {\n            return this.connection.rayo.hangup();\n          }\n        }, {\n          key: \"getPhoneNumber\",\n          value: function value() {\n            return this.phoneNumber;\n          }\n        }, {\n          key: \"getPhonePin\",\n          value: function value() {\n            return this.phonePin;\n          }\n        }, {\n          key: \"getMeetingId\",\n          value: function value() {\n            return this.meetingId;\n          }\n        }, {\n          key: \"muteParticipant\",\n          value: function value(e, t) {\n            S.info(\"set mute\", t);\n            var n = Object(i.$iq)({\n              to: this.focusMucJid,\n              type: \"set\"\n            }).c(\"mute\", {\n              xmlns: \"http://jitsi.org/jitmeet/audio\",\n              jid: e\n            }).t(t.toString()).up();\n            this.connection.sendIQ(n, function (e) {\n              return S.log(\"set mute\", e);\n            }, function (e) {\n              return S.log(\"set mute error\", e);\n            });\n          }\n        }, {\n          key: \"onMute\",\n          value: function value(e) {\n            if (e.getAttribute(\"from\") === this.focusMucJid) {\n              var t = $(e).find(\"mute\");\n              t.length && \"true\" === t.text() ? this.eventEmitter.emit(p.a.AUDIO_MUTED_BY_FOCUS, t.attr(\"actor\")) : S.warn(\"Ignoring a mute request which does not explicitly specify a positive mute command.\");\n            } else S.warn(\"Ignored mute from non focus peer\");\n          }\n        }, {\n          key: \"leave\",\n          value: function value() {\n            var e = this;\n            return new Promise(function (t, n) {\n              var r = setTimeout(function () {\n                return o(!0);\n              }, 5e3),\n                  i = e.eventEmitter;\n\n              function o() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n                i.removeListener(p.a.MUC_LEFT, o), clearTimeout(r), e ? n(new Error(\"The timeout for the confirmation about leaving the room expired.\")) : t();\n              }\n\n              i.on(p.a.MUC_LEFT, o), e.doLeave();\n            });\n          }\n        }]) && v(n.prototype, r), o && v(n, o), t;\n      }(c.a);\n    }).call(this, \"modules/xmpp/ChatRoom.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return l;\n      });\n      var r = n(2),\n          i = n(3),\n          o = n(33),\n          a = n(4).getLogger(e),\n          s = n(0),\n          c = n(57),\n          u = n(11);\n\n      function d(e) {\n        var t = 1;\n        return function (n) {\n          if (!n) {\n            var r = Math.pow(2, t - 1);\n            return t += 1, r * e;\n          }\n\n          t = 1;\n        };\n      }\n\n      function l(e, t, n, r) {\n        function i(e) {\n          if (e.data && e.data.sessionId) {\n            if (e.origin !== window.location.origin) return void a.warn(\"Ignoring sessionId from different origin: \".concat(e.origin));\n            o.a.sessionId = e.data.sessionId;\n          }\n        }\n\n        this.roomName = e, this.xmppService = t, this.getNextTimeout = d(1e3), this.getNextErrorTimeout = d(1e3), this.externalAuthEnabled = !1, this.options = r, this.sipGatewayEnabled = this.options.connection.hosts && void 0 !== this.options.connection.hosts.call_control, this.eventEmitter = n, this.connection = this.xmppService.connection, window.addEventListener ? window.addEventListener(\"message\", i, !1) : window.attachEvent(\"onmessage\", i);\n      }\n\n      l.prototype.isExternalAuthEnabled = function () {\n        return this.externalAuthEnabled;\n      }, l.prototype.isSipGatewayEnabled = function () {\n        return this.sipGatewayEnabled;\n      }, l.prototype.onMucMemberLeft = function (e) {\n        a.info(\"Someone left is it focus ? \".concat(e)), \"focus\" === r.Strophe.getResourceFromJid(e) && (a.info(\"Focus has left the room - leaving conference\"), this.eventEmitter.emit(s.FOCUS_LEFT));\n      }, l.prototype.setFocusUserJid = function (e) {\n        this.focusUserJid || (this.focusUserJid = e, a.info(\"Focus jid set to:  \".concat(this.focusUserJid)));\n      }, l.prototype.getFocusUserJid = function () {\n        return this.focusUserJid;\n      }, l.prototype.getFocusComponent = function () {\n        var e = this.options.connection.hosts.focus;\n        return e || (e = \"focus.\".concat(this.options.connection.hosts.domain)), e;\n      }, l.prototype.createConferenceIq = function () {\n        var e,\n            t = Object(r.$iq)({\n          to: this.getFocusComponent(),\n          type: \"set\"\n        }),\n            n = o.a.sessionId,\n            s = o.a.machineId,\n            c = this.options.conference;\n\n        switch (a.info(\"Session ID: \".concat(n, \" machine UID: \").concat(s)), t.c(\"conference\", {\n          xmlns: \"http://jitsi.org/protocol/focus\",\n          room: this.roomName,\n          \"machine-uid\": s\n        }), n && t.attrs({\n          \"session-id\": n\n        }), void 0 !== this.options.connection.enforcedBridge && t.c(\"property\", {\n          name: \"enforcedBridge\",\n          value: this.options.connection.enforcedBridge\n        }).up(), void 0 !== this.options.connection.hosts && void 0 !== this.options.connection.hosts.call_control && t.c(\"property\", {\n          name: \"call_control\",\n          value: this.options.connection.hosts.call_control\n        }).up(), void 0 !== c.channelLastN && t.c(\"property\", {\n          name: \"channelLastN\",\n          value: c.channelLastN\n        }).up(), t.c(\"property\", {\n          name: \"disableRtx\",\n          value: Boolean(c.disableRtx)\n        }).up(), void 0 !== c.enableTcc && t.c(\"property\", {\n          name: \"enableTcc\",\n          value: Boolean(c.enableTcc)\n        }).up(), void 0 !== c.enableRemb && t.c(\"property\", {\n          name: \"enableRemb\",\n          value: Boolean(c.enableRemb)\n        }).up(), void 0 !== c.minParticipants && t.c(\"property\", {\n          name: \"minParticipants\",\n          value: c.minParticipants\n        }).up(), t.c(\"property\", {\n          name: \"enableLipSync\",\n          value: !1 !== this.options.connection.enableLipSync\n        }).up(), void 0 !== c.audioPacketDelay && t.c(\"property\", {\n          name: \"audioPacketDelay\",\n          value: c.audioPacketDelay\n        }).up(), c.startBitrate && t.c(\"property\", {\n          name: \"startBitrate\",\n          value: c.startBitrate\n        }).up(), c.minBitrate && t.c(\"property\", {\n          name: \"minBitrate\",\n          value: c.minBitrate\n        }).up(), c.testing && c.testing.octo && \"number\" == typeof c.testing.octo.probability && Math.random() < c.testing.octo.probability && t.c(\"property\", {\n          name: \"octo\",\n          value: !0\n        }).up(), this.options.conference.openBridgeChannel) {\n          case \"datachannel\":\n          case !0:\n          case void 0:\n            e = !0;\n            break;\n\n          case \"websocket\":\n            e = !1;\n        }\n\n        return e && !i.a.supportsDataChannels() && (e = !1), t.c(\"property\", {\n          name: \"openSctp\",\n          value: e\n        }).up(), void 0 !== this.options.conference.startAudioMuted && t.c(\"property\", {\n          name: \"startAudioMuted\",\n          value: this.options.conference.startAudioMuted\n        }).up(), void 0 !== this.options.conference.startVideoMuted && t.c(\"property\", {\n          name: \"startVideoMuted\",\n          value: this.options.conference.startVideoMuted\n        }).up(), void 0 !== this.options.conference.stereo && t.c(\"property\", {\n          name: \"stereo\",\n          value: this.options.conference.stereo\n        }).up(), void 0 !== this.options.conference.useRoomAsSharedDocumentName && t.c(\"property\", {\n          name: \"useRoomAsSharedDocumentName\",\n          value: this.options.conference.useRoomAsSharedDocumentName\n        }).up(), t.up(), t;\n      }, l.prototype.parseSessionId = function (e) {\n        var t = $(e).find(\"conference\").attr(\"session-id\");\n        t && (a.info(\"Received sessionId:  \".concat(t)), o.a.sessionId = t);\n      }, l.prototype.parseConfigOptions = function (e) {\n        this.setFocusUserJid($(e).find(\"conference\").attr(\"focusjid\"));\n        var t = $(e).find(\">conference>property[name='authentication'][value='true']\").length > 0;\n        a.info(\"Authentication enabled: \".concat(t)), this.externalAuthEnabled = $(e).find(\">conference>property[name='externalAuth'][value='true']\").length > 0, a.info(\"External authentication enabled: \".concat(this.externalAuthEnabled)), this.externalAuthEnabled || this.parseSessionId(e);\n        var n = $(e).find(\">conference\").attr(\"identity\");\n        this.eventEmitter.emit(c.IDENTITY_UPDATED, t, n), $(e).find(\">conference>property[name='sipGatewayEnabled'][value='true']\").length && (this.sipGatewayEnabled = !0), a.info(\"Sip gateway enabled:  \".concat(this.sipGatewayEnabled));\n      }, l.prototype.allocateConferenceFocus = function () {\n        var e = this;\n        return new Promise(function (t) {\n          e.setFocusUserJid(e.options.connection.focusUserJid), e.connection.sendIQ(e.createConferenceIq(), function (n) {\n            return e._allocateConferenceFocusSuccess(n, t);\n          }, function (n) {\n            return e._allocateConferenceFocusError(n, t);\n          }), e.connection.flush();\n        });\n      }, l.prototype._allocateConferenceFocusError = function (e, t) {\n        var n = this,\n            i = $(e).find(\">error>session-invalid\").length || $(e).find(\">error>not-acceptable\").length;\n        if (i && (a.info(\"Session expired! - removing\"), o.a.sessionId = void 0), $(e).find(\">error>graceful-shutdown\").length) this.eventEmitter.emit(s.GRACEFUL_SHUTDOWN);else {\n          var c = $(e).find(\">error>reservation-error\");\n\n          if (c.length) {\n            var d,\n                l = c.attr(\"error-code\"),\n                p = $(e).find(\">error>text\");\n            return p && (d = p.text()), void this.eventEmitter.emit(s.RESERVATION_ERROR, l, d);\n          }\n\n          if ($(e).find(\">error>not-authorized\").length) return a.warn(\"Unauthorized to start the conference\", e), r.Strophe.getDomainFromJid(e.getAttribute(\"to\")) !== this.options.connection.hosts.anonymousdomain && (this.externalAuthEnabled = !0), void this.eventEmitter.emit(s.AUTHENTICATION_REQUIRED);\n          var f = this.getNextErrorTimeout(),\n              h = \"Focus error, retry after \".concat(f);\n          u.callErrorHandler(new Error(h)), a.error(h, e);\n          var m = this.getFocusComponent(),\n              v = f / 1e3;\n          i || this.eventEmitter.emit(s.FOCUS_DISCONNECTED, m, v), this.getNextTimeout(!0), window.setTimeout(function () {\n            return n.allocateConferenceFocus().then(t);\n          }, f);\n        }\n      }, l.prototype._allocateConferenceFocusSuccess = function (e, t) {\n        var n = this;\n        if (this.parseConfigOptions(e), this.getNextErrorTimeout(!0), \"true\" === $(e).find(\"conference\").attr(\"ready\")) this.getNextTimeout(!0), t();else {\n          var r = this.getNextTimeout();\n          a.info(\"Waiting for the focus... \".concat(r)), window.setTimeout(function () {\n            return n.allocateConferenceFocus().then(t);\n          }, r);\n        }\n      }, l.prototype.authenticate = function () {\n        var e = this;\n        return new Promise(function (t, n) {\n          e.connection.sendIQ(e.createConferenceIq(), function (n) {\n            e.parseSessionId(n), t();\n          }, function (e) {\n            return n({\n              error: $(e).find(\"iq>error :first\").prop(\"tagName\"),\n              message: $(e).find(\"iq>error>text\").text()\n            });\n          });\n        });\n      }, l.prototype.getLoginUrl = function (e, t) {\n        this._getLoginUrl(!1, e, t);\n      }, l.prototype._getLoginUrl = function (e, t, n) {\n        var i = Object(r.$iq)({\n          to: this.getFocusComponent(),\n          type: \"get\"\n        }),\n            s = {\n          xmlns: \"http://jitsi.org/protocol/focus\",\n          room: this.roomName,\n          \"machine-uid\": o.a.machineId\n        },\n            c = \"auth url\";\n\n        function d(e, t) {\n          u.callErrorHandler(new Error(e)), a.error(e, t), n(t);\n        }\n\n        e && (s.popup = !0, c = \"POPUP \".concat(c)), i.c(\"login-url\", s), this.connection.sendIQ(i, function (e) {\n          var n = $(e).find(\"login-url\").attr(\"url\");\n          (n = decodeURIComponent(n)) ? (a.info(\"Got \".concat(c, \": \").concat(n)), t(n)) : d(\"Failed to get \".concat(c, \" from the focus\"), e);\n        }, d.bind(void 0, \"Get \".concat(c, \" error\")));\n      }, l.prototype.getPopupLoginUrl = function (e, t) {\n        this._getLoginUrl(!0, e, t);\n      }, l.prototype.logout = function (e) {\n        var t = Object(r.$iq)({\n          to: this.getFocusComponent(),\n          type: \"set\"\n        }),\n            n = o.a.sessionId;\n        n ? (t.c(\"logout\", {\n          xmlns: \"http://jitsi.org/protocol/focus\",\n          \"session-id\": n\n        }), this.connection.sendIQ(t, function (t) {\n          var n = $(t).find(\"logout\").attr(\"logout-url\");\n          n && (n = decodeURIComponent(n)), a.info(\"Log out OK, url: \".concat(n), t), o.a.sessionId = void 0, e(n);\n        }, function (e) {\n          u.callErrorHandler(new Error(\"Logout error\")), a.error(\"Logout error\", e);\n        })) : e();\n      };\n    }).call(this, \"modules/xmpp/moderator.js\");\n  }, function (e, t, n) {\n    var r = n(34),\n        i = [\"Aaliyah\", \"Aaron\", \"Abagail\", \"Abbey\", \"Abbie\", \"Abbigail\", \"Abby\", \"Abdiel\", \"Abdul\", \"Abdullah\", \"Abe\", \"Abel\", \"Abelardo\", \"Abigail\", \"Abigale\", \"Abigayle\", \"Abner\", \"Abraham\", \"Ada\", \"Adah\", \"Adalberto\", \"Adaline\", \"Adam\", \"Adan\", \"Addie\", \"Addison\", \"Adela\", \"Adelbert\", \"Adele\", \"Adelia\", \"Adeline\", \"Adell\", \"Adella\", \"Adelle\", \"Aditya\", \"Adolf\", \"Adolfo\", \"Adolph\", \"Adolphus\", \"Adonis\", \"Adrain\", \"Adrian\", \"Adriana\", \"Adrianna\", \"Adriel\", \"Adrien\", \"Adrienne\", \"Afton\", \"Aglae\", \"Agnes\", \"Agustin\", \"Agustina\", \"Ahmad\", \"Ahmed\", \"Aida\", \"Aidan\", \"Aiden\", \"Aileen\", \"Aisha\", \"Aiyana\", \"Akeem\", \"Al\", \"Alaina\", \"Alan\", \"Alana\", \"Alanis\", \"Alanna\", \"Alayna\", \"Alba\", \"Albert\", \"Alberta\", \"Albertha\", \"Alberto\", \"Albin\", \"Albina\", \"Alda\", \"Alden\", \"Alec\", \"Aleen\", \"Alejandra\", \"Alejandrin\", \"Alek\", \"Alena\", \"Alene\", \"Alessandra\", \"Alessandro\", \"Alessia\", \"Aletha\", \"Alex\", \"Alexa\", \"Alexander\", \"Alexandra\", \"Alexandre\", \"Alexandrea\", \"Alexandria\", \"Alexandrine\", \"Alexandro\", \"Alexane\", \"Alexanne\", \"Alexie\", \"Alexis\", \"Alexys\", \"Alexzander\", \"Alf\", \"Alfonso\", \"Alfonzo\", \"Alford\", \"Alfred\", \"Alfreda\", \"Alfredo\", \"Ali\", \"Alia\", \"Alice\", \"Alicia\", \"Alisa\", \"Alisha\", \"Alison\", \"Alivia\", \"Aliya\", \"Aliyah\", \"Aliza\", \"Alize\", \"Allan\", \"Allen\", \"Allene\", \"Allie\", \"Allison\", \"Ally\", \"Alphonso\", \"Alta\", \"Althea\", \"Alva\", \"Alvah\", \"Alvena\", \"Alvera\", \"Alverta\", \"Alvina\", \"Alvis\", \"Alyce\", \"Alycia\", \"Alysa\", \"Alysha\", \"Alyson\", \"Alysson\", \"Amalia\", \"Amanda\", \"Amani\", \"Amara\", \"Amari\", \"Amaya\", \"Amber\", \"Ambrose\", \"Amelia\", \"Amelie\", \"Amely\", \"America\", \"Americo\", \"Amie\", \"Amina\", \"Amir\", \"Amira\", \"Amiya\", \"Amos\", \"Amparo\", \"Amy\", \"Amya\", \"Ana\", \"Anabel\", \"Anabelle\", \"Anahi\", \"Anais\", \"Anastacio\", \"Anastasia\", \"Anderson\", \"Andre\", \"Andreane\", \"Andreanne\", \"Andres\", \"Andrew\", \"Andy\", \"Angel\", \"Angela\", \"Angelica\", \"Angelina\", \"Angeline\", \"Angelita\", \"Angelo\", \"Angie\", \"Angus\", \"Anibal\", \"Anika\", \"Anissa\", \"Anita\", \"Aniya\", \"Aniyah\", \"Anjali\", \"Anna\", \"Annabel\", \"Annabell\", \"Annabelle\", \"Annalise\", \"Annamae\", \"Annamarie\", \"Anne\", \"Annetta\", \"Annette\", \"Annie\", \"Ansel\", \"Ansley\", \"Anthony\", \"Antoinette\", \"Antone\", \"Antonetta\", \"Antonette\", \"Antonia\", \"Antonietta\", \"Antonina\", \"Antonio\", \"Antwan\", \"Antwon\", \"Anya\", \"April\", \"Ara\", \"Araceli\", \"Aracely\", \"Arch\", \"Archibald\", \"Ardella\", \"Arden\", \"Ardith\", \"Arely\", \"Ari\", \"Ariane\", \"Arianna\", \"Aric\", \"Ariel\", \"Arielle\", \"Arjun\", \"Arlene\", \"Arlie\", \"Arlo\", \"Armand\", \"Armando\", \"Armani\", \"Arnaldo\", \"Arne\", \"Arno\", \"Arnold\", \"Arnoldo\", \"Arnulfo\", \"Aron\", \"Art\", \"Arthur\", \"Arturo\", \"Arvel\", \"Arvid\", \"Arvilla\", \"Aryanna\", \"Asa\", \"Asha\", \"Ashlee\", \"Ashleigh\", \"Ashley\", \"Ashly\", \"Ashlynn\", \"Ashton\", \"Ashtyn\", \"Asia\", \"Assunta\", \"Astrid\", \"Athena\", \"Aubree\", \"Aubrey\", \"Audie\", \"Audra\", \"Audreanne\", \"Audrey\", \"August\", \"Augusta\", \"Augustine\", \"Augustus\", \"Aurelia\", \"Aurelie\", \"Aurelio\", \"Aurore\", \"Austen\", \"Austin\", \"Austyn\", \"Autumn\", \"Ava\", \"Avery\", \"Avis\", \"Axel\", \"Ayana\", \"Ayden\", \"Ayla\", \"Aylin\", \"Baby\", \"Bailee\", \"Bailey\", \"Barbara\", \"Barney\", \"Baron\", \"Barrett\", \"Barry\", \"Bart\", \"Bartholome\", \"Barton\", \"Baylee\", \"Beatrice\", \"Beau\", \"Beaulah\", \"Bell\", \"Bella\", \"Belle\", \"Ben\", \"Benedict\", \"Benjamin\", \"Bennett\", \"Bennie\", \"Benny\", \"Benton\", \"Berenice\", \"Bernadette\", \"Bernadine\", \"Bernard\", \"Bernardo\", \"Berneice\", \"Bernhard\", \"Bernice\", \"Bernie\", \"Berniece\", \"Bernita\", \"Berry\", \"Bert\", \"Berta\", \"Bertha\", \"Bertram\", \"Bertrand\", \"Beryl\", \"Bessie\", \"Beth\", \"Bethany\", \"Bethel\", \"Betsy\", \"Bette\", \"Bettie\", \"Betty\", \"Bettye\", \"Beulah\", \"Beverly\", \"Bianka\", \"Bill\", \"Billie\", \"Billy\", \"Birdie\", \"Blair\", \"Blaise\", \"Blake\", \"Blanca\", \"Blanche\", \"Blaze\", \"Bo\", \"Bobbie\", \"Bobby\", \"Bonita\", \"Bonnie\", \"Boris\", \"Boyd\", \"Brad\", \"Braden\", \"Bradford\", \"Bradley\", \"Bradly\", \"Brady\", \"Braeden\", \"Brain\", \"Brandi\", \"Brando\", \"Brandon\", \"Brandt\", \"Brandy\", \"Brandyn\", \"Brannon\", \"Branson\", \"Brant\", \"Braulio\", \"Braxton\", \"Brayan\", \"Breana\", \"Breanna\", \"Breanne\", \"Brenda\", \"Brendan\", \"Brenden\", \"Brendon\", \"Brenna\", \"Brennan\", \"Brennon\", \"Brent\", \"Bret\", \"Brett\", \"Bria\", \"Brian\", \"Briana\", \"Brianne\", \"Brice\", \"Bridget\", \"Bridgette\", \"Bridie\", \"Brielle\", \"Brigitte\", \"Brionna\", \"Brisa\", \"Britney\", \"Brittany\", \"Brock\", \"Broderick\", \"Brody\", \"Brook\", \"Brooke\", \"Brooklyn\", \"Brooks\", \"Brown\", \"Bruce\", \"Bryana\", \"Bryce\", \"Brycen\", \"Bryon\", \"Buck\", \"Bud\", \"Buddy\", \"Buford\", \"Bulah\", \"Burdette\", \"Burley\", \"Burnice\", \"Buster\", \"Cade\", \"Caden\", \"Caesar\", \"Caitlyn\", \"Cale\", \"Caleb\", \"Caleigh\", \"Cali\", \"Calista\", \"Callie\", \"Camden\", \"Cameron\", \"Camila\", \"Camilla\", \"Camille\", \"Camren\", \"Camron\", \"Camryn\", \"Camylle\", \"Candace\", \"Candelario\", \"Candice\", \"Candida\", \"Candido\", \"Cara\", \"Carey\", \"Carissa\", \"Carlee\", \"Carleton\", \"Carley\", \"Carli\", \"Carlie\", \"Carlo\", \"Carlos\", \"Carlotta\", \"Carmel\", \"Carmela\", \"Carmella\", \"Carmelo\", \"Carmen\", \"Carmine\", \"Carol\", \"Carolanne\", \"Carole\", \"Carolina\", \"Caroline\", \"Carolyn\", \"Carolyne\", \"Carrie\", \"Carroll\", \"Carson\", \"Carter\", \"Cary\", \"Casandra\", \"Casey\", \"Casimer\", \"Casimir\", \"Casper\", \"Cassandra\", \"Cassandre\", \"Cassidy\", \"Cassie\", \"Catalina\", \"Caterina\", \"Catharine\", \"Catherine\", \"Cathrine\", \"Cathryn\", \"Cathy\", \"Cayla\", \"Ceasar\", \"Cecelia\", \"Cecil\", \"Cecile\", \"Cecilia\", \"Cedrick\", \"Celestine\", \"Celestino\", \"Celia\", \"Celine\", \"Cesar\", \"Chad\", \"Chadd\", \"Chadrick\", \"Chaim\", \"Chance\", \"Chandler\", \"Chanel\", \"Chanelle\", \"Charity\", \"Charlene\", \"Charles\", \"Charley\", \"Charlie\", \"Charlotte\", \"Chase\", \"Chasity\", \"Chauncey\", \"Chaya\", \"Chaz\", \"Chelsea\", \"Chelsey\", \"Chelsie\", \"Chesley\", \"Chester\", \"Chet\", \"Cheyanne\", \"Cheyenne\", \"Chloe\", \"Chris\", \"Christ\", \"Christa\", \"Christelle\", \"Christian\", \"Christiana\", \"Christina\", \"Christine\", \"Christop\", \"Christophe\", \"Christopher\", \"Christy\", \"Chyna\", \"Ciara\", \"Cicero\", \"Cielo\", \"Cierra\", \"Cindy\", \"Citlalli\", \"Clair\", \"Claire\", \"Clara\", \"Clarabelle\", \"Clare\", \"Clarissa\", \"Clark\", \"Claud\", \"Claude\", \"Claudia\", \"Claudie\", \"Claudine\", \"Clay\", \"Clemens\", \"Clement\", \"Clementina\", \"Clementine\", \"Clemmie\", \"Cleo\", \"Cleora\", \"Cleta\", \"Cletus\", \"Cleve\", \"Cleveland\", \"Clifford\", \"Clifton\", \"Clint\", \"Clinton\", \"Clotilde\", \"Clovis\", \"Cloyd\", \"Clyde\", \"Coby\", \"Cody\", \"Colby\", \"Cole\", \"Coleman\", \"Colin\", \"Colleen\", \"Collin\", \"Colt\", \"Colten\", \"Colton\", \"Columbus\", \"Concepcion\", \"Conner\", \"Connie\", \"Connor\", \"Conor\", \"Conrad\", \"Constance\", \"Constantin\", \"Consuelo\", \"Cooper\", \"Cora\", \"Coralie\", \"Corbin\", \"Cordelia\", \"Cordell\", \"Cordia\", \"Cordie\", \"Corene\", \"Corine\", \"Cornelius\", \"Cornell\", \"Corrine\", \"Cortez\", \"Cortney\", \"Cory\", \"Coty\", \"Courtney\", \"Coy\", \"Craig\", \"Crawford\", \"Creola\", \"Cristal\", \"Cristian\", \"Cristina\", \"Cristobal\", \"Cristopher\", \"Cruz\", \"Crystal\", \"Crystel\", \"Cullen\", \"Curt\", \"Curtis\", \"Cydney\", \"Cynthia\", \"Cyril\", \"Cyrus\", \"Dagmar\", \"Dahlia\", \"Daija\", \"Daisha\", \"Daisy\", \"Dakota\", \"Dale\", \"Dallas\", \"Dallin\", \"Dalton\", \"Damaris\", \"Dameon\", \"Damian\", \"Damien\", \"Damion\", \"Damon\", \"Dan\", \"Dana\", \"Dandre\", \"Dane\", \"D'angelo\", \"Dangelo\", \"Danial\", \"Daniela\", \"Daniella\", \"Danielle\", \"Danika\", \"Dannie\", \"Danny\", \"Dante\", \"Danyka\", \"Daphne\", \"Daphnee\", \"Daphney\", \"Darby\", \"Daren\", \"Darian\", \"Dariana\", \"Darien\", \"Dario\", \"Darion\", \"Darius\", \"Darlene\", \"Daron\", \"Darrel\", \"Darrell\", \"Darren\", \"Darrick\", \"Darrin\", \"Darrion\", \"Darron\", \"Darryl\", \"Darwin\", \"Daryl\", \"Dashawn\", \"Dasia\", \"Dave\", \"David\", \"Davin\", \"Davion\", \"Davon\", \"Davonte\", \"Dawn\", \"Dawson\", \"Dax\", \"Dayana\", \"Dayna\", \"Dayne\", \"Dayton\", \"Dean\", \"Deangelo\", \"Deanna\", \"Deborah\", \"Declan\", \"Dedric\", \"Dedrick\", \"Dee\", \"Deion\", \"Deja\", \"Dejah\", \"Dejon\", \"Dejuan\", \"Delaney\", \"Delbert\", \"Delfina\", \"Delia\", \"Delilah\", \"Dell\", \"Della\", \"Delmer\", \"Delores\", \"Delpha\", \"Delphia\", \"Delphine\", \"Delta\", \"Demarco\", \"Demarcus\", \"Demario\", \"Demetris\", \"Demetrius\", \"Demond\", \"Dena\", \"Denis\", \"Dennis\", \"Deon\", \"Deondre\", \"Deontae\", \"Deonte\", \"Dereck\", \"Derek\", \"Derick\", \"Deron\", \"Derrick\", \"Deshaun\", \"Deshawn\", \"Desiree\", \"Desmond\", \"Dessie\", \"Destany\", \"Destin\", \"Destinee\", \"Destiney\", \"Destini\", \"Destiny\", \"Devan\", \"Devante\", \"Deven\", \"Devin\", \"Devon\", \"Devonte\", \"Devyn\", \"Dewayne\", \"Dewitt\", \"Dexter\", \"Diamond\", \"Diana\", \"Dianna\", \"Diego\", \"Dillan\", \"Dillon\", \"Dimitri\", \"Dina\", \"Dino\", \"Dion\", \"Dixie\", \"Dock\", \"Dolly\", \"Dolores\", \"Domenic\", \"Domenica\", \"Domenick\", \"Domenico\", \"Domingo\", \"Dominic\", \"Dominique\", \"Don\", \"Donald\", \"Donato\", \"Donavon\", \"Donna\", \"Donnell\", \"Donnie\", \"Donny\", \"Dora\", \"Dorcas\", \"Dorian\", \"Doris\", \"Dorothea\", \"Dorothy\", \"Dorris\", \"Dortha\", \"Dorthy\", \"Doug\", \"Douglas\", \"Dovie\", \"Doyle\", \"Drake\", \"Drew\", \"Duane\", \"Dudley\", \"Dulce\", \"Duncan\", \"Durward\", \"Dustin\", \"Dusty\", \"Dwight\", \"Dylan\", \"Earl\", \"Earlene\", \"Earline\", \"Earnest\", \"Earnestine\", \"Easter\", \"Easton\", \"Ebba\", \"Ebony\", \"Ed\", \"Eda\", \"Edd\", \"Eddie\", \"Eden\", \"Edgar\", \"Edgardo\", \"Edison\", \"Edmond\", \"Edmund\", \"Edna\", \"Eduardo\", \"Edward\", \"Edwardo\", \"Edwin\", \"Edwina\", \"Edyth\", \"Edythe\", \"Effie\", \"Efrain\", \"Efren\", \"Eileen\", \"Einar\", \"Eino\", \"Eladio\", \"Elaina\", \"Elbert\", \"Elda\", \"Eldon\", \"Eldora\", \"Eldred\", \"Eldridge\", \"Eleanora\", \"Eleanore\", \"Eleazar\", \"Electa\", \"Elena\", \"Elenor\", \"Elenora\", \"Eleonore\", \"Elfrieda\", \"Eli\", \"Elian\", \"Eliane\", \"Elias\", \"Eliezer\", \"Elijah\", \"Elinor\", \"Elinore\", \"Elisa\", \"Elisabeth\", \"Elise\", \"Eliseo\", \"Elisha\", \"Elissa\", \"Eliza\", \"Elizabeth\", \"Ella\", \"Ellen\", \"Ellie\", \"Elliot\", \"Elliott\", \"Ellis\", \"Ellsworth\", \"Elmer\", \"Elmira\", \"Elmo\", \"Elmore\", \"Elna\", \"Elnora\", \"Elody\", \"Eloisa\", \"Eloise\", \"Elouise\", \"Eloy\", \"Elroy\", \"Elsa\", \"Else\", \"Elsie\", \"Elta\", \"Elton\", \"Elva\", \"Elvera\", \"Elvie\", \"Elvis\", \"Elwin\", \"Elwyn\", \"Elyse\", \"Elyssa\", \"Elza\", \"Emanuel\", \"Emelia\", \"Emelie\", \"Emely\", \"Emerald\", \"Emerson\", \"Emery\", \"Emie\", \"Emil\", \"Emile\", \"Emilia\", \"Emiliano\", \"Emilie\", \"Emilio\", \"Emily\", \"Emma\", \"Emmalee\", \"Emmanuel\", \"Emmanuelle\", \"Emmet\", \"Emmett\", \"Emmie\", \"Emmitt\", \"Emmy\", \"Emory\", \"Ena\", \"Enid\", \"Enoch\", \"Enola\", \"Enos\", \"Enrico\", \"Enrique\", \"Ephraim\", \"Era\", \"Eriberto\", \"Eric\", \"Erica\", \"Erich\", \"Erick\", \"Ericka\", \"Erik\", \"Erika\", \"Erin\", \"Erling\", \"Erna\", \"Ernest\", \"Ernestina\", \"Ernestine\", \"Ernesto\", \"Ernie\", \"Ervin\", \"Erwin\", \"Eryn\", \"Esmeralda\", \"Esperanza\", \"Esta\", \"Esteban\", \"Estefania\", \"Estel\", \"Estell\", \"Estella\", \"Estelle\", \"Estevan\", \"Esther\", \"Estrella\", \"Etha\", \"Ethan\", \"Ethel\", \"Ethelyn\", \"Ethyl\", \"Ettie\", \"Eudora\", \"Eugene\", \"Eugenia\", \"Eula\", \"Eulah\", \"Eulalia\", \"Euna\", \"Eunice\", \"Eusebio\", \"Eva\", \"Evalyn\", \"Evan\", \"Evangeline\", \"Evans\", \"Eve\", \"Eveline\", \"Evelyn\", \"Everardo\", \"Everett\", \"Everette\", \"Evert\", \"Evie\", \"Ewald\", \"Ewell\", \"Ezekiel\", \"Ezequiel\", \"Ezra\", \"Fabian\", \"Fabiola\", \"Fae\", \"Fannie\", \"Fanny\", \"Fatima\", \"Faustino\", \"Fausto\", \"Favian\", \"Fay\", \"Faye\", \"Federico\", \"Felicia\", \"Felicita\", \"Felicity\", \"Felipa\", \"Felipe\", \"Felix\", \"Felton\", \"Fermin\", \"Fern\", \"Fernando\", \"Ferne\", \"Fidel\", \"Filiberto\", \"Filomena\", \"Finn\", \"Fiona\", \"Flavie\", \"Flavio\", \"Fleta\", \"Fletcher\", \"Flo\", \"Florence\", \"Florencio\", \"Florian\", \"Florida\", \"Florine\", \"Flossie\", \"Floy\", \"Floyd\", \"Ford\", \"Forest\", \"Forrest\", \"Foster\", \"Frances\", \"Francesca\", \"Francesco\", \"Francis\", \"Francisca\", \"Francisco\", \"Franco\", \"Frank\", \"Frankie\", \"Franz\", \"Fred\", \"Freda\", \"Freddie\", \"Freddy\", \"Frederic\", \"Frederick\", \"Frederik\", \"Frederique\", \"Fredrick\", \"Fredy\", \"Freeda\", \"Freeman\", \"Freida\", \"Frida\", \"Frieda\", \"Friedrich\", \"Fritz\", \"Furman\", \"Gabe\", \"Gabriel\", \"Gabriella\", \"Gabrielle\", \"Gaetano\", \"Gage\", \"Gail\", \"Gardner\", \"Garett\", \"Garfield\", \"Garland\", \"Garnet\", \"Garnett\", \"Garret\", \"Garrett\", \"Garrick\", \"Garrison\", \"Garry\", \"Garth\", \"Gaston\", \"Gavin\", \"Gay\", \"Gayle\", \"Gaylord\", \"Gene\", \"General\", \"Genesis\", \"Genevieve\", \"Gennaro\", \"Genoveva\", \"Geo\", \"Geoffrey\", \"George\", \"Georgette\", \"Georgiana\", \"Georgianna\", \"Geovanni\", \"Geovanny\", \"Geovany\", \"Gerald\", \"Geraldine\", \"Gerard\", \"Gerardo\", \"Gerda\", \"Gerhard\", \"Germaine\", \"German\", \"Gerry\", \"Gerson\", \"Gertrude\", \"Gia\", \"Gianni\", \"Gideon\", \"Gilbert\", \"Gilberto\", \"Gilda\", \"Giles\", \"Gillian\", \"Gina\", \"Gino\", \"Giovani\", \"Giovanna\", \"Giovanni\", \"Giovanny\", \"Gisselle\", \"Giuseppe\", \"Gladyce\", \"Gladys\", \"Glen\", \"Glenda\", \"Glenna\", \"Glennie\", \"Gloria\", \"Godfrey\", \"Golda\", \"Golden\", \"Gonzalo\", \"Gordon\", \"Grace\", \"Gracie\", \"Graciela\", \"Grady\", \"Graham\", \"Grant\", \"Granville\", \"Grayce\", \"Grayson\", \"Green\", \"Greg\", \"Gregg\", \"Gregoria\", \"Gregorio\", \"Gregory\", \"Greta\", \"Gretchen\", \"Greyson\", \"Griffin\", \"Grover\", \"Guadalupe\", \"Gudrun\", \"Guido\", \"Guillermo\", \"Guiseppe\", \"Gunnar\", \"Gunner\", \"Gus\", \"Gussie\", \"Gust\", \"Gustave\", \"Guy\", \"Gwen\", \"Gwendolyn\", \"Hadley\", \"Hailee\", \"Hailey\", \"Hailie\", \"Hal\", \"Haleigh\", \"Haley\", \"Halie\", \"Halle\", \"Hallie\", \"Hank\", \"Hanna\", \"Hannah\", \"Hans\", \"Hardy\", \"Harley\", \"Harmon\", \"Harmony\", \"Harold\", \"Harrison\", \"Harry\", \"Harvey\", \"Haskell\", \"Hassan\", \"Hassie\", \"Hattie\", \"Haven\", \"Hayden\", \"Haylee\", \"Hayley\", \"Haylie\", \"Hazel\", \"Hazle\", \"Heath\", \"Heather\", \"Heaven\", \"Heber\", \"Hector\", \"Heidi\", \"Helen\", \"Helena\", \"Helene\", \"Helga\", \"Hellen\", \"Helmer\", \"Heloise\", \"Henderson\", \"Henri\", \"Henriette\", \"Henry\", \"Herbert\", \"Herman\", \"Hermann\", \"Hermina\", \"Herminia\", \"Herminio\", \"Hershel\", \"Herta\", \"Hertha\", \"Hester\", \"Hettie\", \"Hilario\", \"Hilbert\", \"Hilda\", \"Hildegard\", \"Hillard\", \"Hillary\", \"Hilma\", \"Hilton\", \"Hipolito\", \"Hiram\", \"Hobart\", \"Holden\", \"Hollie\", \"Hollis\", \"Holly\", \"Hope\", \"Horace\", \"Horacio\", \"Hortense\", \"Hosea\", \"Houston\", \"Howard\", \"Howell\", \"Hoyt\", \"Hubert\", \"Hudson\", \"Hugh\", \"Hulda\", \"Humberto\", \"Hunter\", \"Hyman\", \"Ian\", \"Ibrahim\", \"Icie\", \"Ida\", \"Idell\", \"Idella\", \"Ignacio\", \"Ignatius\", \"Ike\", \"Ila\", \"Ilene\", \"Iliana\", \"Ima\", \"Imani\", \"Imelda\", \"Immanuel\", \"Imogene\", \"Ines\", \"Irma\", \"Irving\", \"Irwin\", \"Isaac\", \"Isabel\", \"Isabell\", \"Isabella\", \"Isabelle\", \"Isac\", \"Isadore\", \"Isai\", \"Isaiah\", \"Isaias\", \"Isidro\", \"Ismael\", \"Isobel\", \"Isom\", \"Israel\", \"Issac\", \"Itzel\", \"Iva\", \"Ivah\", \"Ivory\", \"Ivy\", \"Izabella\", \"Izaiah\", \"Jabari\", \"Jace\", \"Jacey\", \"Jacinthe\", \"Jacinto\", \"Jack\", \"Jackeline\", \"Jackie\", \"Jacklyn\", \"Jackson\", \"Jacky\", \"Jaclyn\", \"Jacquelyn\", \"Jacques\", \"Jacynthe\", \"Jada\", \"Jade\", \"Jaden\", \"Jadon\", \"Jadyn\", \"Jaeden\", \"Jaida\", \"Jaiden\", \"Jailyn\", \"Jaime\", \"Jairo\", \"Jakayla\", \"Jake\", \"Jakob\", \"Jaleel\", \"Jalen\", \"Jalon\", \"Jalyn\", \"Jamaal\", \"Jamal\", \"Jamar\", \"Jamarcus\", \"Jamel\", \"Jameson\", \"Jamey\", \"Jamie\", \"Jamil\", \"Jamir\", \"Jamison\", \"Jammie\", \"Jan\", \"Jana\", \"Janae\", \"Jane\", \"Janelle\", \"Janessa\", \"Janet\", \"Janice\", \"Janick\", \"Janie\", \"Janis\", \"Janiya\", \"Jannie\", \"Jany\", \"Jaquan\", \"Jaquelin\", \"Jaqueline\", \"Jared\", \"Jaren\", \"Jarod\", \"Jaron\", \"Jarred\", \"Jarrell\", \"Jarret\", \"Jarrett\", \"Jarrod\", \"Jarvis\", \"Jasen\", \"Jasmin\", \"Jason\", \"Jasper\", \"Jaunita\", \"Javier\", \"Javon\", \"Javonte\", \"Jay\", \"Jayce\", \"Jaycee\", \"Jayda\", \"Jayde\", \"Jayden\", \"Jaydon\", \"Jaylan\", \"Jaylen\", \"Jaylin\", \"Jaylon\", \"Jayme\", \"Jayne\", \"Jayson\", \"Jazlyn\", \"Jazmin\", \"Jazmyn\", \"Jazmyne\", \"Jean\", \"Jeanette\", \"Jeanie\", \"Jeanne\", \"Jed\", \"Jedediah\", \"Jedidiah\", \"Jeff\", \"Jefferey\", \"Jeffery\", \"Jeffrey\", \"Jeffry\", \"Jena\", \"Jenifer\", \"Jennie\", \"Jennifer\", \"Jennings\", \"Jennyfer\", \"Jensen\", \"Jerad\", \"Jerald\", \"Jeramie\", \"Jeramy\", \"Jerel\", \"Jeremie\", \"Jeremy\", \"Jermain\", \"Jermaine\", \"Jermey\", \"Jerod\", \"Jerome\", \"Jeromy\", \"Jerrell\", \"Jerrod\", \"Jerrold\", \"Jerry\", \"Jess\", \"Jesse\", \"Jessica\", \"Jessie\", \"Jessika\", \"Jessy\", \"Jessyca\", \"Jesus\", \"Jett\", \"Jettie\", \"Jevon\", \"Jewel\", \"Jewell\", \"Jillian\", \"Jimmie\", \"Jimmy\", \"Jo\", \"Joan\", \"Joana\", \"Joanie\", \"Joanne\", \"Joannie\", \"Joanny\", \"Joany\", \"Joaquin\", \"Jocelyn\", \"Jodie\", \"Jody\", \"Joe\", \"Joel\", \"Joelle\", \"Joesph\", \"Joey\", \"Johan\", \"Johann\", \"Johanna\", \"Johathan\", \"John\", \"Johnathan\", \"Johnathon\", \"Johnnie\", \"Johnny\", \"Johnpaul\", \"Johnson\", \"Jolie\", \"Jon\", \"Jonas\", \"Jonatan\", \"Jonathan\", \"Jonathon\", \"Jordan\", \"Jordane\", \"Jordi\", \"Jordon\", \"Jordy\", \"Jordyn\", \"Jorge\", \"Jose\", \"Josefa\", \"Josefina\", \"Joseph\", \"Josephine\", \"Josh\", \"Joshua\", \"Joshuah\", \"Josiah\", \"Josiane\", \"Josianne\", \"Josie\", \"Josue\", \"Jovan\", \"Jovani\", \"Jovanny\", \"Jovany\", \"Joy\", \"Joyce\", \"Juana\", \"Juanita\", \"Judah\", \"Judd\", \"Jude\", \"Judge\", \"Judson\", \"Judy\", \"Jules\", \"Julia\", \"Julian\", \"Juliana\", \"Julianne\", \"Julie\", \"Julien\", \"Juliet\", \"Julio\", \"Julius\", \"June\", \"Junior\", \"Junius\", \"Justen\", \"Justice\", \"Justina\", \"Justine\", \"Juston\", \"Justus\", \"Justyn\", \"Juvenal\", \"Juwan\", \"Kacey\", \"Kaci\", \"Kacie\", \"Kade\", \"Kaden\", \"Kadin\", \"Kaela\", \"Kaelyn\", \"Kaia\", \"Kailee\", \"Kailey\", \"Kailyn\", \"Kaitlin\", \"Kaitlyn\", \"Kale\", \"Kaleb\", \"Kaleigh\", \"Kaley\", \"Kali\", \"Kallie\", \"Kameron\", \"Kamille\", \"Kamren\", \"Kamron\", \"Kamryn\", \"Kane\", \"Kara\", \"Kareem\", \"Karelle\", \"Karen\", \"Kari\", \"Kariane\", \"Karianne\", \"Karina\", \"Karine\", \"Karl\", \"Karlee\", \"Karley\", \"Karli\", \"Karlie\", \"Karolann\", \"Karson\", \"Kasandra\", \"Kasey\", \"Kassandra\", \"Katarina\", \"Katelin\", \"Katelyn\", \"Katelynn\", \"Katharina\", \"Katherine\", \"Katheryn\", \"Kathleen\", \"Kathlyn\", \"Kathryn\", \"Kathryne\", \"Katlyn\", \"Katlynn\", \"Katrina\", \"Katrine\", \"Kattie\", \"Kavon\", \"Kay\", \"Kaya\", \"Kaycee\", \"Kayden\", \"Kayla\", \"Kaylah\", \"Kaylee\", \"Kayleigh\", \"Kayley\", \"Kayli\", \"Kaylie\", \"Kaylin\", \"Keagan\", \"Keanu\", \"Keara\", \"Keaton\", \"Keegan\", \"Keeley\", \"Keely\", \"Keenan\", \"Keira\", \"Keith\", \"Kellen\", \"Kelley\", \"Kelli\", \"Kellie\", \"Kelly\", \"Kelsi\", \"Kelsie\", \"Kelton\", \"Kelvin\", \"Ken\", \"Kendall\", \"Kendra\", \"Kendrick\", \"Kenna\", \"Kennedi\", \"Kennedy\", \"Kenneth\", \"Kennith\", \"Kenny\", \"Kenton\", \"Kenya\", \"Kenyatta\", \"Kenyon\", \"Keon\", \"Keshaun\", \"Keshawn\", \"Keven\", \"Kevin\", \"Kevon\", \"Keyon\", \"Keyshawn\", \"Khalid\", \"Khalil\", \"Kian\", \"Kiana\", \"Kianna\", \"Kiara\", \"Kiarra\", \"Kiel\", \"Kiera\", \"Kieran\", \"Kiley\", \"Kim\", \"Kimberly\", \"King\", \"Kip\", \"Kira\", \"Kirk\", \"Kirsten\", \"Kirstin\", \"Kitty\", \"Kobe\", \"Koby\", \"Kody\", \"Kolby\", \"Kole\", \"Korbin\", \"Korey\", \"Kory\", \"Kraig\", \"Kris\", \"Krista\", \"Kristian\", \"Kristin\", \"Kristina\", \"Kristofer\", \"Kristoffer\", \"Kristopher\", \"Kristy\", \"Krystal\", \"Krystel\", \"Krystina\", \"Kurt\", \"Kurtis\", \"Kyla\", \"Kyle\", \"Kylee\", \"Kyleigh\", \"Kyler\", \"Kylie\", \"Kyra\", \"Lacey\", \"Lacy\", \"Ladarius\", \"Lafayette\", \"Laila\", \"Laisha\", \"Lamar\", \"Lambert\", \"Lamont\", \"Lance\", \"Landen\", \"Lane\", \"Laney\", \"Larissa\", \"Laron\", \"Larry\", \"Larue\", \"Laura\", \"Laurel\", \"Lauren\", \"Laurence\", \"Lauretta\", \"Lauriane\", \"Laurianne\", \"Laurie\", \"Laurine\", \"Laury\", \"Lauryn\", \"Lavada\", \"Lavern\", \"Laverna\", \"Laverne\", \"Lavina\", \"Lavinia\", \"Lavon\", \"Lavonne\", \"Lawrence\", \"Lawson\", \"Layla\", \"Layne\", \"Lazaro\", \"Lea\", \"Leann\", \"Leanna\", \"Leanne\", \"Leatha\", \"Leda\", \"Lee\", \"Leif\", \"Leila\", \"Leilani\", \"Lela\", \"Lelah\", \"Leland\", \"Lelia\", \"Lempi\", \"Lemuel\", \"Lenna\", \"Lennie\", \"Lenny\", \"Lenora\", \"Lenore\", \"Leo\", \"Leola\", \"Leon\", \"Leonard\", \"Leonardo\", \"Leone\", \"Leonel\", \"Leonie\", \"Leonor\", \"Leonora\", \"Leopold\", \"Leopoldo\", \"Leora\", \"Lera\", \"Lesley\", \"Leslie\", \"Lesly\", \"Lessie\", \"Lester\", \"Leta\", \"Letha\", \"Letitia\", \"Levi\", \"Lew\", \"Lewis\", \"Lexi\", \"Lexie\", \"Lexus\", \"Lia\", \"Liam\", \"Liana\", \"Libbie\", \"Libby\", \"Lila\", \"Lilian\", \"Liliana\", \"Liliane\", \"Lilla\", \"Lillian\", \"Lilliana\", \"Lillie\", \"Lilly\", \"Lily\", \"Lilyan\", \"Lina\", \"Lincoln\", \"Linda\", \"Lindsay\", \"Lindsey\", \"Linnea\", \"Linnie\", \"Linwood\", \"Lionel\", \"Lisa\", \"Lisandro\", \"Lisette\", \"Litzy\", \"Liza\", \"Lizeth\", \"Lizzie\", \"Llewellyn\", \"Lloyd\", \"Logan\", \"Lois\", \"Lola\", \"Lolita\", \"Loma\", \"Lon\", \"London\", \"Lonie\", \"Lonnie\", \"Lonny\", \"Lonzo\", \"Lora\", \"Loraine\", \"Loren\", \"Lorena\", \"Lorenz\", \"Lorenza\", \"Lorenzo\", \"Lori\", \"Lorine\", \"Lorna\", \"Lottie\", \"Lou\", \"Louie\", \"Louisa\", \"Lourdes\", \"Louvenia\", \"Lowell\", \"Loy\", \"Loyal\", \"Loyce\", \"Lucas\", \"Luciano\", \"Lucie\", \"Lucienne\", \"Lucile\", \"Lucinda\", \"Lucio\", \"Lucious\", \"Lucius\", \"Lucy\", \"Ludie\", \"Ludwig\", \"Lue\", \"Luella\", \"Luigi\", \"Luis\", \"Luisa\", \"Lukas\", \"Lula\", \"Lulu\", \"Luna\", \"Lupe\", \"Lura\", \"Lurline\", \"Luther\", \"Luz\", \"Lyda\", \"Lydia\", \"Lyla\", \"Lynn\", \"Lyric\", \"Lysanne\", \"Mabel\", \"Mabelle\", \"Mable\", \"Mac\", \"Macey\", \"Maci\", \"Macie\", \"Mack\", \"Mackenzie\", \"Macy\", \"Madaline\", \"Madalyn\", \"Maddison\", \"Madeline\", \"Madelyn\", \"Madelynn\", \"Madge\", \"Madie\", \"Madilyn\", \"Madisen\", \"Madison\", \"Madisyn\", \"Madonna\", \"Madyson\", \"Mae\", \"Maegan\", \"Maeve\", \"Mafalda\", \"Magali\", \"Magdalen\", \"Magdalena\", \"Maggie\", \"Magnolia\", \"Magnus\", \"Maia\", \"Maida\", \"Maiya\", \"Major\", \"Makayla\", \"Makenna\", \"Makenzie\", \"Malachi\", \"Malcolm\", \"Malika\", \"Malinda\", \"Mallie\", \"Mallory\", \"Malvina\", \"Mandy\", \"Manley\", \"Manuel\", \"Manuela\", \"Mara\", \"Marc\", \"Marcel\", \"Marcelina\", \"Marcelino\", \"Marcella\", \"Marcelle\", \"Marcellus\", \"Marcelo\", \"Marcia\", \"Marco\", \"Marcos\", \"Marcus\", \"Margaret\", \"Margarete\", \"Margarett\", \"Margaretta\", \"Margarette\", \"Margarita\", \"Marge\", \"Margie\", \"Margot\", \"Margret\", \"Marguerite\", \"Maria\", \"Mariah\", \"Mariam\", \"Marian\", \"Mariana\", \"Mariane\", \"Marianna\", \"Marianne\", \"Mariano\", \"Maribel\", \"Marie\", \"Mariela\", \"Marielle\", \"Marietta\", \"Marilie\", \"Marilou\", \"Marilyne\", \"Marina\", \"Mario\", \"Marion\", \"Marisa\", \"Marisol\", \"Maritza\", \"Marjolaine\", \"Marjorie\", \"Marjory\", \"Mark\", \"Markus\", \"Marlee\", \"Marlen\", \"Marlene\", \"Marley\", \"Marlin\", \"Marlon\", \"Marques\", \"Marquis\", \"Marquise\", \"Marshall\", \"Marta\", \"Martin\", \"Martina\", \"Martine\", \"Marty\", \"Marvin\", \"Mary\", \"Maryam\", \"Maryjane\", \"Maryse\", \"Mason\", \"Mateo\", \"Mathew\", \"Mathias\", \"Mathilde\", \"Matilda\", \"Matilde\", \"Matt\", \"Matteo\", \"Mattie\", \"Maud\", \"Maude\", \"Maudie\", \"Maureen\", \"Maurice\", \"Mauricio\", \"Maurine\", \"Maverick\", \"Mavis\", \"Max\", \"Maxie\", \"Maxime\", \"Maximilian\", \"Maximillia\", \"Maximillian\", \"Maximo\", \"Maximus\", \"Maxine\", \"Maxwell\", \"May\", \"Maya\", \"Maybell\", \"Maybelle\", \"Maye\", \"Maymie\", \"Maynard\", \"Mayra\", \"Mazie\", \"Mckayla\", \"Mckenna\", \"Mckenzie\", \"Meagan\", \"Meaghan\", \"Meda\", \"Megane\", \"Meggie\", \"Meghan\", \"Mekhi\", \"Melany\", \"Melba\", \"Melisa\", \"Melissa\", \"Mellie\", \"Melody\", \"Melvin\", \"Melvina\", \"Melyna\", \"Melyssa\", \"Mercedes\", \"Meredith\", \"Merl\", \"Merle\", \"Merlin\", \"Merritt\", \"Mertie\", \"Mervin\", \"Meta\", \"Mia\", \"Micaela\", \"Micah\", \"Michael\", \"Michaela\", \"Michale\", \"Micheal\", \"Michel\", \"Michele\", \"Michelle\", \"Miguel\", \"Mikayla\", \"Mike\", \"Mikel\", \"Milan\", \"Miles\", \"Milford\", \"Miller\", \"Millie\", \"Milo\", \"Milton\", \"Mina\", \"Minerva\", \"Minnie\", \"Miracle\", \"Mireille\", \"Mireya\", \"Misael\", \"Missouri\", \"Misty\", \"Mitchel\", \"Mitchell\", \"Mittie\", \"Modesta\", \"Modesto\", \"Mohamed\", \"Mohammad\", \"Mohammed\", \"Moises\", \"Mollie\", \"Molly\", \"Mona\", \"Monica\", \"Monique\", \"Monroe\", \"Monserrat\", \"Monserrate\", \"Montana\", \"Monte\", \"Monty\", \"Morgan\", \"Moriah\", \"Morris\", \"Mortimer\", \"Morton\", \"Mose\", \"Moses\", \"Moshe\", \"Mossie\", \"Mozell\", \"Mozelle\", \"Muhammad\", \"Muriel\", \"Murl\", \"Murphy\", \"Murray\", \"Mustafa\", \"Mya\", \"Myah\", \"Mylene\", \"Myles\", \"Myra\", \"Myriam\", \"Myrl\", \"Myrna\", \"Myron\", \"Myrtice\", \"Myrtie\", \"Myrtis\", \"Myrtle\", \"Nadia\", \"Nakia\", \"Name\", \"Nannie\", \"Naomi\", \"Naomie\", \"Napoleon\", \"Narciso\", \"Nash\", \"Nasir\", \"Nat\", \"Natalia\", \"Natalie\", \"Natasha\", \"Nathan\", \"Nathanael\", \"Nathanial\", \"Nathaniel\", \"Nathen\", \"Nayeli\", \"Neal\", \"Ned\", \"Nedra\", \"Neha\", \"Neil\", \"Nelda\", \"Nella\", \"Nelle\", \"Nellie\", \"Nels\", \"Nelson\", \"Neoma\", \"Nestor\", \"Nettie\", \"Neva\", \"Newell\", \"Newton\", \"Nia\", \"Nicholas\", \"Nicholaus\", \"Nichole\", \"Nick\", \"Nicklaus\", \"Nickolas\", \"Nico\", \"Nicola\", \"Nicolas\", \"Nicole\", \"Nicolette\", \"Nigel\", \"Nikita\", \"Nikki\", \"Nikko\", \"Niko\", \"Nikolas\", \"Nils\", \"Nina\", \"Noah\", \"Noble\", \"Noe\", \"Noel\", \"Noelia\", \"Noemi\", \"Noemie\", \"Noemy\", \"Nola\", \"Nolan\", \"Nona\", \"Nora\", \"Norbert\", \"Norberto\", \"Norene\", \"Norma\", \"Norris\", \"Norval\", \"Norwood\", \"Nova\", \"Novella\", \"Nya\", \"Nyah\", \"Nyasia\", \"Obie\", \"Oceane\", \"Ocie\", \"Octavia\", \"Oda\", \"Odell\", \"Odessa\", \"Odie\", \"Ofelia\", \"Okey\", \"Ola\", \"Olaf\", \"Ole\", \"Olen\", \"Oleta\", \"Olga\", \"Olin\", \"Oliver\", \"Ollie\", \"Oma\", \"Omari\", \"Omer\", \"Ona\", \"Onie\", \"Opal\", \"Ophelia\", \"Ora\", \"Oral\", \"Oran\", \"Oren\", \"Orie\", \"Orin\", \"Orion\", \"Orland\", \"Orlando\", \"Orlo\", \"Orpha\", \"Orrin\", \"Orval\", \"Orville\", \"Osbaldo\", \"Osborne\", \"Oscar\", \"Osvaldo\", \"Oswald\", \"Oswaldo\", \"Otha\", \"Otho\", \"Otilia\", \"Otis\", \"Ottilie\", \"Ottis\", \"Otto\", \"Ova\", \"Owen\", \"Ozella\", \"Pablo\", \"Paige\", \"Palma\", \"Pamela\", \"Pansy\", \"Paolo\", \"Paris\", \"Parker\", \"Pascale\", \"Pasquale\", \"Pat\", \"Patience\", \"Patricia\", \"Patrick\", \"Patsy\", \"Pattie\", \"Paul\", \"Paula\", \"Pauline\", \"Paxton\", \"Payton\", \"Pearl\", \"Pearlie\", \"Pearline\", \"Pedro\", \"Peggie\", \"Penelope\", \"Percival\", \"Percy\", \"Perry\", \"Pete\", \"Peter\", \"Petra\", \"Peyton\", \"Philip\", \"Phoebe\", \"Phyllis\", \"Pierce\", \"Pierre\", \"Pietro\", \"Pink\", \"Pinkie\", \"Piper\", \"Polly\", \"Porter\", \"Precious\", \"Presley\", \"Preston\", \"Price\", \"Prince\", \"Princess\", \"Priscilla\", \"Providenci\", \"Prudence\", \"Queen\", \"Queenie\", \"Quentin\", \"Quincy\", \"Quinn\", \"Quinten\", \"Quinton\", \"Rachael\", \"Rachel\", \"Rachelle\", \"Rae\", \"Raegan\", \"Rafael\", \"Rafaela\", \"Raheem\", \"Rahsaan\", \"Rahul\", \"Raina\", \"Raleigh\", \"Ralph\", \"Ramiro\", \"Ramon\", \"Ramona\", \"Randal\", \"Randall\", \"Randi\", \"Randy\", \"Ransom\", \"Raoul\", \"Raphael\", \"Raphaelle\", \"Raquel\", \"Rashad\", \"Rashawn\", \"Rasheed\", \"Raul\", \"Raven\", \"Ray\", \"Raymond\", \"Raymundo\", \"Reagan\", \"Reanna\", \"Reba\", \"Rebeca\", \"Rebecca\", \"Rebeka\", \"Rebekah\", \"Reece\", \"Reed\", \"Reese\", \"Regan\", \"Reggie\", \"Reginald\", \"Reid\", \"Reilly\", \"Reina\", \"Reinhold\", \"Remington\", \"Rene\", \"Renee\", \"Ressie\", \"Reta\", \"Retha\", \"Retta\", \"Reuben\", \"Reva\", \"Rex\", \"Rey\", \"Reyes\", \"Reymundo\", \"Reyna\", \"Reynold\", \"Rhea\", \"Rhett\", \"Rhianna\", \"Rhiannon\", \"Rhoda\", \"Ricardo\", \"Richard\", \"Richie\", \"Richmond\", \"Rick\", \"Rickey\", \"Rickie\", \"Ricky\", \"Rico\", \"Rigoberto\", \"Riley\", \"Rita\", \"River\", \"Robb\", \"Robbie\", \"Robert\", \"Roberta\", \"Roberto\", \"Robin\", \"Robyn\", \"Rocio\", \"Rocky\", \"Rod\", \"Roderick\", \"Rodger\", \"Rodolfo\", \"Rodrick\", \"Rodrigo\", \"Roel\", \"Rogelio\", \"Roger\", \"Rogers\", \"Rolando\", \"Rollin\", \"Roma\", \"Romaine\", \"Roman\", \"Ron\", \"Ronaldo\", \"Ronny\", \"Roosevelt\", \"Rory\", \"Rosa\", \"Rosalee\", \"Rosalia\", \"Rosalind\", \"Rosalinda\", \"Rosalyn\", \"Rosamond\", \"Rosanna\", \"Rosario\", \"Roscoe\", \"Rose\", \"Rosella\", \"Roselyn\", \"Rosemarie\", \"Rosemary\", \"Rosendo\", \"Rosetta\", \"Rosie\", \"Rosina\", \"Roslyn\", \"Ross\", \"Rossie\", \"Rowan\", \"Rowena\", \"Rowland\", \"Roxane\", \"Roxanne\", \"Roy\", \"Royal\", \"Royce\", \"Rozella\", \"Ruben\", \"Rubie\", \"Ruby\", \"Rubye\", \"Rudolph\", \"Rudy\", \"Rupert\", \"Russ\", \"Russel\", \"Russell\", \"Rusty\", \"Ruth\", \"Ruthe\", \"Ruthie\", \"Ryan\", \"Ryann\", \"Ryder\", \"Rylan\", \"Rylee\", \"Ryleigh\", \"Ryley\", \"Sabina\", \"Sabrina\", \"Sabryna\", \"Sadie\", \"Sadye\", \"Sage\", \"Saige\", \"Sallie\", \"Sally\", \"Salma\", \"Salvador\", \"Salvatore\", \"Sam\", \"Samanta\", \"Samantha\", \"Samara\", \"Samir\", \"Sammie\", \"Sammy\", \"Samson\", \"Sandra\", \"Sandrine\", \"Sandy\", \"Sanford\", \"Santa\", \"Santiago\", \"Santina\", \"Santino\", \"Santos\", \"Sarah\", \"Sarai\", \"Sarina\", \"Sasha\", \"Saul\", \"Savanah\", \"Savanna\", \"Savannah\", \"Savion\", \"Scarlett\", \"Schuyler\", \"Scot\", \"Scottie\", \"Scotty\", \"Seamus\", \"Sean\", \"Sebastian\", \"Sedrick\", \"Selena\", \"Selina\", \"Selmer\", \"Serena\", \"Serenity\", \"Seth\", \"Shad\", \"Shaina\", \"Shakira\", \"Shana\", \"Shane\", \"Shanel\", \"Shanelle\", \"Shania\", \"Shanie\", \"Shaniya\", \"Shanna\", \"Shannon\", \"Shanny\", \"Shanon\", \"Shany\", \"Sharon\", \"Shaun\", \"Shawn\", \"Shawna\", \"Shaylee\", \"Shayna\", \"Shayne\", \"Shea\", \"Sheila\", \"Sheldon\", \"Shemar\", \"Sheridan\", \"Sherman\", \"Sherwood\", \"Shirley\", \"Shyann\", \"Shyanne\", \"Sibyl\", \"Sid\", \"Sidney\", \"Sienna\", \"Sierra\", \"Sigmund\", \"Sigrid\", \"Sigurd\", \"Silas\", \"Sim\", \"Simeon\", \"Simone\", \"Sincere\", \"Sister\", \"Skye\", \"Skyla\", \"Skylar\", \"Sofia\", \"Soledad\", \"Solon\", \"Sonia\", \"Sonny\", \"Sonya\", \"Sophia\", \"Sophie\", \"Spencer\", \"Stacey\", \"Stacy\", \"Stan\", \"Stanford\", \"Stanley\", \"Stanton\", \"Stefan\", \"Stefanie\", \"Stella\", \"Stephan\", \"Stephania\", \"Stephanie\", \"Stephany\", \"Stephen\", \"Stephon\", \"Sterling\", \"Steve\", \"Stevie\", \"Stewart\", \"Stone\", \"Stuart\", \"Summer\", \"Sunny\", \"Susan\", \"Susana\", \"Susanna\", \"Susie\", \"Suzanne\", \"Sven\", \"Syble\", \"Sydnee\", \"Sydney\", \"Sydni\", \"Sydnie\", \"Sylvan\", \"Sylvester\", \"Sylvia\", \"Tabitha\", \"Tad\", \"Talia\", \"Talon\", \"Tamara\", \"Tamia\", \"Tania\", \"Tanner\", \"Tanya\", \"Tara\", \"Taryn\", \"Tate\", \"Tatum\", \"Tatyana\", \"Taurean\", \"Tavares\", \"Taya\", \"Taylor\", \"Teagan\", \"Ted\", \"Telly\", \"Terence\", \"Teresa\", \"Terrance\", \"Terrell\", \"Terrence\", \"Terrill\", \"Terry\", \"Tess\", \"Tessie\", \"Tevin\", \"Thad\", \"Thaddeus\", \"Thalia\", \"Thea\", \"Thelma\", \"Theo\", \"Theodora\", \"Theodore\", \"Theresa\", \"Therese\", \"Theresia\", \"Theron\", \"Thomas\", \"Thora\", \"Thurman\", \"Tia\", \"Tiana\", \"Tianna\", \"Tiara\", \"Tierra\", \"Tiffany\", \"Tillman\", \"Timmothy\", \"Timmy\", \"Timothy\", \"Tina\", \"Tito\", \"Titus\", \"Tobin\", \"Toby\", \"Tod\", \"Tom\", \"Tomas\", \"Tomasa\", \"Tommie\", \"Toney\", \"Toni\", \"Tony\", \"Torey\", \"Torrance\", \"Torrey\", \"Toy\", \"Trace\", \"Tracey\", \"Tracy\", \"Travis\", \"Travon\", \"Tre\", \"Tremaine\", \"Tremayne\", \"Trent\", \"Trenton\", \"Tressa\", \"Tressie\", \"Treva\", \"Trever\", \"Trevion\", \"Trevor\", \"Trey\", \"Trinity\", \"Trisha\", \"Tristian\", \"Tristin\", \"Triston\", \"Troy\", \"Trudie\", \"Trycia\", \"Trystan\", \"Turner\", \"Twila\", \"Tyler\", \"Tyra\", \"Tyree\", \"Tyreek\", \"Tyrel\", \"Tyrell\", \"Tyrese\", \"Tyrique\", \"Tyshawn\", \"Tyson\", \"Ubaldo\", \"Ulices\", \"Ulises\", \"Una\", \"Unique\", \"Urban\", \"Uriah\", \"Uriel\", \"Ursula\", \"Vada\", \"Valentin\", \"Valentina\", \"Valentine\", \"Valerie\", \"Vallie\", \"Van\", \"Vance\", \"Vanessa\", \"Vaughn\", \"Veda\", \"Velda\", \"Vella\", \"Velma\", \"Velva\", \"Vena\", \"Verda\", \"Verdie\", \"Vergie\", \"Verla\", \"Verlie\", \"Vern\", \"Verna\", \"Verner\", \"Vernice\", \"Vernie\", \"Vernon\", \"Verona\", \"Veronica\", \"Vesta\", \"Vicenta\", \"Vicente\", \"Vickie\", \"Vicky\", \"Victor\", \"Victoria\", \"Vida\", \"Vidal\", \"Vilma\", \"Vince\", \"Vincent\", \"Vincenza\", \"Vincenzo\", \"Vinnie\", \"Viola\", \"Violet\", \"Violette\", \"Virgie\", \"Virgil\", \"Virginia\", \"Virginie\", \"Vita\", \"Vito\", \"Viva\", \"Vivian\", \"Viviane\", \"Vivianne\", \"Vivien\", \"Vivienne\", \"Vladimir\", \"Wade\", \"Waino\", \"Waldo\", \"Walker\", \"Wallace\", \"Walter\", \"Walton\", \"Wanda\", \"Ward\", \"Warren\", \"Watson\", \"Wava\", \"Waylon\", \"Wayne\", \"Webster\", \"Weldon\", \"Wellington\", \"Wendell\", \"Wendy\", \"Werner\", \"Westley\", \"Weston\", \"Whitney\", \"Wilber\", \"Wilbert\", \"Wilburn\", \"Wiley\", \"Wilford\", \"Wilfred\", \"Wilfredo\", \"Wilfrid\", \"Wilhelm\", \"Wilhelmine\", \"Will\", \"Willa\", \"Willard\", \"William\", \"Willie\", \"Willis\", \"Willow\", \"Willy\", \"Wilma\", \"Wilmer\", \"Wilson\", \"Wilton\", \"Winfield\", \"Winifred\", \"Winnifred\", \"Winona\", \"Winston\", \"Woodrow\", \"Wyatt\", \"Wyman\", \"Xander\", \"Xavier\", \"Xzavier\", \"Yadira\", \"Yasmeen\", \"Yasmin\", \"Yasmine\", \"Yazmin\", \"Yesenia\", \"Yessenia\", \"Yolanda\", \"Yoshiko\", \"Yvette\", \"Yvonne\", \"Zachariah\", \"Zachary\", \"Zachery\", \"Zack\", \"Zackary\", \"Zackery\", \"Zakary\", \"Zander\", \"Zane\", \"Zaria\", \"Zechariah\", \"Zelda\", \"Zella\", \"Zelma\", \"Zena\", \"Zetta\", \"Zion\", \"Zita\", \"Zoe\", \"Zoey\", \"Zoie\", \"Zoila\", \"Zola\", \"Zora\", \"Zula\"];\n    e.exports = {\n      generateUsername: function generateUsername() {\n        var e = r.randomElement(i),\n            t = r.randomAlphanumStr(3);\n        return \"\".concat(e, \"-\").concat(t);\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return T;\n      });\n      var r = n(6),\n          i = n(4),\n          o = n(2),\n          a = n(0),\n          s = n.n(a),\n          c = n(11),\n          u = n.n(c),\n          d = n(34),\n          l = n.n(d),\n          p = n(5),\n          f = n(45),\n          h = n(35);\n\n      function m(e) {\n        return (m = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function v(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function g(e, t) {\n        return !t || \"object\" !== m(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function y(e, t, n) {\n        return (y = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n          var r = function (e, t) {\n            for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _(e));) {\n              ;\n            }\n\n            return e;\n          }(e, t);\n\n          if (r) {\n            var i = Object.getOwnPropertyDescriptor(r, t);\n            return i.get ? i.get.call(n) : i.value;\n          }\n        })(e, t, n || e);\n      }\n\n      function _(e) {\n        return (_ = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function S(e, t) {\n        return (S = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var b = Object(i.getLogger)(e),\n          E = function (e) {\n        function t(e, n, r) {\n          var i;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (i = g(this, _(t).call(this))).xmpp = e, i.eventEmitter = n, i.sessions = {}, i.jvbIceConfig = r.jvb, i.p2pIceConfig = r.p2p, i.mediaConstraints = {\n            offerToReceiveAudio: !0,\n            offerToReceiveVideo: !0\n          }, i;\n        }\n\n        var n, i, a;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && S(e, t);\n        }(t, e), n = t, (i = [{\n          key: \"init\",\n          value: function value(e) {\n            y(_(t.prototype), \"init\", this).call(this, e), this.connection.addHandler(this.onJingle.bind(this), \"urn:xmpp:jingle:1\", \"iq\", \"set\", null, null);\n          }\n        }, {\n          key: \"onJingle\",\n          value: function value(e) {\n            var t = $(e).find(\"jingle\").attr(\"sid\"),\n                n = $(e).find(\"jingle\").attr(\"action\"),\n                i = e.getAttribute(\"from\"),\n                a = Object(o.$iq)({\n              type: \"result\",\n              to: i,\n              id: e.getAttribute(\"id\")\n            });\n            b.log(\"on jingle \".concat(n, \" from \").concat(i), e);\n            var c = this.sessions[t];\n\n            if (\"session-initiate\" !== n) {\n              if (!c) return a.attrs({\n                type: \"error\"\n              }), a.c(\"error\", {\n                type: \"cancel\"\n              }).c(\"item-not-found\", {\n                xmlns: \"urn:ietf:params:xml:ns:xmpp-stanzas\"\n              }).up().c(\"unknown-session\", {\n                xmlns: \"urn:xmpp:jingle:errors:1\"\n              }), b.warn(\"invalid session id\", e), this.connection.send(a), !0;\n              if (i !== c.remoteJid) return b.warn(\"jid mismatch for session id\", t, c.remoteJid, e), a.attrs({\n                type: \"error\"\n              }), a.c(\"error\", {\n                type: \"cancel\"\n              }).c(\"item-not-found\", {\n                xmlns: \"urn:ietf:params:xml:ns:xmpp-stanzas\"\n              }).up().c(\"unknown-session\", {\n                xmlns: \"urn:xmpp:jingle:errors:1\"\n              }), this.connection.send(a), !0;\n            } else if (void 0 !== c) return a.attrs({\n              type: \"error\"\n            }), a.c(\"error\", {\n              type: \"cancel\"\n            }).c(\"service-unavailable\", {\n              xmlns: \"urn:ietf:params:xml:ns:xmpp-stanzas\"\n            }).up(), b.warn(\"duplicate session id\", t, e), this.connection.send(a), !0;\n\n            var d = window.performance.now(),\n                l = \"focus\" !== o.Strophe.getResourceFromJid(i);\n\n            switch (n) {\n              case \"session-initiate\":\n                b.log(\"(TIME) received session-initiate:\\t\", d);\n                var h = $(e).find(\"jingle>startmuted\");\n\n                if (h && h.length > 0) {\n                  var m = h.attr(\"audio\"),\n                      v = h.attr(\"video\");\n                  this.eventEmitter.emit(s.a.START_MUTED_FROM_FOCUS, \"true\" === m, \"true\" === v);\n                }\n\n                b.info(\"Marking session from \".concat(i, \" as \").concat(l ? \"\" : \"*not*\", \" P2P\")), c = new f.a($(e).find(\"jingle\").attr(\"sid\"), $(e).attr(\"to\"), i, this.connection, this.mediaConstraints, l ? this.p2pIceConfig : this.jvbIceConfig, l, !1), this.sessions[c.sid] = c, this.eventEmitter.emit(s.a.CALL_INCOMING, c, $(e).find(\">jingle\"), d);\n                break;\n\n              case \"session-accept\":\n                this.eventEmitter.emit(s.a.CALL_ACCEPTED, c, $(e).find(\">jingle\"));\n                break;\n\n              case \"content-modify\":\n                c.modifyContents($(e).find(\">jingle\"));\n                break;\n\n              case \"transport-info\":\n                this.eventEmitter.emit(s.a.TRANSPORT_INFO, c, $(e).find(\">jingle\"));\n                break;\n\n              case \"session-terminate\":\n                b.log(\"terminating...\", c.sid);\n                var g = null,\n                    y = null;\n                $(e).find(\">jingle>reason\").length && (g = $(e).find(\">jingle>reason>:first\")[0].tagName, y = $(e).find(\">jingle>reason>text\").text()), this.terminate(c.sid, g, y), this.eventEmitter.emit(s.a.CALL_ENDED, c, g, y);\n                break;\n\n              case \"transport-replace\":\n                b.info(\"(TIME) Start transport replace\", d), p.a.sendAnalytics(Object(r.G)(r.f, {\n                  p2p: l,\n                  value: d\n                })), c.replaceTransport($(e).find(\">jingle\"), function () {\n                  var e = window.performance.now();\n                  b.info(\"(TIME) Transport replace success!\", e), p.a.sendAnalytics(Object(r.G)(r.g, {\n                    p2p: l,\n                    value: e\n                  }));\n                }, function (e) {\n                  u.a.callErrorHandler(e), b.error(\"Transport replace failed\", e), c.sendTransportReject();\n                });\n                break;\n\n              case \"addsource\":\n              case \"source-add\":\n                c.addRemoteStream($(e).find(\">jingle>content\"));\n                break;\n\n              case \"removesource\":\n              case \"source-remove\":\n                c.removeRemoteStream($(e).find(\">jingle>content\"));\n                break;\n\n              default:\n                b.warn(\"jingle action not implemented\", n), a.attrs({\n                  type: \"error\"\n                }), a.c(\"error\", {\n                  type: \"cancel\"\n                }).c(\"bad-request\", {\n                  xmlns: \"urn:ietf:params:xml:ns:xmpp-stanzas\"\n                }).up();\n            }\n\n            return this.connection.send(a), !0;\n          }\n        }, {\n          key: \"newP2PJingleSession\",\n          value: function value(e, t) {\n            var n = new f.a(l.a.randomHexString(12), e, t, this.connection, this.mediaConstraints, this.p2pIceConfig, !0, !0);\n            return this.sessions[n.sid] = n, n;\n          }\n        }, {\n          key: \"terminate\",\n          value: function value(e, t, n) {\n            this.sessions.hasOwnProperty(e) && (\"ended\" !== this.sessions[e].state && this.sessions[e].onTerminated(t, n), delete this.sessions[e]);\n          }\n        }, {\n          key: \"getStunAndTurnCredentials\",\n          value: function value() {\n            var e = this;\n            this.connection.sendIQ(Object(o.$iq)({\n              type: \"get\",\n              to: this.connection.domain\n            }).c(\"services\", {\n              xmlns: \"urn:xmpp:extdisco:1\"\n            }), function (t) {\n              var n = [];\n              $(t).find(\">services>service\").each(function (e, t) {\n                var r = {},\n                    i = (t = $(t)).attr(\"type\");\n\n                switch (i) {\n                  case \"stun\":\n                    r.urls = \"stun:\".concat(t.attr(\"host\")), t.attr(\"port\") && (r.urls += \":\".concat(t.attr(\"port\"))), n.push(r);\n                    break;\n\n                  case \"turn\":\n                  case \"turns\":\n                    r.urls = \"\".concat(i, \":\");\n                    var o = t.attr(\"username\");\n\n                    if (o) {\n                      var a = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n                      a && parseInt(a[2], 10) < 28 ? r.urls += \"\".concat(o, \"@\") : r.username = o;\n                    }\n\n                    r.urls += t.attr(\"host\"), t.attr(\"port\") && (r.urls += \":\".concat(t.attr(\"port\")));\n                    var s = t.attr(\"transport\");\n                    s && \"udp\" !== s && (r.urls += \"?transport=\".concat(s)), r.credential = t.attr(\"password\") || r.credential, n.push(r);\n                }\n              });\n              var r = e.xmpp.options;\n              r.useStunTurn && (e.jvbIceConfig.iceServers = n.filter(function (e) {\n                return e.urls.startsWith(\"turns\");\n              })), r.p2p && r.p2p.useStunTurn && (e.p2pIceConfig.iceServers = n);\n            }, function (e) {\n              b.warn(\"getting turn credentials failed\", e), b.warn(\"is mod_turncredentials or similar installed?\");\n            });\n          }\n        }, {\n          key: \"getLog\",\n          value: function value() {\n            var e = this,\n                t = {};\n            return Object.keys(this.sessions).forEach(function (n) {\n              var r = e.sessions[n].peerconnection;\n              r && r.updateLog && (t[\"jingle_\".concat(n)] = {\n                updateLog: r.updateLog,\n                stats: r.stats,\n                url: window.location.href\n              });\n            }), t;\n          }\n        }]) && v(n.prototype, i), a && v(n, a), t;\n      }(h.b);\n\n      function T(e, t, n) {\n        o.Strophe.addConnectionPlugin(\"jingle\", new E(e, t, n));\n      }\n    }).call(this, \"modules/xmpp/strophe.jingle.js\");\n  }, function (e, t) {\n    e.exports = {\n      integerHash: function integerHash(e) {\n        if (!e) return 0;\n        var t,\n            n = 0;\n\n        for (t = 0; t < e.length; t++) {\n          n += e.charCodeAt(t) * Math.pow(31, e.length - 1 - t), n = Math.abs(0 | n);\n        }\n\n        return n;\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return s;\n      });\n      var r = n(4),\n          i = n(31);\n\n      function o(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var a = Object(r.getLogger)(e),\n          s = function () {\n        function e(t, n, r, i, o, a, s) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.sid = t, this.localJid = n, this.remoteJid = r, this.connection = i, this.mediaConstraints = o, this.iceConfig = a, this.isInitiator = s, this.usedrip = !0, this.dripContainer = [], this.room = null, this.state = null, this.rtc = null;\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"initialize\",\n          value: function value(e, t, n) {\n            if (null !== this.state) {\n              var r = \"attempt to initiate on session \".concat(this.sid, \"\\n                   in state \").concat(this.state);\n              throw a.error(r), new Error(r);\n            }\n\n            this.room = e, this.rtc = t, this.state = i.c, this.doInitialize(n);\n          }\n        }, {\n          key: \"doInitialize\",\n          value: function value(e) {}\n        }, {\n          key: \"addIceCandidates\",\n          value: function value(e) {}\n        }, {\n          key: \"getState\",\n          value: function value() {\n            return this.state;\n          }\n        }, {\n          key: \"addSources\",\n          value: function value(e) {}\n        }, {\n          key: \"removeSources\",\n          value: function value(e) {}\n        }, {\n          key: \"terminate\",\n          value: function value(e, t, n) {}\n        }, {\n          key: \"acceptOffer\",\n          value: function value(e, t, n) {}\n        }, {\n          key: \"_getInitiatorJid\",\n          value: function value() {\n            return this.isInitiator ? this.localJid : this.remoteJid;\n          }\n        }, {\n          key: \"initiatorJid\",\n          get: function get() {\n            return this.isInitiator ? this.localJid : this.remoteJid;\n          }\n        }, {\n          key: \"responderJid\",\n          get: function get() {\n            return this.isInitiator ? this.remoteJid : this.localJid;\n          }\n        }]) && o(t.prototype, n), r && o(t, r), e;\n      }();\n    }).call(this, \"modules/xmpp/JingleSession.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return f;\n      });\n      var r = n(4),\n          i = n(9),\n          o = n(37),\n          a = n(93);\n\n      function s(e) {\n        return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function u(e, t) {\n        return !t || \"object\" !== s(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function d(e) {\n        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function l(e, t) {\n        return (l = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var p = Object(r.getLogger)(e),\n          f = function (e) {\n        function t() {\n          var e;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (e = u(this, d(t).call(this))).ssrcOwners = new Map(), e.chatRoom = null, e;\n        }\n\n        var n, r, a;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && l(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"setChatRoom\",\n          value: function value(e) {\n            var t = this,\n                n = this.chatRoom;\n            this.chatRoom = e, n && (n.removePresenceListener(\"audiomuted\", this._audioMuteHandler), n.removePresenceListener(\"videomuted\", this._videoMuteHandler), n.removePresenceListener(\"videoType\", this._videoTypeHandler)), e && (this._audioMuteHandler = function (e, n) {\n              t.eventEmitter.emit(o.a, n, i.a, \"true\" === e.value);\n            }, e.addPresenceListener(\"audiomuted\", this._audioMuteHandler), this._videoMuteHandler = function (e, n) {\n              t.eventEmitter.emit(o.a, n, i.c, \"true\" === e.value);\n            }, e.addPresenceListener(\"videomuted\", this._videoMuteHandler), this._videoTypeHandler = function (e, n) {\n              t.eventEmitter.emit(o.b, n, e.value);\n            }, e.addPresenceListener(\"videoType\", this._videoTypeHandler));\n          }\n        }, {\n          key: \"getPeerMediaInfo\",\n          value: function value(e, t) {\n            if (this.chatRoom) return this.chatRoom.getMediaPresenceInfo(e, t);\n            p.error(\"Requested peer media info, before room was set\");\n          }\n        }, {\n          key: \"getSSRCOwner\",\n          value: function value(e) {\n            return this.ssrcOwners.get(e);\n          }\n        }, {\n          key: \"setSSRCOwner\",\n          value: function value(e, t) {\n            if (\"number\" != typeof e) throw new TypeError(\"SSRC(\".concat(e, \") must be a number\"));\n            this.ssrcOwners.set(e, t);\n          }\n        }]) && c(n.prototype, r), a && c(n, a), t;\n      }(a.a);\n    }).call(this, \"modules/xmpp/SignalingLayerImpl.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      return (r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function i(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function o(e, t) {\n      return !t || \"object\" !== r(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function a(e) {\n      return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function s(e, t) {\n      return (s = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    n.d(t, \"a\", function () {\n      return c;\n    });\n\n    var c = function (e) {\n      function t() {\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), o(this, a(t).apply(this, arguments));\n      }\n\n      var n, r, c;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && s(e, t);\n      }(t, e), n = t, (r = [{\n        key: \"getSSRCOwner\",\n        value: function value(e) {\n          throw new Error(\"not implemented\");\n        }\n      }, {\n        key: \"getPeerMediaInfo\",\n        value: function value(e, t) {\n          throw new Error(\"not implemented\");\n        }\n      }]) && i(n.prototype, r), c && i(n, c), t;\n    }(n(25).a);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return a;\n    });\n    var r = n(95),\n        i = n.n(r);\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var a = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._queue = i.a.queue(this._processQueueTasks.bind(this), 1), this._stopped = !1;\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"clear\",\n        value: function value() {\n          this._queue.kill();\n        }\n      }, {\n        key: \"_processQueueTasks\",\n        value: function value(e, t) {\n          e(t);\n        }\n      }, {\n        key: \"push\",\n        value: function value(e, t) {\n          this._stopped ? t && t(new Error(\"The queue has been stopped\")) : this._queue.push(e, t);\n        }\n      }, {\n        key: \"shutdown\",\n        value: function value() {\n          this._stopped = !0;\n        }\n      }]) && o(t.prototype, n), r && o(t, r), e;\n    }();\n  }, function (e, t, n) {\n    (function (n, r) {\n      var i;\n      /*!\n       * async\n       * https://github.com/caolan/async\n       *\n       * Copyright 2010-2014 Caolan McMahon\n       * Released under the MIT license\n       */\n\n      !function () {\n        var o,\n            a,\n            s = {};\n\n        function c(e) {\n          var t = !1;\n          return function () {\n            if (t) throw new Error(\"Callback was already called.\");\n            t = !0, e.apply(o, arguments);\n          };\n        }\n\n        null != (o = this) && (a = o.async), s.noConflict = function () {\n          return o.async = a, s;\n        };\n\n        var u = Object.prototype.toString,\n            d = Array.isArray || function (e) {\n          return \"[object Array]\" === u.call(e);\n        },\n            l = function l(e, t) {\n          if (e.forEach) return e.forEach(t);\n\n          for (var n = 0; n < e.length; n += 1) {\n            t(e[n], n, e);\n          }\n        },\n            p = function p(e, t) {\n          if (e.map) return e.map(t);\n          var n = [];\n          return l(e, function (e, r, i) {\n            n.push(t(e, r, i));\n          }), n;\n        },\n            f = function f(e) {\n          if (Object.keys) return Object.keys(e);\n          var t = [];\n\n          for (var n in e) {\n            e.hasOwnProperty(n) && t.push(n);\n          }\n\n          return t;\n        };\n\n        void 0 !== n && n.nextTick ? (s.nextTick = n.nextTick, s.setImmediate = void 0 !== r ? function (e) {\n          r(e);\n        } : s.nextTick) : \"function\" == typeof r ? (s.nextTick = function (e) {\n          r(e);\n        }, s.setImmediate = s.nextTick) : (s.nextTick = function (e) {\n          setTimeout(e, 0);\n        }, s.setImmediate = s.nextTick), s.each = function (e, t, n) {\n          if (n = n || function () {}, !e.length) return n();\n          var r = 0;\n\n          function i(t) {\n            t ? (n(t), n = function n() {}) : (r += 1) >= e.length && n();\n          }\n\n          l(e, function (e) {\n            t(e, c(i));\n          });\n        }, s.forEach = s.each, s.eachSeries = function (e, t, n) {\n          if (n = n || function () {}, !e.length) return n();\n\n          var r = 0,\n              i = function i() {\n            t(e[r], function (t) {\n              t ? (n(t), n = function n() {}) : (r += 1) >= e.length ? n() : i();\n            });\n          };\n\n          i();\n        }, s.forEachSeries = s.eachSeries, s.eachLimit = function (e, t, n, r) {\n          h(t).apply(null, [e, n, r]);\n        }, s.forEachLimit = s.eachLimit;\n\n        var h = function h(e) {\n          return function (t, n, r) {\n            if (r = r || function () {}, !t.length || e <= 0) return r();\n            var i = 0,\n                o = 0,\n                a = 0;\n            !function s() {\n              if (i >= t.length) return r();\n\n              for (; a < e && o < t.length;) {\n                a += 1, n(t[(o += 1) - 1], function (e) {\n                  e ? (r(e), r = function r() {}) : (a -= 1, (i += 1) >= t.length ? r() : s());\n                });\n              }\n            }();\n          };\n        },\n            m = function m(e) {\n          return function () {\n            var t = Array.prototype.slice.call(arguments);\n            return e.apply(null, [s.each].concat(t));\n          };\n        },\n            v = function v(e) {\n          return function () {\n            var t = Array.prototype.slice.call(arguments);\n            return e.apply(null, [s.eachSeries].concat(t));\n          };\n        },\n            g = function g(e, t, n, r) {\n          if (t = p(t, function (e, t) {\n            return {\n              index: t,\n              value: e\n            };\n          }), r) {\n            var i = [];\n            e(t, function (e, t) {\n              n(e.value, function (n, r) {\n                i[e.index] = r, t(n);\n              });\n            }, function (e) {\n              r(e, i);\n            });\n          } else e(t, function (e, t) {\n            n(e.value, function (e) {\n              t(e);\n            });\n          });\n        };\n\n        s.map = m(g), s.mapSeries = v(g), s.mapLimit = function (e, t, n, r) {\n          return y(t)(e, n, r);\n        };\n\n        var y = function y(e) {\n          return function (e, t) {\n            return function () {\n              var n = Array.prototype.slice.call(arguments);\n              return t.apply(null, [h(e)].concat(n));\n            };\n          }(e, g);\n        };\n\n        s.reduce = function (e, t, n, r) {\n          s.eachSeries(e, function (e, r) {\n            n(t, e, function (e, n) {\n              t = n, r(e);\n            });\n          }, function (e) {\n            r(e, t);\n          });\n        }, s.inject = s.reduce, s.foldl = s.reduce, s.reduceRight = function (e, t, n, r) {\n          var i = p(e, function (e) {\n            return e;\n          }).reverse();\n          s.reduce(i, t, n, r);\n        }, s.foldr = s.reduceRight;\n\n        var _ = function _(e, t, n, r) {\n          var i = [];\n          e(t = p(t, function (e, t) {\n            return {\n              index: t,\n              value: e\n            };\n          }), function (e, t) {\n            n(e.value, function (n) {\n              n && i.push(e), t();\n            });\n          }, function (e) {\n            r(p(i.sort(function (e, t) {\n              return e.index - t.index;\n            }), function (e) {\n              return e.value;\n            }));\n          });\n        };\n\n        s.filter = m(_), s.filterSeries = v(_), s.select = s.filter, s.selectSeries = s.filterSeries;\n\n        var S = function S(e, t, n, r) {\n          var i = [];\n          e(t = p(t, function (e, t) {\n            return {\n              index: t,\n              value: e\n            };\n          }), function (e, t) {\n            n(e.value, function (n) {\n              n || i.push(e), t();\n            });\n          }, function (e) {\n            r(p(i.sort(function (e, t) {\n              return e.index - t.index;\n            }), function (e) {\n              return e.value;\n            }));\n          });\n        };\n\n        s.reject = m(S), s.rejectSeries = v(S);\n\n        var b = function b(e, t, n, r) {\n          e(t, function (e, t) {\n            n(e, function (n) {\n              n ? (r(e), r = function r() {}) : t();\n            });\n          }, function (e) {\n            r();\n          });\n        };\n\n        s.detect = m(b), s.detectSeries = v(b), s.some = function (e, t, n) {\n          s.each(e, function (e, r) {\n            t(e, function (e) {\n              e && (n(!0), n = function n() {}), r();\n            });\n          }, function (e) {\n            n(!1);\n          });\n        }, s.any = s.some, s.every = function (e, t, n) {\n          s.each(e, function (e, r) {\n            t(e, function (e) {\n              e || (n(!1), n = function n() {}), r();\n            });\n          }, function (e) {\n            n(!0);\n          });\n        }, s.all = s.every, s.sortBy = function (e, t, n) {\n          s.map(e, function (e, n) {\n            t(e, function (t, r) {\n              t ? n(t) : n(null, {\n                value: e,\n                criteria: r\n              });\n            });\n          }, function (e, t) {\n            if (e) return n(e);\n            n(null, p(t.sort(function (e, t) {\n              var n = e.criteria,\n                  r = t.criteria;\n              return n < r ? -1 : n > r ? 1 : 0;\n            }), function (e) {\n              return e.value;\n            }));\n          });\n        }, s.auto = function (e, t) {\n          t = t || function () {};\n\n          var n = f(e),\n              r = n.length;\n          if (!r) return t();\n\n          var i = {},\n              o = [],\n              a = function a(e) {\n            o.unshift(e);\n          },\n              c = function c() {\n            r--, l(o.slice(0), function (e) {\n              e();\n            });\n          };\n\n          a(function () {\n            if (!r) {\n              var e = t;\n              t = function t() {}, e(null, i);\n            }\n          }), l(n, function (n) {\n            var r = d(e[n]) ? e[n] : [e[n]],\n                u = function u(e) {\n              var r = Array.prototype.slice.call(arguments, 1);\n\n              if (r.length <= 1 && (r = r[0]), e) {\n                var o = {};\n                l(f(i), function (e) {\n                  o[e] = i[e];\n                }), o[n] = r, t(e, o), t = function t() {};\n              } else i[n] = r, s.setImmediate(c);\n            },\n                p = r.slice(0, Math.abs(r.length - 1)) || [],\n                h = function h() {\n              return t = function t(e, _t7) {\n                return e && i.hasOwnProperty(_t7);\n              }, r = !0, ((e = p).reduce ? e.reduce(t, r) : (l(e, function (e, n, i) {\n                r = t(r, e, n, i);\n              }), r)) && !i.hasOwnProperty(n);\n              var e, t, r;\n            };\n\n            if (h()) r[r.length - 1](u, i);else {\n              var m = function m() {\n                h() && (!function (e) {\n                  for (var t = 0; t < o.length; t += 1) {\n                    if (o[t] === e) return void o.splice(t, 1);\n                  }\n                }(m), r[r.length - 1](u, i));\n              };\n\n              a(m);\n            }\n          });\n        }, s.retry = function (e, t, n) {\n          var r = [];\n          \"function\" == typeof e && (n = t, t = e, e = 5), e = parseInt(e, 10) || 5;\n\n          var i = function i(_i7, o) {\n            for (var a = function a(e, t) {\n              return function (n) {\n                e(function (e, r) {\n                  n(!e || t, {\n                    err: e,\n                    result: r\n                  });\n                }, o);\n              };\n            }; e;) {\n              r.push(a(t, !(e -= 1)));\n            }\n\n            s.series(r, function (e, t) {\n              t = t[t.length - 1], (_i7 || n)(t.err, t.result);\n            });\n          };\n\n          return n ? i() : i;\n        }, s.waterfall = function (e, t) {\n          if (t = t || function () {}, !d(e)) {\n            var n = new Error(\"First argument to waterfall must be an array of functions\");\n            return t(n);\n          }\n\n          if (!e.length) return t();\n\n          var r = function r(e) {\n            return function (n) {\n              if (n) t.apply(null, arguments), t = function t() {};else {\n                var i = Array.prototype.slice.call(arguments, 1),\n                    o = e.next();\n                o ? i.push(r(o)) : i.push(t), s.setImmediate(function () {\n                  e.apply(null, i);\n                });\n              }\n            };\n          };\n\n          r(s.iterator(e))();\n        };\n\n        var E = function E(e, t, n) {\n          if (n = n || function () {}, d(t)) e.map(t, function (e, t) {\n            e && e(function (e) {\n              var n = Array.prototype.slice.call(arguments, 1);\n              n.length <= 1 && (n = n[0]), t.call(null, e, n);\n            });\n          }, n);else {\n            var r = {};\n            e.each(f(t), function (e, n) {\n              t[e](function (t) {\n                var i = Array.prototype.slice.call(arguments, 1);\n                i.length <= 1 && (i = i[0]), r[e] = i, n(t);\n              });\n            }, function (e) {\n              n(e, r);\n            });\n          }\n        };\n\n        s.parallel = function (e, t) {\n          E({\n            map: s.map,\n            each: s.each\n          }, e, t);\n        }, s.parallelLimit = function (e, t, n) {\n          E({\n            map: y(t),\n            each: h(t)\n          }, e, n);\n        }, s.series = function (e, t) {\n          if (t = t || function () {}, d(e)) s.mapSeries(e, function (e, t) {\n            e && e(function (e) {\n              var n = Array.prototype.slice.call(arguments, 1);\n              n.length <= 1 && (n = n[0]), t.call(null, e, n);\n            });\n          }, t);else {\n            var n = {};\n            s.eachSeries(f(e), function (t, r) {\n              e[t](function (e) {\n                var i = Array.prototype.slice.call(arguments, 1);\n                i.length <= 1 && (i = i[0]), n[t] = i, r(e);\n              });\n            }, function (e) {\n              t(e, n);\n            });\n          }\n        }, s.iterator = function (e) {\n          var t = function t(n) {\n            var r = function r() {\n              return e.length && e[n].apply(null, arguments), r.next();\n            };\n\n            return r.next = function () {\n              return n < e.length - 1 ? t(n + 1) : null;\n            }, r;\n          };\n\n          return t(0);\n        }, s.apply = function (e) {\n          var t = Array.prototype.slice.call(arguments, 1);\n          return function () {\n            return e.apply(null, t.concat(Array.prototype.slice.call(arguments)));\n          };\n        };\n\n        var T = function T(e, t, n, r) {\n          var i = [];\n          e(t, function (e, t) {\n            n(e, function (e, n) {\n              i = i.concat(n || []), t(e);\n            });\n          }, function (e) {\n            r(e, i);\n          });\n        };\n\n        s.concat = m(T), s.concatSeries = v(T), s.whilst = function (e, t, n) {\n          e() ? t(function (r) {\n            if (r) return n(r);\n            s.whilst(e, t, n);\n          }) : n();\n        }, s.doWhilst = function (e, t, n) {\n          e(function (r) {\n            if (r) return n(r);\n            var i = Array.prototype.slice.call(arguments, 1);\n            t.apply(null, i) ? s.doWhilst(e, t, n) : n();\n          });\n        }, s.until = function (e, t, n) {\n          e() ? n() : t(function (r) {\n            if (r) return n(r);\n            s.until(e, t, n);\n          });\n        }, s.doUntil = function (e, t, n) {\n          e(function (r) {\n            if (r) return n(r);\n            var i = Array.prototype.slice.call(arguments, 1);\n            t.apply(null, i) ? n() : s.doUntil(e, t, n);\n          });\n        }, s.queue = function (e, t) {\n          function n(e, t, n, r) {\n            if (e.started || (e.started = !0), d(t) || (t = [t]), 0 == t.length) return s.setImmediate(function () {\n              e.drain && e.drain();\n            });\n            l(t, function (t) {\n              var i = {\n                data: t,\n                callback: \"function\" == typeof r ? r : null\n              };\n              n ? e.tasks.unshift(i) : e.tasks.push(i), e.saturated && e.tasks.length === e.concurrency && e.saturated(), s.setImmediate(e.process);\n            });\n          }\n\n          void 0 === t && (t = 1);\n          var r = 0,\n              i = {\n            tasks: [],\n            concurrency: t,\n            saturated: null,\n            empty: null,\n            drain: null,\n            started: !1,\n            paused: !1,\n            push: function push(e, t) {\n              n(i, e, !1, t);\n            },\n            kill: function kill() {\n              i.drain = null, i.tasks = [];\n            },\n            unshift: function unshift(e, t) {\n              n(i, e, !0, t);\n            },\n            process: function process() {\n              if (!i.paused && r < i.concurrency && i.tasks.length) {\n                var t = i.tasks.shift();\n                i.empty && 0 === i.tasks.length && i.empty(), r += 1;\n                var n = c(function () {\n                  r -= 1, t.callback && t.callback.apply(t, arguments), i.drain && i.tasks.length + r === 0 && i.drain(), i.process();\n                });\n                e(t.data, n);\n              }\n            },\n            length: function length() {\n              return i.tasks.length;\n            },\n            running: function running() {\n              return r;\n            },\n            idle: function idle() {\n              return i.tasks.length + r === 0;\n            },\n            pause: function pause() {\n              !0 !== i.paused && (i.paused = !0, i.process());\n            },\n            resume: function resume() {\n              !1 !== i.paused && (i.paused = !1, i.process());\n            }\n          };\n          return i;\n        }, s.priorityQueue = function (e, t) {\n          function n(e, t) {\n            return e.priority - t.priority;\n          }\n\n          var r = s.queue(e, t);\n          return r.push = function (e, t, i) {\n            !function (e, t, r, i) {\n              if (e.started || (e.started = !0), d(t) || (t = [t]), 0 == t.length) return s.setImmediate(function () {\n                e.drain && e.drain();\n              });\n              l(t, function (t) {\n                var o = {\n                  data: t,\n                  priority: r,\n                  callback: \"function\" == typeof i ? i : null\n                };\n                e.tasks.splice(function (e, t, n) {\n                  for (var r = -1, i = e.length - 1; r < i;) {\n                    var o = r + (i - r + 1 >>> 1);\n                    n(t, e[o]) >= 0 ? r = o : i = o - 1;\n                  }\n\n                  return r;\n                }(e.tasks, o, n) + 1, 0, o), e.saturated && e.tasks.length === e.concurrency && e.saturated(), s.setImmediate(e.process);\n              });\n            }(r, e, t, i);\n          }, delete r.unshift, r;\n        }, s.cargo = function (e, t) {\n          var n = !1,\n              r = [],\n              i = {\n            tasks: r,\n            payload: t,\n            saturated: null,\n            empty: null,\n            drain: null,\n            drained: !0,\n            push: function push(e, n) {\n              d(e) || (e = [e]), l(e, function (e) {\n                r.push({\n                  data: e,\n                  callback: \"function\" == typeof n ? n : null\n                }), i.drained = !1, i.saturated && r.length === t && i.saturated();\n              }), s.setImmediate(i.process);\n            },\n            process: function o() {\n              if (!n) {\n                if (0 === r.length) return i.drain && !i.drained && i.drain(), void (i.drained = !0);\n                var a = \"number\" == typeof t ? r.splice(0, t) : r.splice(0, r.length),\n                    s = p(a, function (e) {\n                  return e.data;\n                });\n                i.empty && i.empty(), n = !0, e(s, function () {\n                  n = !1;\n                  var e = arguments;\n                  l(a, function (t) {\n                    t.callback && t.callback.apply(null, e);\n                  }), o();\n                });\n              }\n            },\n            length: function length() {\n              return r.length;\n            },\n            running: function running() {\n              return n;\n            }\n          };\n          return i;\n        };\n\n        var C = function C(e) {\n          return function (t) {\n            var n = Array.prototype.slice.call(arguments, 1);\n            t.apply(null, n.concat([function (t) {\n              var n = Array.prototype.slice.call(arguments, 1);\n              \"undefined\" != typeof console && (t ? console.error && console.error(t) : console[e] && l(n, function (t) {\n                console[e](t);\n              }));\n            }]));\n          };\n        };\n\n        s.log = C(\"log\"), s.dir = C(\"dir\"), s.memoize = function (e, t) {\n          var n = {},\n              r = {};\n\n          t = t || function (e) {\n            return e;\n          };\n\n          var i = function i() {\n            var i = Array.prototype.slice.call(arguments),\n                o = i.pop(),\n                a = t.apply(null, i);\n            a in n ? s.nextTick(function () {\n              o.apply(null, n[a]);\n            }) : a in r ? r[a].push(o) : (r[a] = [o], e.apply(null, i.concat([function () {\n              n[a] = arguments;\n              var e = r[a];\n              delete r[a];\n\n              for (var t = 0, i = e.length; t < i; t++) {\n                e[t].apply(null, arguments);\n              }\n            }])));\n          };\n\n          return i.memo = n, i.unmemoized = e, i;\n        }, s.unmemoize = function (e) {\n          return function () {\n            return (e.unmemoized || e).apply(null, arguments);\n          };\n        }, s.times = function (e, t, n) {\n          for (var r = [], i = 0; i < e; i++) {\n            r.push(i);\n          }\n\n          return s.map(r, t, n);\n        }, s.timesSeries = function (e, t, n) {\n          for (var r = [], i = 0; i < e; i++) {\n            r.push(i);\n          }\n\n          return s.mapSeries(r, t, n);\n        }, s.seq = function () {\n          var e = arguments;\n          return function () {\n            var t = this,\n                n = Array.prototype.slice.call(arguments),\n                r = n.pop();\n            s.reduce(e, n, function (e, n, r) {\n              n.apply(t, e.concat([function () {\n                var e = arguments[0],\n                    t = Array.prototype.slice.call(arguments, 1);\n                r(e, t);\n              }]));\n            }, function (e, n) {\n              r.apply(t, [e].concat(n));\n            });\n          };\n        }, s.compose = function () {\n          return s.seq.apply(null, Array.prototype.reverse.call(arguments));\n        };\n\n        var A = function A(e, t) {\n          var n = function n() {\n            var n = this,\n                r = Array.prototype.slice.call(arguments),\n                i = r.pop();\n            return e(t, function (e, t) {\n              e.apply(n, r.concat([t]));\n            }, i);\n          };\n\n          if (arguments.length > 2) {\n            var r = Array.prototype.slice.call(arguments, 2);\n            return n.apply(this, r);\n          }\n\n          return n;\n        };\n\n        s.applyEach = m(A), s.applyEachSeries = v(A), s.forever = function (e, t) {\n          !function n(r) {\n            if (r) {\n              if (t) return t(r);\n              throw r;\n            }\n\n            e(n);\n          }();\n        }, e.exports ? e.exports = s : void 0 === (i = function () {\n          return s;\n        }.apply(t, [])) || (e.exports = i);\n      }();\n    }).call(this, n(48), n(149).setImmediate);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(2),\n          o = n(11),\n          a = n.n(o),\n          s = Object(r.getLogger)(e),\n          c = -1,\n          u = /request id \\d+.\\d+ got 200/,\n          d = /request errored, status: (\\d+), number of errors: \\d+/;\n\n      t.a = function () {\n        i.Strophe.log = function (e, t) {\n          switch (s.trace(\"Strophe\", e, t), \"string\" == typeof t && -1 !== t.indexOf(\"Request \") && -1 !== t.indexOf(\"timed out (secondary), restarting\") && (e = i.Strophe.LogLevel.WARN), e) {\n            case i.Strophe.LogLevel.DEBUG:\n              -1 !== c && u.test(t) && (s.debug(\"Reset lastErrorStatus\"), c = -1);\n              break;\n\n            case i.Strophe.LogLevel.WARN:\n              s.warn(\"Strophe: \".concat(t));\n              var n = d.exec(t);\n              n && 2 === n.length && (c = parseInt(n[1], 10), s.debug(\"lastErrorStatus set to: \".concat(c)));\n              break;\n\n            case i.Strophe.LogLevel.ERROR:\n            case i.Strophe.LogLevel.FATAL:\n              t = \"Strophe: \".concat(t), a.a.callErrorHandler(new Error(t)), s.error(t);\n          }\n        }, i.Strophe.getLastErrorStatus = function () {\n          return c;\n        }, i.Strophe.getStatusString = function (e) {\n          switch (e) {\n            case i.Strophe.Status.ERROR:\n              return \"ERROR\";\n\n            case i.Strophe.Status.CONNECTING:\n              return \"CONNECTING\";\n\n            case i.Strophe.Status.CONNFAIL:\n              return \"CONNFAIL\";\n\n            case i.Strophe.Status.AUTHENTICATING:\n              return \"AUTHENTICATING\";\n\n            case i.Strophe.Status.AUTHFAIL:\n              return \"AUTHFAIL\";\n\n            case i.Strophe.Status.CONNECTED:\n              return \"CONNECTED\";\n\n            case i.Strophe.Status.DISCONNECTED:\n              return \"DISCONNECTED\";\n\n            case i.Strophe.Status.DISCONNECTING:\n              return \"DISCONNECTING\";\n\n            case i.Strophe.Status.ATTACHED:\n              return \"ATTACHED\";\n\n            default:\n              return \"unknown\";\n          }\n        };\n      };\n    }).call(this, \"modules/xmpp/strophe.util.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(2),\n          o = n(11),\n          a = n.n(o),\n          s = n(35);\n\n      function c(e) {\n        return (c = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function u(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function d(e, t) {\n        return !t || \"object\" !== c(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function l(e, t, n) {\n        return (l = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n          var r = function (e, t) {\n            for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e));) {\n              ;\n            }\n\n            return e;\n          }(e, t);\n\n          if (r) {\n            var i = Object.getOwnPropertyDescriptor(r, t);\n            return i.get ? i.get.call(n) : i.value;\n          }\n        })(e, t, n || e);\n      }\n\n      function p(e) {\n        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function f(e, t) {\n        return (f = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var h = Object(r.getLogger)(e),\n          m = 12,\n          v = function (e) {\n        function t(e) {\n          var n;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (n = d(this, p(t).call(this))).failedPings = 0, n.xmpp = e, n.pingExecIntervals = new Array(m), n;\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && f(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"init\",\n          value: function value(e) {\n            l(p(t.prototype), \"init\", this).call(this, e), i.Strophe.addNamespace(\"PING\", \"urn:xmpp:ping\");\n          }\n        }, {\n          key: \"ping\",\n          value: function value(e, t, n, r) {\n            this._addPingExecutionTimestamp();\n\n            var o = Object(i.$iq)({\n              type: \"get\",\n              to: e\n            });\n            o.c(\"ping\", {\n              xmlns: i.Strophe.NS.PING\n            }), this.connection.sendIQ(o, t, n, r);\n          }\n        }, {\n          key: \"startInterval\",\n          value: function value(e) {\n            var t = this,\n                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e4;\n\n            if (this.intervalId) {\n              var r = \"Ping task scheduled already\";\n              return a.a.callErrorHandler(new Error(r)), void h.error(r);\n            }\n\n            this.intervalId = window.setInterval(function () {\n              t.ping(e, function () {\n                t.failedPings = 0;\n              }, function (e) {\n                t.failedPings += 1;\n                var n = \"Ping \".concat(e ? \"error\" : \"timeout\");\n                t.failedPings >= 3 ? (a.a.callErrorHandler(new Error(n)), h.error(n, e)) : h.warn(n, e);\n              }, 15e3);\n            }, n), h.info(\"XMPP pings will be sent every \".concat(n, \" ms\"));\n          }\n        }, {\n          key: \"stopInterval\",\n          value: function value() {\n            this.intervalId && (window.clearInterval(this.intervalId), this.intervalId = null, this.failedPings = 0, h.info(\"Ping interval cleared\"));\n          }\n        }, {\n          key: \"_addPingExecutionTimestamp\",\n          value: function value() {\n            this.pingExecIntervals.push(new Date().getTime()), this.pingExecIntervals.length > m && this.pingExecIntervals.shift();\n          }\n        }, {\n          key: \"getPingSuspendTime\",\n          value: function value() {\n            var e = this.pingExecIntervals.slice();\n            e.push(new Date().getTime());\n            var t = 0,\n                n = e[0];\n            return e.forEach(function (e) {\n              var r = e - n;\n              r > t && (t = r), n = e;\n            }), t -= 1e4, Math.max(t, 0);\n          }\n        }]) && u(n.prototype, r), o && u(n, o), t;\n      }(s.b);\n\n      t.a = function (e) {\n        i.Strophe.addConnectionPlugin(\"ping\", new v(e));\n      };\n    }).call(this, \"modules/xmpp/strophe.ping.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(2),\n          o = n(35);\n\n      function a(e) {\n        return (a = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function s(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function c(e, t) {\n        return !t || \"object\" !== a(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function u(e, t, n) {\n        return (u = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n          var r = function (e, t) {\n            for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e));) {\n              ;\n            }\n\n            return e;\n          }(e, t);\n\n          if (r) {\n            var i = Object.getOwnPropertyDescriptor(r, t);\n            return i.get ? i.get.call(n) : i.value;\n          }\n        })(e, t, n || e);\n      }\n\n      function d(e) {\n        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function l(e, t) {\n        return (l = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var p = Object(r.getLogger)(e),\n          f = function (e) {\n        function t() {\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), c(this, d(t).apply(this, arguments));\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && l(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"init\",\n          value: function value(e) {\n            u(d(t.prototype), \"init\", this).call(this, e), this.connection.addHandler(this.onRayo.bind(this), \"urn:xmpp:rayo:1\", \"iq\", \"set\", null, null);\n          }\n        }, {\n          key: \"onRayo\",\n          value: function value(e) {\n            p.info(\"Rayo IQ\", e);\n          }\n        }, {\n          key: \"dial\",\n          value: function value(e, t, n, r, o) {\n            var a = this;\n            return new Promise(function (s, c) {\n              if (o) {\n                var u = Object(i.$iq)({\n                  type: \"set\",\n                  to: o\n                });\n                u.c(\"dial\", {\n                  xmlns: \"urn:xmpp:rayo:1\",\n                  to: e,\n                  from: t\n                }), u.c(\"header\", {\n                  name: \"JvbRoomName\",\n                  value: n\n                }).up(), r && r.length && u.c(\"header\", {\n                  name: \"JvbRoomPassword\",\n                  value: r\n                }).up(), a.connection.sendIQ(u, function (e) {\n                  p.info(\"Dial result \", e);\n                  var t = $(e).find(\"ref\").attr(\"uri\");\n                  a.callResource = t.substr(\"xmpp:\".length), p.info(\"Received call resource: \".concat(a.callResource)), s();\n                }, function (e) {\n                  p.info(\"Dial error \", e), c(e);\n                });\n              } else c(new Error(\"Internal error!\"));\n            });\n          }\n        }, {\n          key: \"hangup\",\n          value: function value() {\n            var e = this;\n            return new Promise(function (t, n) {\n              if (!e.callResource) return n(new Error(\"No call in progress\")), void p.warn(\"No call in progress\");\n              var r = Object(i.$iq)({\n                type: \"set\",\n                to: e.callResource\n              });\n              r.c(\"hangup\", {\n                xmlns: \"urn:xmpp:rayo:1\"\n              }), e.connection.sendIQ(r, function (n) {\n                p.info(\"Hangup result \", n), e.callResource = null, t();\n              }, function (t) {\n                p.info(\"Hangup error \", t), e.callResource = null, n(new Error(\"Hangup error \"));\n              });\n            });\n          }\n        }]) && s(n.prototype, r), o && s(n, o), t;\n      }(o.b);\n\n      t.a = function () {\n        i.Strophe.addConnectionPlugin(\"rayo\", new f());\n      };\n    }).call(this, \"modules/xmpp/strophe.rayo.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(2);\n\n    function i(e) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function o(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function a(e, t) {\n      return !t || \"object\" !== i(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function s(e, t, n) {\n      return (s = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {\n        var r = function (e, t) {\n          for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e));) {\n            ;\n          }\n\n          return e;\n        }(e, t);\n\n        if (r) {\n          var i = Object.getOwnPropertyDescriptor(r, t);\n          return i.get ? i.get.call(n) : i.value;\n        }\n      })(e, t, n || e);\n    }\n\n    function c(e) {\n      return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function u(e, t) {\n      return (u = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var d = function (e) {\n      function t() {\n        var e;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (e = a(this, c(t).call(this))).log = [], e;\n      }\n\n      var n, r, i;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && u(e, t);\n      }(t, e), n = t, (r = [{\n        key: \"init\",\n        value: function value(e) {\n          s(c(t.prototype), \"init\", this).call(this, e), this.connection.rawInput = this.logIncoming.bind(this), this.connection.rawOutput = this.logOutgoing.bind(this);\n        }\n      }, {\n        key: \"logIncoming\",\n        value: function value(e) {\n          this.log.push([new Date().getTime(), \"incoming\", e]);\n        }\n      }, {\n        key: \"logOutgoing\",\n        value: function value(e) {\n          this.log.push([new Date().getTime(), \"outgoing\", e]);\n        }\n      }]) && o(n.prototype, r), i && o(n, i), t;\n    }(n(35).b);\n\n    t.a = function () {\n      r.Strophe.addConnectionPlugin(\"logger\", new d());\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    n.d(t, \"a\", function () {\n      return i;\n    });\n\n    var i = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._nextValidRid = null, this._lastSuccess = null;\n      }\n\n      var t, n, i;\n      return t = e, (n = [{\n        key: \"startTracking\",\n        value: function value(e) {\n          var t = this;\n\n          e.nextValidRid = function (e) {\n            t._nextValidRid === e - 1 && (t._lastSuccess = new Date().getTime()), t._nextValidRid = e;\n          };\n        }\n      }, {\n        key: \"getTimeSinceLastSuccess\",\n        value: function value() {\n          return this._lastSuccess ? new Date().getTime() - this._lastSuccess : null;\n        }\n      }]) && r(t.prototype, n), i && r(t, i), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(2),\n          i = n(0),\n          o = n.n(i),\n          a = n(25);\n\n      function s(e) {\n        return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function u(e) {\n        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function d(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function l(e, t) {\n        return (l = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var p = n(4).getLogger(e),\n          f = [\"category\", \"type\", \"lang\", \"name\"],\n          h = [\"category\", \"type\", \"lang\"];\n\n      function m(e, t) {\n        var n = 0;\n        return h.some(function (r) {\n          return 0 !== (n = e[r] > t[r] ? 1 : e[r] < t[r] && -1);\n        }), n;\n      }\n\n      function v(e, t) {\n        var n = e.sort(m).reduce(function (e, t) {\n          return \"\".concat(f.reduce(function (e, n, r) {\n            return e + (0 === r ? \"\" : \"/\") + (t[n] ? t[n] : \"\");\n          }, \"\"), \"<\");\n        }, \"\"),\n            i = t.sort().reduce(function (e, t) {\n          return \"\".concat(e + t, \"<\");\n        }, \"\");\n        return Object(r.b64_sha1)(n + i);\n      }\n\n      var g = function (e) {\n        function t() {\n          var e,\n              n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n              i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"http://jitsi.org/jitsimeet\";\n          if (function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (e = function (e, t) {\n            return !t || \"object\" !== s(t) && \"function\" != typeof t ? d(e) : t;\n          }(this, u(t).call(this))).node = i, e.disco = n.disco, !e.disco) throw new Error(\"Missing strophe-plugins (disco plugin is required)!\");\n          e.versionToCapabilities = Object.create(null), e.jidToVersion = Object.create(null), e.version = \"\", e.rooms = new Set();\n          var a = n.emuc;\n          return a.addListener(o.a.EMUC_ROOM_ADDED, function (t) {\n            return e._addChatRoom(t);\n          }), a.addListener(o.a.EMUC_ROOM_REMOVED, function (t) {\n            return e._removeChatRoom(t);\n          }), Object.keys(a.rooms).forEach(function (t) {\n            e._addChatRoom(a.rooms[t]);\n          }), r.Strophe.addNamespace(\"CAPS\", \"http://jabber.org/protocol/caps\"), e.disco.addFeature(r.Strophe.NS.CAPS), n.addHandler(e._handleCaps.bind(d(e)), r.Strophe.NS.CAPS), e._onMucMemberLeft = e._removeJidToVersionEntry.bind(d(e)), e;\n        }\n\n        var n, i, a;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && l(e, t);\n        }(t, e), n = t, (i = [{\n          key: \"addFeature\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n            this.disco.addFeature(e), this._generateVersion(), t && this.submit();\n          }\n        }, {\n          key: \"removeFeature\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n            this.disco.removeFeature(e), this._generateVersion(), t && this.submit();\n          }\n        }, {\n          key: \"submit\",\n          value: function value() {\n            this.rooms.forEach(function (e) {\n              return e.sendPresence();\n            });\n          }\n        }, {\n          key: \"getFeatures\",\n          value: function value(e) {\n            var t = this,\n                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e3,\n                r = e in this.jidToVersion ? this.jidToVersion[e] : null;\n\n            if (!(r && r.version in this.versionToCapabilities)) {\n              var i = r ? \"\".concat(r.node, \"#\").concat(r.version) : null;\n              return this._getDiscoInfo(e, i, n).then(function (e) {\n                var n = e.features,\n                    o = e.identities;\n\n                if (r) {\n                  var a = v(Array.from(o), Array.from(n)),\n                      s = \"\".concat(r.node, \"#\").concat(a);\n                  return s === i ? (t.versionToCapabilities[s] = n, n) : t.versionToCapabilities[s] ? t.versionToCapabilities[s] : (p.error(\"Expected node \".concat(i, \" but received \").concat(s)), Promise.reject(\"Feature version mismatch\"));\n                }\n              });\n            }\n\n            return Promise.resolve(this.versionToCapabilities[r.version]);\n          }\n        }, {\n          key: \"getFeaturesAndIdentities\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e3;\n            return this._getDiscoInfo(e, null, t);\n          }\n        }, {\n          key: \"_getDiscoInfo\",\n          value: function value(e, t, n) {\n            var r = this;\n            return new Promise(function (i, o) {\n              return r.disco.info(e, t, function (e) {\n                var t = new Set(),\n                    n = new Set();\n                $(e).find(\">query>feature\").each(function (e, n) {\n                  return t.add(n.getAttribute(\"var\"));\n                }), $(e).find(\">query>identity\").each(function (e, t) {\n                  return n.add({\n                    type: t.getAttribute(\"type\"),\n                    name: t.getAttribute(\"name\"),\n                    category: t.getAttribute(\"category\")\n                  });\n                }), i({\n                  features: t,\n                  identities: n\n                });\n              }, o, n);\n            });\n          }\n        }, {\n          key: \"_addChatRoom\",\n          value: function value(e) {\n            this.rooms.add(e), e.addListener(o.a.MUC_MEMBER_LEFT, this._onMucMemberLeft), this._fixChatRoomPresenceMap(e);\n          }\n        }, {\n          key: \"_removeChatRoom\",\n          value: function value(e) {\n            this.rooms.delete(e), e.removeListener(o.a.MUC_MEMBER_LEFT, this._onMucMemberLeft);\n          }\n        }, {\n          key: \"_fixChatRoomPresenceMap\",\n          value: function value(e) {\n            e.addToPresence(\"c\", {\n              attributes: {\n                xmlns: r.Strophe.NS.CAPS,\n                hash: \"sha-1\",\n                node: this.node,\n                ver: this.version\n              }\n            });\n          }\n        }, {\n          key: \"_notifyVersionChanged\",\n          value: function value() {\n            var e = this;\n            this.rooms.forEach(function (t) {\n              return e._fixChatRoomPresenceMap(t);\n            });\n          }\n        }, {\n          key: \"_generateVersion\",\n          value: function value() {\n            this.version = v(this.disco._identities, this.disco._features), this._notifyVersionChanged();\n          }\n        }, {\n          key: \"_handleCaps\",\n          value: function value(e) {\n            var t = e.getAttribute(\"from\"),\n                n = e.querySelector(\"c\"),\n                r = n.getAttribute(\"ver\"),\n                i = n.getAttribute(\"node\"),\n                a = this.jidToVersion[t];\n            return this.jidToVersion[t] = {\n              version: r,\n              node: i\n            }, a && a.version !== r && this.eventEmitter.emit(o.a.PARTCIPANT_FEATURES_CHANGED, t), !0;\n          }\n        }, {\n          key: \"_removeJidToVersionEntry\",\n          value: function value(e) {\n            e in this.jidToVersion && delete this.jidToVersion[e];\n          }\n        }]) && c(n.prototype, i), a && c(n, a), t;\n      }(a.a);\n    }).call(this, \"modules/xmpp/Caps.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return s;\n    });\n    var r = n(1),\n        i = n(8),\n        o = n.n(i);\n\n    function a(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var s = function () {\n      function e(t) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.conference = t, t.addEventListener(r.TRACK_AUDIO_LEVEL_CHANGED, this._audioLevel.bind(this)), this.myUserID = this.conference.myUserId();\n      }\n\n      var t, n, i;\n      return t = e, (n = [{\n        key: \"_audioLevel\",\n        value: function value(e, t) {\n          !this.conference.isP2PActive() || t <= .6 || e === this.myUserID && this.conference.getLocalAudioTrack().isMuted() || this.conference.rtc.eventEmitter.emit(o.a.DOMINANT_SPEAKER_CHANGED, e);\n        }\n      }]) && a(t.prototype, n), i && a(t, i), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return o;\n    });\n    var r = n(1);\n\n    function i(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var o = function () {\n      function e(t, n) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._callback = n, this._eventFired = !1, t.statistics.addAudioLevelListener(this._audioLevel.bind(this)), t.on(r.TRACK_MUTE_CHANGED, this._trackMuteChanged.bind(this)), t.on(r.TRACK_ADDED, this._trackAdded.bind(this));\n      }\n\n      var t, n, o;\n      return t = e, (n = [{\n        key: \"_audioLevel\",\n        value: function value(e, t, n, r) {\n          r && this.audioTrack && !this._eventFired && this.audioTrack.isMuted() && n > .6 && (this._eventFired = !0, this._callback());\n        }\n      }, {\n        key: \"_isLocalAudioTrack\",\n        value: function value(e) {\n          return e.isAudioTrack() && e.isLocal();\n        }\n      }, {\n        key: \"_trackAdded\",\n        value: function value(e) {\n          this._isLocalAudioTrack(e) && (this.audioTrack = e);\n        }\n      }, {\n        key: \"_trackMuteChanged\",\n        value: function value(e) {\n          this._isLocalAudioTrack(e) && e.isMuted() && (this._eventFired = !1);\n        }\n      }]) && i(t.prototype, n), o && i(t, o), e;\n    }();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return h;\n      });\n      var r = n(22),\n          i = n(4),\n          o = n(1),\n          a = n(26),\n          s = n(52);\n\n      function c(e) {\n        return (c = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function u(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function d(e) {\n        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function l(e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }\n\n      function p(e, t) {\n        return (p = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var f = Object(i.getLogger)(e),\n          h = function (e) {\n        function t(e, n) {\n          var r;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (r = function (e, t) {\n            return !t || \"object\" !== c(t) && \"function\" != typeof t ? l(e) : t;\n          }(this, d(t).call(this)))._createVADProcessor = n, r._vadEmitter = null, r._processing = !1, r._scoreArray = [], r._vadInitTracker = Promise.resolve(), r._processVADScore = r._processVADScore.bind(l(r)), e.on(o.TRACK_ADDED, r._trackAdded.bind(l(r))), e.on(o.TRACK_REMOVED, r._trackRemoved.bind(l(r))), e.on(o.TRACK_MUTE_CHANGED, r._trackMuteChanged.bind(l(r))), r;\n        }\n\n        var n, r, i;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && p(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"_startVADEmitter\",\n          value: function value() {\n            this._vadEmitter.on(a.VAD_SCORE_PUBLISHED, this._processVADScore), this._vadEmitter.start();\n          }\n        }, {\n          key: \"_stopVADEmitter\",\n          value: function value() {\n            this._vadEmitter.removeListener(a.VAD_SCORE_PUBLISHED, this._processVADScore), this._vadEmitter.stop();\n          }\n        }, {\n          key: \"_calculateAverage\",\n          value: function value(e) {\n            return e.length > 0 ? e.reduce(function (e, t) {\n              return e + t;\n            }) / e.length : 0;\n          }\n        }, {\n          key: \"_calculateVADScore\",\n          value: function value() {\n            this._calculateAverage(this._scoreArray) > .6 && (this.emit(a.VAD_TALK_WHILE_MUTED, {}), this._stopVADEmitter()), this._reset();\n          }\n        }, {\n          key: \"_processVADScore\",\n          value: function value(e) {\n            e.score > .9 && !this._processing && (this._processing = !0, this._processTimeout = setTimeout(this._calculateVADScore.bind(this), 1500)), this._processing && this._scoreArray.push(e.score);\n          }\n        }, {\n          key: \"_reset\",\n          value: function value() {\n            this._processing = !1, this._scoreArray = [], clearTimeout(this._processTimeout);\n          }\n        }, {\n          key: \"_trackAdded\",\n          value: function value(e) {\n            var t = this;\n            e.isLocalAudioTrack() && (this._vadInitTracker = this._vadInitTracker.then(function () {\n              return t._createVADProcessor();\n            }).then(function (t) {\n              return s.a.create(e.getDeviceId(), 4096, t);\n            }).then(function (n) {\n              f.debug(\"Created VAD emitter for track: \", e.getTrackLabel()), t._vadEmitter = n, e.isMuted() && t._startVADEmitter();\n            }));\n          }\n        }, {\n          key: \"_trackMuteChanged\",\n          value: function value(e) {\n            var t = this;\n            e.isLocalAudioTrack() && (this._vadInitTracker = this._vadInitTracker.then(function () {\n              t._reset(), e.isMuted() ? t._startVADEmitter() : t._stopVADEmitter();\n            }));\n          }\n        }, {\n          key: \"_trackRemoved\",\n          value: function value(e) {\n            var t = this;\n            e.isLocalAudioTrack() && (this._vadInitTracker = this._vadInitTracker.then(function () {\n              f.debug(\"Removing track from VAD detection - \", e.getTrackLabel()), t._vadEmitter && (t._stopVADEmitter(), t._reset(), t._vadEmitter.destroy(), t._vadEmitter = null);\n            }));\n          }\n        }]) && u(n.prototype, r), i && u(n, i), t;\n      }(r.EventEmitter);\n    }).call(this, \"modules/detection/VADTalkMutedDetection.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return p;\n    });\n    var r = n(22),\n        i = n.n(r),\n        o = n(1),\n        a = n(26);\n\n    function s(e) {\n      return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function c(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function u(e) {\n      return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function d(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n\n    function l(e, t) {\n      return (l = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var p = function (e) {\n      function t(e) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = function (e, t) {\n          return !t || \"object\" !== s(t) && \"function\" != typeof t ? d(e) : t;\n        }(this, u(t).call(this)))._conference = e, n._timeoutTrigger = null, n._hasAudioInput = null, e.statistics.addAudioLevelListener(n._audioLevel.bind(d(n))), e.on(o.TRACK_ADDED, n._trackAdded.bind(d(n))), n;\n      }\n\n      var n, r, i;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && l(e, t);\n      }(t, e), n = t, (r = [{\n        key: \"_clearTriggerTimeout\",\n        value: function value() {\n          clearTimeout(this._timeoutTrigger), this._timeoutTrigger = null;\n        }\n      }, {\n        key: \"_handleAudioInputStateChange\",\n        value: function value(e) {\n          var t = 0 !== e;\n          null !== this._hasAudioInput && this._hasAudioInput === t || (this._hasAudioInput = t, this.emit(a.AUDIO_INPUT_STATE_CHANGE, this._hasAudioInput));\n        }\n      }, {\n        key: \"_handleNoAudioInputDetection\",\n        value: function value(e) {\n          var t = this;\n          this._eventFired || (0 !== e || this._timeoutTrigger ? 0 !== e && this._timeoutTrigger && this._clearTriggerTimeout() : this._timeoutTrigger = setTimeout(function () {\n            t._eventFired = !0, t.emit(a.NO_AUDIO_INPUT);\n          }, 4e3));\n        }\n      }, {\n        key: \"_audioLevel\",\n        value: function value(e, t, n, r) {\n          if (r && this._audioTrack) {\n            var i = e.localSSRCs.get(this._audioTrack.rtcId);\n            i && i.ssrcs.includes(t) && (this._handleAudioInputStateChange(n), this._handleNoAudioInputDetection(n));\n          }\n        }\n      }, {\n        key: \"_trackAdded\",\n        value: function value(e) {\n          e.isLocalAudioTrack() && (this._audioTrack = e, this._eventFired = !1, this._clearTriggerTimeout());\n        }\n      }]) && c(n.prototype, r), i && c(n, i), t;\n    }(i.a);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return v;\n      });\n      var r = n(28),\n          i = n(1),\n          o = n(4);\n\n      function a(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var s = n(0),\n          c = n(14),\n          u = n(30),\n          d = Object(o.getLogger)(e),\n          l = \"stats\",\n          p = [{\n        width: 1920,\n        height: 1080,\n        layers: 3,\n        max: 5e3,\n        target: 4e3,\n        min: 800\n      }, {\n        width: 1280,\n        height: 720,\n        layers: 3,\n        max: 2500,\n        target: 2500,\n        min: 600\n      }, {\n        width: 960,\n        height: 540,\n        layers: 3,\n        max: 900,\n        target: 900,\n        min: 450\n      }, {\n        width: 640,\n        height: 360,\n        layers: 2,\n        max: 700,\n        target: 500,\n        min: 150\n      }, {\n        width: 480,\n        height: 270,\n        layers: 2,\n        max: 450,\n        target: 350,\n        min: 150\n      }, {\n        width: 320,\n        height: 180,\n        layers: 1,\n        max: 200,\n        target: 150,\n        min: 30\n      }],\n          f = 800,\n          h = null;\n\n      function m(e, t, n) {\n        if (n < 15e3) return 1;\n        var r = 0,\n            i = Math.min(t.height, t.width);\n\n        if (e) {\n          var o = p.find(function (e) {\n            return e.height <= i;\n          });\n\n          if (o) {\n            var a = function a() {\n              var e = i;\n              if (!(o = p.find(function (t) {\n                return t.height === e;\n              }))) return \"break\";\n              r += o.target;\n            };\n\n            for (i = o.height; i >= 180; i /= 2) {\n              if (\"break\" === a()) break;\n            }\n          }\n        } else {\n          var s = t.width * t.height;\n          r = s <= 76800 ? 600 : s <= 307200 ? 1700 : s <= 518400 ? 2e3 : 2500;\n        }\n\n        return Math.min(r, function (e) {\n          if (e > 6e4) return Number.MAX_SAFE_INTEGER;\n          return f * Math.pow(1.08, e / 1e3);\n        }(Math.max(0, n - 1e3)));\n      }\n\n      var v = function () {\n        function e(t, n, o) {\n          var a = this;\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.eventEmitter = n, this._conference = t, this._localStats = {\n            connectionQuality: 100,\n            jvbRTT: void 0\n          }, this._lastConnectionQualityUpdate = -1, this._remoteStats = {}, this._timeIceConnected = -1, this._timeVideoUnmuted = -1, this._timeLastBwCapRemoved = -1, o.config.startBitrate && o.config.startBitrate > 0 && (f = o.config.startBitrate), t.on(i.CONNECTION_INTERRUPTED, function () {\n            a._updateLocalConnectionQuality(0), a.eventEmitter.emit(r.LOCAL_STATS_UPDATED, a._localStats), a._broadcastLocalStats();\n          }), t.room.addListener(s.ICE_CONNECTION_STATE_CHANGED, function (e, t) {\n            e.isP2P || \"connected\" !== t || (a._timeIceConnected = window.performance.now());\n          }), t.on(i.ENDPOINT_MESSAGE_RECEIVED, function (e, t) {\n            t.type === l && a._updateRemoteStats(e.getId(), t.values);\n          }), t.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)), t.on(i.TRACK_MUTE_CHANGED, function (e) {\n            e.isVideoTrack() && (e.isMuted() ? a._timeVideoUnmuted = -1 : a._maybeUpdateUnmuteTime());\n          }), t.on(i.TRACK_ADDED, function (e) {\n            e.isVideoTrack() && !e.isMuted() && a._maybeUpdateUnmuteTime();\n          }), t.on(i.SERVER_REGION_CHANGED, function (e) {\n            a._localStats.serverRegion = e;\n          }), t.on(i.PROPERTIES_CHANGED, function (e) {\n            a._localStats.bridgeCount = Number((e || {})[\"bridge-count\"]);\n          });\n        }\n\n        var t, n, o;\n        return t = e, (n = [{\n          key: \"_maybeUpdateUnmuteTime\",\n          value: function value() {\n            this._timeVideoUnmuted < 0 && (this._timeVideoUnmuted = window.performance.now());\n          }\n        }, {\n          key: \"_calculateConnectionQuality\",\n          value: function value(e, t, n) {\n            var r,\n                i = u[n],\n                o = 100;\n            if (this._localStats.packetLoss && (r = this._localStats.packetLoss.upload, t && (r *= .5)), t || !i || e === c.DESKTOP || this._timeIceConnected < 0 || this._timeVideoUnmuted < 0) void 0 === r ? (d.error(\"Cannot calculate connection quality, unknown packet loss.\"), o = 100) : o = r <= 2 ? 100 : r <= 4 ? 70 : r <= 6 ? 50 : r <= 8 ? 30 : r <= 12 ? 10 : 0;else {\n              var a = this._conference.getActivePeerConnection(),\n                  s = Boolean(a && a.isSimulcastOn()),\n                  l = a && a.bandwidthLimiter && a.bandwidthLimiter.getBandwidthLimit(\"video\");\n\n              !l && h && (this._timeLastBwCapRemoved = window.performance.now(), f = h), h = l;\n              var p = m(s, i, window.performance.now() - Math.max(this._timeVideoUnmuted, this._timeIceConnected, this._timeLastBwCapRemoved));\n              p = Math.min(.9 * p, 2500), h && (p = Math.min(p, h)), o = 100 * this._localStats.bitrate.upload / p, r && r >= 10 && (o = Math.min(o, 30));\n            }\n\n            if (this._lastConnectionQualityUpdate > 0) {\n              var v = this._localStats.connectionQuality,\n                  g = (window.performance.now() - this._lastConnectionQualityUpdate) / 1e3;\n              o = Math.min(o, v + 2 * g);\n            }\n\n            return Math.min(100, o);\n          }\n        }, {\n          key: \"_updateLocalConnectionQuality\",\n          value: function value(e) {\n            this._localStats.connectionQuality = e, this._lastConnectionQualityUpdate = window.performance.now();\n          }\n        }, {\n          key: \"_broadcastLocalStats\",\n          value: function value() {\n            var e = {\n              bitrate: this._localStats.bitrate,\n              packetLoss: this._localStats.packetLoss,\n              connectionQuality: this._localStats.connectionQuality,\n              jvbRTT: this._localStats.jvbRTT,\n              serverRegion: this._localStats.serverRegion,\n              avgAudioLevels: this._localStats.localAvgAudioLevels\n            };\n\n            try {\n              this._conference.broadcastEndpointMessage({\n                type: l,\n                values: e\n              });\n            } catch (e) {}\n          }\n        }, {\n          key: \"_updateLocalStats\",\n          value: function value(e, t) {\n            if (!e.isP2P) {\n              var n = t.transport && t.transport.length && t.transport[0].rtt;\n              this._localStats.jvbRTT = n || void 0;\n            }\n\n            if (e === this._conference.getActivePeerConnection()) {\n              var i,\n                  o = !this._conference.isConnectionInterrupted(),\n                  a = this._conference.getLocalVideoTrack(),\n                  s = a ? a.videoType : void 0,\n                  c = !a || a.isMuted(),\n                  u = a ? a.resolution : null;\n\n              for (i in c || this._maybeUpdateUnmuteTime(), t) {\n                t.hasOwnProperty(i) && (this._localStats[i] = t[i]);\n              }\n\n              o && this._updateLocalConnectionQuality(this._calculateConnectionQuality(s, c, u)), this.eventEmitter.emit(r.LOCAL_STATS_UPDATED, this._localStats), this._broadcastLocalStats();\n            }\n          }\n        }, {\n          key: \"_updateRemoteStats\",\n          value: function value(e, t) {\n            this._remoteStats[e] = {\n              bitrate: t.bitrate,\n              packetLoss: t.packetLoss,\n              connectionQuality: t.connectionQuality,\n              jvbRTT: t.jvbRTT,\n              serverRegion: t.serverRegion,\n              avgAudioLevels: t.avgAudioLevels\n            }, this.eventEmitter.emit(r.REMOTE_STATS_UPDATED, e, this._remoteStats[e]);\n          }\n        }, {\n          key: \"getStats\",\n          value: function value() {\n            return this._localStats;\n          }\n        }]) && a(t.prototype, n), o && a(t, o), e;\n      }();\n    }).call(this, \"modules/connectivity/ConnectionQuality.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return a;\n      });\n      var r = n(4);\n\n      function i(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var o = Object(r.getLogger)(e),\n          a = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._conference = t;\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"start\",\n          value: function value(e) {\n            var t = this;\n\n            this._conference.xmpp.ping(65e3).then(function () {\n              t._canceled || (t._conference.isJvbConnectionInterrupted ? t._iceFailedTimeout = window.setTimeout(function () {\n                o.info(\"Sending ICE failed - the connection has not recovered\"), t._iceFailedTimeout = void 0, e.sendIceFailedNotification();\n              }, 2e3) : o.info(\"ICE connection restored - not sending ICE failed\"));\n            }, function (e) {\n              o.error(\"PING error/timeout - not sending ICE failed\", e);\n            });\n          }\n        }, {\n          key: \"cancel\",\n          value: function value() {\n            this._canceled = !0, this._iceFailedTimeout && window.clearTimeout(this._iceFailedTimeout);\n          }\n        }]) && i(t.prototype, n), r && i(t, r), e;\n      }();\n    }).call(this, \"modules/connectivity/IceFailedNotification.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return f;\n      });\n      var r = n(4),\n          i = n(6),\n          o = n(53),\n          a = n(1),\n          s = n(5);\n\n      function c(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function u(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function d(e, t, n) {\n        return t && u(e.prototype, t), n && u(e, n), e;\n      }\n\n      var l = Object(r.getLogger)(e),\n          p = function () {\n        function e(t, n) {\n          c(this, e), this.participant = t, this.e2eping = n, this.id = t.getId(), this.requests = {}, this.lastRequestId = 1, this.clearIntervals = this.clearIntervals.bind(this), this.sendRequest = this.sendRequest.bind(this), this.handleResponse = this.handleResponse.bind(this), this.maybeSendAnalytics = this.maybeSendAnalytics.bind(this), this.sendAnalytics = this.sendAnalytics.bind(this), n.isDataChannelOpen && this.sendRequest(), this.pingInterval = window.setInterval(this.sendRequest, n.pingIntervalMs), this.analyticsInterval = window.setTimeout(this.maybeSendAnalytics, this.e2eping.analyticsIntervalMs);\n        }\n\n        return d(e, [{\n          key: \"clearIntervals\",\n          value: function value() {\n            this.pingInterval && window.clearInterval(this.pingInterval), this.analyticsInterval && window.clearInterval(this.analyticsInterval);\n          }\n        }, {\n          key: \"sendRequest\",\n          value: function value() {\n            var e = this.lastRequestId++,\n                t = {\n              type: \"e2e-ping-request\",\n              id: e\n            };\n            this.e2eping.sendMessage(t, this.id), this.requests[e] = {\n              id: e,\n              timeSent: window.performance.now()\n            };\n          }\n        }, {\n          key: \"handleResponse\",\n          value: function value(e) {\n            var t = this.requests[e.id];\n            t && (t.rtt = window.performance.now() - t.timeSent, this.e2eping.eventEmitter.emit(o.E2E_RTT_CHANGED, this.participant, t.rtt)), this.maybeSendAnalytics();\n          }\n        }, {\n          key: \"maybeSendAnalytics\",\n          value: function value() {\n            var e,\n                t,\n                n = window.performance.now(),\n                r = 1 / 0;\n\n            for (t in this.requests) {\n              this.requests.hasOwnProperty(t) && ((e = this.requests[t]).timeSent < n - this.e2eping.analyticsIntervalMs ? delete this.requests[t] : e.rtt && (r = Math.min(r, e.rtt)));\n            }\n\n            r < 1 / 0 && this.sendAnalytics(r);\n          }\n        }, {\n          key: \"sendAnalytics\",\n          value: function value(e) {\n            s.a.sendAnalytics(Object(i.D)(this.id, this.participant.getProperty(\"region\"), e));\n          }\n        }]), e;\n      }(),\n          f = function () {\n        function e(t, n, r) {\n          c(this, e), this.conference = t, this.eventEmitter = t.eventEmitter, this.sendMessage = r, this.pingIntervalMs = 1e4, this.analyticsIntervalMs = 6e4, this.participants = {}, this.isDataChannelOpen = !1, n && n.e2eping && (\"number\" == typeof n.e2eping.pingInterval && (this.pingIntervalMs = n.e2eping.pingInterval), \"number\" == typeof n.e2eping.analyticsInterval && (this.analyticsIntervalMs = n.e2eping.analyticsInterval), this.analyticsIntervalMs > 0 && this.analyticsIntervalMs < this.pingIntervalMs && (this.analyticsIntervalMs = this.pingIntervalMs)), l.info(\"Initializing e2e ping; pingInterval=\".concat(this.pingIntervalMs, \", analyticsInterval=\").concat(this.analyticsIntervalMs, \".\")), this.participantJoined = this.participantJoined.bind(this), t.on(a.USER_JOINED, this.participantJoined), this.participantLeft = this.participantLeft.bind(this), t.on(a.USER_LEFT, this.participantLeft), this.messageReceived = this.messageReceived.bind(this), t.on(a.ENDPOINT_MESSAGE_RECEIVED, this.messageReceived), this.dataChannelOpened = this.dataChannelOpened.bind(this), t.on(a.DATA_CHANNEL_OPENED, this.dataChannelOpened);\n        }\n\n        return d(e, [{\n          key: \"dataChannelOpened\",\n          value: function value() {\n            for (var e in this.isDataChannelOpen = !0, this.participants) {\n              if (this.participants.hasOwnProperty(e)) {\n                var t = this.participants[e];\n                window.setTimeout(t.sendRequest, 200);\n              }\n            }\n          }\n        }, {\n          key: \"messageReceived\",\n          value: function value(e, t) {\n            \"e2e-ping-request\" === t.type ? this.handleRequest(e.getId(), t) : \"e2e-ping-response\" === t.type && this.handleResponse(e.getId(), t);\n          }\n        }, {\n          key: \"participantJoined\",\n          value: function value(e, t) {\n            this.pingIntervalMs <= 0 || (this.participants[e] && (l.info(\"Participant wrapper already exists for \".concat(e, \". Clearing.\")), this.participants[e].clearIntervals(), delete this.participants[e]), this.participants[e] = new p(t, this));\n          }\n        }, {\n          key: \"participantLeft\",\n          value: function value(e) {\n            this.pingIntervalMs <= 0 || this.participants[e] && (this.participants[e].clearIntervals(), delete this.participants[e]);\n          }\n        }, {\n          key: \"handleRequest\",\n          value: function value(e, t) {\n            if (t && t.id) {\n              var n = {\n                type: \"e2e-ping-response\",\n                id: t.id\n              };\n              this.sendMessage(n, e);\n            } else l.info(\"Received an invalid e2e ping request from \".concat(e, \".\"));\n          }\n        }, {\n          key: \"handleResponse\",\n          value: function value(e, t) {\n            var n = this.participants[e];\n            n && n.handleResponse(t);\n          }\n        }, {\n          key: \"stop\",\n          value: function value() {\n            for (var e in l.info(\"Stopping e2eping\"), this.conference.off(a.USER_JOINED, this.participantJoined), this.conference.off(a.USER_LEFT, this.participantLeft), this.conference.off(a.ENDPOINT_MESSAGE_RECEIVED, this.messageReceived), this.conference.off(a.DATA_CHANNEL_OPENED, this.dataChannelOpened), this.participants) {\n              this.participants.hasOwnProperty(e) && this.participants[e].clearIntervals();\n            }\n\n            this.participants = {};\n          }\n        }]), e;\n      }();\n    }).call(this, \"modules/e2eping/e2eping.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return s;\n      });\n      var r = n(4),\n          i = n(1);\n\n      function o(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var a = Object(r.getLogger)(e),\n          s = function () {\n        function e(t) {\n          var n = this;\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._conference = t, this._jvb121 = !0, this._conference.addEventListener(i.USER_JOINED, function () {\n            return n.evaluateStatus();\n          }), this._conference.addEventListener(i.USER_LEFT, function () {\n            return n.evaluateStatus();\n          }), this._conference.addEventListener(i.P2P_STATUS, function () {\n            return n.evaluateStatus();\n          });\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"evaluateStatus\",\n          value: function value() {\n            var e = this._jvb121,\n                t = !this._conference.isP2PActive() && this._conference.getParticipantCount() <= 2;\n            e !== t && (this._jvb121 = t, a.debug(\"JVB121 status \".concat(e, \" => \").concat(t)), this._conference.eventEmitter.emit(i.JVB121_STATUS, e, t));\n          }\n        }]) && o(t.prototype, n), r && o(t, r), e;\n      }();\n    }).call(this, \"modules/event/Jvb121EventGenerator.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      var r = n(4),\n          i = n(0),\n          o = n.n(i),\n          a = n(60),\n          s = n(43);\n\n      function c(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function u(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      function d(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var l = Object(r.getLogger)(e),\n          p = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._sessions = {}, this._chatRoom = t, this.onPresence = this.onPresence.bind(this), this._chatRoom.eventEmitter.addListener(o.a.PRESENCE_RECEIVED, this.onPresence);\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"getSession\",\n          value: function value(e) {\n            return this._sessions[e];\n          }\n        }, {\n          key: \"onPresence\",\n          value: function value(e) {\n            var t = e.fromHiddenDomain,\n                n = e.presence;\n            s.a.isFromFocus(n) ? this._handleFocusPresence(n) : t && this._handleJibriPresence(n);\n          }\n        }, {\n          key: \"startRecording\",\n          value: function value(e) {\n            var t = this,\n                n = new a.a(function (e) {\n              for (var t = 1; t < arguments.length; t++) {\n                var n = null != arguments[t] ? arguments[t] : {};\n                t % 2 ? c(Object(n), !0).forEach(function (t) {\n                  u(e, t, n[t]);\n                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : c(Object(n)).forEach(function (t) {\n                  Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n                });\n              }\n\n              return e;\n            }({}, e, {\n              connection: this._chatRoom.connection\n            }));\n            return n.start({\n              appData: e.appData,\n              broadcastId: e.broadcastId,\n              focusMucJid: this._chatRoom.focusMucJid,\n              streamId: e.streamId\n            }).then(function () {\n              return t.getSession(n.getID()) || (t._addSession(n), t._emitSessionUpdate(n)), n;\n            }).catch(function (e) {\n              return t._emitSessionUpdate(n), Promise.reject(e);\n            });\n          }\n        }, {\n          key: \"stopRecording\",\n          value: function value(e) {\n            var t = this.getSession(e);\n            return t ? t.stop({\n              focusMucJid: this._chatRoom.focusMucJid\n            }) : Promise.reject(new Error(\"Could not find session\"));\n          }\n        }, {\n          key: \"_addSession\",\n          value: function value(e) {\n            this._sessions[e.getID()] = e;\n          }\n        }, {\n          key: \"_createSession\",\n          value: function value(e, t, n) {\n            var r = new a.a({\n              connection: this._chatRoom.connection,\n              focusMucJid: this._chatRoom.focusMucJid,\n              mode: n,\n              sessionID: e,\n              status: t\n            });\n            return this._addSession(r), r;\n          }\n        }, {\n          key: \"_emitSessionUpdate\",\n          value: function value(e, t) {\n            this._chatRoom.eventEmitter.emit(o.a.RECORDER_STATE_CHANGED, e, t);\n          }\n        }, {\n          key: \"_handleFocusPresence\",\n          value: function value(e) {\n            var t = s.a.getFocusRecordingUpdate(e);\n\n            if (t) {\n              var n = t.error,\n                  r = t.initiator,\n                  i = t.recordingMode,\n                  o = t.sessionID,\n                  a = t.status,\n                  c = this.getSession(o);\n              c || \"off\" !== a ? c && c.getStatus() === a && c.getError() === n ? l.warn(\"Ignoring duplicate presence update: \", JSON.stringify(t)) : (c || (c = this._createSession(o, a, i)), c.setStatus(a), n && c.setError(n), this._emitSessionUpdate(c, r)) : l.warn(\"Ignoring recording presence update\", \"Received a new session with status off.\");\n            }\n          }\n        }, {\n          key: \"_handleJibriPresence\",\n          value: function value(e) {\n            var t = s.a.getHiddenDomainUpdate(e),\n                n = t.liveStreamViewURL,\n                r = t.mode,\n                i = t.sessionID;\n\n            if (i) {\n              var o = this.getSession(i);\n              o || (o = this._createSession(i, \"\", r)), o.setLiveStreamViewURL(n), this._emitSessionUpdate(o);\n            } else l.warn(\"Ignoring potential jibri presence due to no session id.\");\n          }\n        }]) && d(t.prototype, n), r && d(t, r), e;\n      }();\n\n      t.a = p;\n    }).call(this, \"modules/recording/RecordingManager.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return m;\n      });\n      var r = n(3),\n          i = n(6),\n          o = n(4),\n          a = n(10),\n          s = n(5);\n\n      function c(e) {\n        return function (e) {\n          if (Array.isArray(e)) {\n            for (var t = 0, n = new Array(e.length); t < e.length; t++) {\n              n[t] = e[t];\n            }\n\n            return n;\n          }\n        }(e) || function (e) {\n          if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n        }(e) || function () {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n        }();\n      }\n\n      function u(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function d(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function l(e, t, n) {\n        return t && d(e.prototype, t), n && d(e, n), e;\n      }\n\n      var p = Object(o.getLogger)(e),\n          f = {\n        offerToReceiveAudio: 1,\n        offerToReceiveVideo: 0\n      },\n          h = function () {\n        function e(t, n, r, i) {\n          u(this, e), this.region = t, this.getStatsIntervalMs = r, this.getStatsInterval = null, this.rtt = 1 / 0, this.rtts = [];\n          var o = [{\n            url: \"stun:\".concat(n)\n          }];\n          this.pc = new a.a.RTCPeerConnectionType({\n            iceServers: o\n          }), this.candidates = {}, this.stopped = !1, this.start = this.start.bind(this), this.stop = this.stop.bind(this), this.startStatsInterval = this.startStatsInterval.bind(this), this.handleCandidateRtt = this.handleCandidateRtt.bind(this), window.setTimeout(this.start, i);\n        }\n\n        return l(e, [{\n          key: \"start\",\n          value: function value() {\n            var e = this;\n            this.stopped || this.pc.createOffer(f).then(function (t) {\n              e.pc.setLocalDescription(t, function () {\n                p.info(\"setLocalDescription success for \".concat(e.region)), e.startStatsInterval();\n              }, function (t) {\n                p.warn(\"setLocalDescription failed for \".concat(e.region, \": \").concat(t));\n              });\n            });\n          }\n        }, {\n          key: \"startStatsInterval\",\n          value: function value() {\n            var e = this;\n            this.getStatsInterval = window.setInterval(function () {\n              e.pc.getStats(function (t) {\n                for (var n = t.result(), r = 0; r < n.length; ++r) {\n                  var i = n[r],\n                      o = Number(i.stat(\"stunKeepaliveRttTotal\"));\n\n                  if (o > 0) {\n                    var a = \"\".concat(i.stat(\"ipAddress\"), \"_\").concat(i.stat(\"portNumber\"), \"_\").concat(i.stat(\"priority\"));\n                    e.handleCandidateRtt(a, o, Number(i.stat(\"stunKeepaliveResponsesReceived\")), Number(i.stat(\"stunKeepaliveRequestsSent\")));\n                  }\n                }\n\n                var s = 1 / 0;\n\n                for (var u in e.candidates) {\n                  e.candidates.hasOwnProperty(u) && e.candidates[u].rtt > 0 && (s = Math.min(s, e.candidates[u].rtt));\n                }\n\n                e.rtts.push(s), e.rtts.length > 6 && (e.rtts = e.rtts.splice(1, 7)), e.rtt = Math.min.apply(Math, c(e.rtts));\n              });\n            }, this.getStatsIntervalMs);\n          }\n        }, {\n          key: \"handleCandidateRtt\",\n          value: function value(e, t, n, r) {\n            this.candidates[e] || (this.candidates[e] = {\n              rttTotal: 0,\n              responsesReceived: 0,\n              requestsSent: 0,\n              rtt: NaN\n            });\n            var i = t - this.candidates[e].rttTotal,\n                o = n - this.candidates[e].responsesReceived,\n                a = r - n - (this.candidates[e].requestsSent - this.candidates[e].responsesReceived),\n                s = NaN;\n            o > 0 && 0 === a && (s = i / o), this.candidates[e].rttTotal = t, this.candidates[e].responsesReceived = n, this.candidates[e].requestsSent = r, this.candidates[e].rtt = s;\n          }\n        }, {\n          key: \"stop\",\n          value: function value() {\n            this.getStatsInterval && window.clearInterval(this.getStatsInterval), this.pc.close(), this.stopped = !0;\n          }\n        }]), e;\n      }(),\n          m = function () {\n        function e(t) {\n          var n = this;\n\n          if (u(this, e), t && t.enabled && r.a.supportsLocalCandidateRttStatistics()) {\n            this.pcMonitors = {}, this.startPCMonitors = this.startPCMonitors.bind(this), this.sendAnalytics = this.sendAnalytics.bind(this), this.stop = this.stop.bind(this), this.analyticsInterval = null, this.stopped = !1;\n            var i = t.initialDelay || 6e4;\n            p.info(\"Starting RTT monitor with an initial delay of \".concat(i)), window.setTimeout(function () {\n              return n.startPCMonitors(t);\n            }, i);\n          }\n        }\n\n        return l(e, [{\n          key: \"startPCMonitors\",\n          value: function value(e) {\n            var t = this;\n\n            if (e.stunServers) {\n              if (!this.stopped) {\n                var n = e.getStatsInterval || 1e4,\n                    r = e.analyticsInterval || n,\n                    i = n / Object.keys(e.stunServers).length,\n                    o = 0;\n\n                for (var a in e.stunServers) {\n                  if (e.stunServers.hasOwnProperty(a)) {\n                    var s = e.stunServers[a];\n                    this.pcMonitors[a] = new h(a, s, n, i * o), o++;\n                  }\n                }\n\n                window.setTimeout(function () {\n                  t.stopped || (t.analyticsInterval = window.setInterval(t.sendAnalytics, r));\n                }, 1e3);\n              }\n            } else p.warn(\"No stun servers configured.\");\n          }\n        }, {\n          key: \"sendAnalytics\",\n          value: function value() {\n            var e = {};\n\n            for (var t in this.pcMonitors) {\n              if (this.pcMonitors.hasOwnProperty(t)) {\n                var n = this.pcMonitors[t].rtt;\n                isNaN(n) || n === 1 / 0 || (e[t.replace(\"-\", \"_\")] = n);\n              }\n            }\n\n            e && s.a.sendAnalytics(Object(i.M)(e));\n          }\n        }, {\n          key: \"stop\",\n          value: function value() {\n            for (var e in p.info(\"Stopping RttMonitor.\"), this.stopped = !0, this.pcMonitors) {\n              this.pcMonitors.hasOwnProperty(e) && this.pcMonitors[e].stop();\n            }\n\n            this.pcMonitors = {}, this.analyticsInterval && window.clearInterval(this.analyticsInterval);\n          }\n        }]), e;\n      }();\n    }).call(this, \"modules/rttmonitor/rttmonitor.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(6),\n          i = n(4),\n          o = n(28),\n          a = n(1),\n          s = n(9),\n          c = n(3),\n          u = n(5),\n          d = n(14);\n\n      function l(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function p(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function f(e, t, n) {\n        return t && p(e.prototype, t), n && p(e, n), e;\n      }\n\n      var h = Object(i.getLogger)(e),\n          m = function () {\n        function e(t) {\n          l(this, e), this.name = t, this.count = 0, this.sum = 0, this.samples = [];\n        }\n\n        return f(e, [{\n          key: \"addNext\",\n          value: function value(e) {\n            \"number\" != typeof e ? h.error(\"\".concat(this.name, \" - invalid value for idx: \").concat(this.count), e) : isNaN(e) || (this.sum += e, this.samples.push(e), this.count += 1);\n          }\n        }, {\n          key: \"calculate\",\n          value: function value() {\n            return this.sum / this.count;\n          }\n        }, {\n          key: \"appendReport\",\n          value: function value(e) {\n            e[\"\".concat(this.name, \"_avg\")] = this.calculate(), e[\"\".concat(this.name, \"_samples\")] = JSON.stringify(this.samples);\n          }\n        }, {\n          key: \"reset\",\n          value: function value() {\n            this.samples = [], this.sum = 0, this.count = 0;\n          }\n        }]), e;\n      }(),\n          v = function () {\n        function e(t, n, r) {\n          var i = this;\n          l(this, e), this.isP2P = n, this._n = r, this._sampleIdx = 0, this._avgRTT = new m(\"rtt\"), this._avgRemoteRTTMap = new Map(), this._avgRtpStatsReporter = t, this._avgEnd2EndRTT = void 0, this._onConnectionStats = function (e, t) {\n            i.isP2P === e.isP2P && i._calculateAvgStats(t);\n          };\n          var s = t._conference;\n          s.statistics.addConnectionStatsListener(this._onConnectionStats), this.isP2P || (this._onUserLeft = function (e) {\n            return i._avgRemoteRTTMap.delete(e);\n          }, s.on(a.USER_LEFT, this._onUserLeft), this._onRemoteStatsUpdated = function (e, t) {\n            return i._processRemoteStats(e, t);\n          }, s.on(o.REMOTE_STATS_UPDATED, this._onRemoteStatsUpdated));\n        }\n\n        return f(e, [{\n          key: \"_calculateAvgStats\",\n          value: function value(e) {\n            if (e) {\n              if (c.a.supportsRTTStatistics() && e.transport && e.transport.length && this._avgRTT.addNext(e.transport[0].rtt), this._sampleIdx += 1, this._sampleIdx >= this._n) {\n                if (c.a.supportsRTTStatistics()) {\n                  var t = this._avgRtpStatsReporter._conference,\n                      n = {\n                    p2p: this.isP2P,\n                    conference_size: t.getParticipantCount()\n                  };\n\n                  if (e.transport && e.transport.length && Object.assign(n, {\n                    local_candidate_type: e.transport[0].localCandidateType,\n                    remote_candidate_type: e.transport[0].remoteCandidateType,\n                    transport_type: e.transport[0].type\n                  }), this._avgRTT.appendReport(n), this.isP2P) {\n                    var i = this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;\n                    isNaN(i) || (n.rtt_diff = this._avgRTT.calculate() - i);\n                  } else {\n                    var o = this._calculateAvgRemoteRTT(),\n                        a = this._avgRTT.calculate();\n\n                    this._avgEnd2EndRTT = a + o, isNaN(a) || isNaN(o) || (n.end2end_rtt_avg = this._avgEnd2EndRTT);\n                  }\n\n                  u.a.sendAnalytics(Object(r.L)(n));\n                }\n\n                this._resetAvgStats();\n              }\n            } else h.error(\"No stats\");\n          }\n        }, {\n          key: \"_calculateAvgRemoteRTT\",\n          value: function value() {\n            var e = 0,\n                t = 0,\n                n = !0,\n                r = !1,\n                i = void 0;\n\n            try {\n              for (var o, a = this._avgRemoteRTTMap.values()[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {\n                var s = o.value,\n                    c = s.calculate();\n                isNaN(c) || (t += c, e += 1, s.reset());\n              }\n            } catch (e) {\n              r = !0, i = e;\n            } finally {\n              try {\n                n || null == a.return || a.return();\n              } finally {\n                if (r) throw i;\n              }\n            }\n\n            return t / e;\n          }\n        }, {\n          key: \"_processRemoteStats\",\n          value: function value(e, t) {\n            var n = \"number\" == typeof t.jvbRTT,\n                r = this._avgRemoteRTTMap.get(e);\n\n            !r && n && (r = new m(\"\".concat(e, \"_stat_rtt\")), this._avgRemoteRTTMap.set(e, r)), n ? r.addNext(t.jvbRTT) : r && this._avgRemoteRTTMap.delete(e);\n          }\n        }, {\n          key: \"_resetAvgStats\",\n          value: function value() {\n            this._avgRTT.reset(), this._avgRemoteRTTMap && this._avgRemoteRTTMap.clear(), this._sampleIdx = 0;\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            var e = this._avgRtpStatsReporter._conference;\n            e.statistics.removeConnectionStatsListener(this._onConnectionStats), this.isP2P || (e.off(o.REMOTE_STATS_UPDATED, this._onRemoteStatsUpdated), e.off(a.USER_LEFT, this._onUserLeft));\n          }\n        }]), e;\n      }(),\n          g = function () {\n        function e(t, n) {\n          var r = this;\n          l(this, e), this._n = n, n > 0 ? (h.info(\"Avg RTP stats will be calculated every \".concat(n, \" samples\")), this._sampleIdx = 0, this._conference = t, this._avgAudioBitrateUp = new m(\"bitrate_audio_upload\"), this._avgAudioBitrateDown = new m(\"bitrate_audio_download\"), this._avgVideoBitrateUp = new m(\"bitrate_video_upload\"), this._avgVideoBitrateDown = new m(\"bitrate_video_download\"), this._avgBandwidthUp = new m(\"bandwidth_upload\"), this._avgBandwidthDown = new m(\"bandwidth_download\"), this._avgPacketLossTotal = new m(\"packet_loss_total\"), this._avgPacketLossUp = new m(\"packet_loss_upload\"), this._avgPacketLossDown = new m(\"packet_loss_download\"), this._avgRemoteFPS = new m(\"framerate_remote\"), this._avgRemoteScreenFPS = new m(\"framerate_screen_remote\"), this._avgLocalFPS = new m(\"framerate_local\"), this._avgLocalScreenFPS = new m(\"framerate_screen_local\"), this._avgRemoteCameraPixels = new m(\"pixels_remote\"), this._avgRemoteScreenPixels = new m(\"pixels_screen_remote\"), this._avgLocalCameraPixels = new m(\"pixels_local\"), this._avgLocalScreenPixels = new m(\"pixels_screen_local\"), this._avgCQ = new m(\"connection_quality\"), this._onLocalStatsUpdated = function (e) {\n            return r._calculateAvgStats(e);\n          }, t.on(o.LOCAL_STATS_UPDATED, this._onLocalStatsUpdated), this._onP2PStatusChanged = function () {\n            h.debug(\"Resetting average stats calculation\"), r._resetAvgStats(), r.jvbStatsMonitor._resetAvgStats(), r.p2pStatsMonitor._resetAvgStats();\n          }, t.on(a.P2P_STATUS, this._onP2PStatusChanged), this._onJvb121StatusChanged = function (e, t) {\n            !0 === t && (h.info(\"Resetting JVB avg RTP stats\"), r._resetAvgJvbStats());\n          }, t.on(a.JVB121_STATUS, this._onJvb121StatusChanged), this.jvbStatsMonitor = new v(this, !1, n), this.p2pStatsMonitor = new v(this, !0, n)) : h.info(\"Avg RTP stats reports are disabled.\");\n        }\n\n        return f(e, [{\n          key: \"_calculateAvgStats\",\n          value: function value(e) {\n            if (e) {\n              var t = this._conference.isP2PActive(),\n                  n = this._conference.getParticipantCount();\n\n              if (t || !(n < 2)) {\n                var i = e.bitrate,\n                    o = e.bandwidth,\n                    a = e.packetLoss,\n                    s = e.framerate,\n                    l = e.resolution;\n                if (i) {\n                  if (o) {\n                    if (a) {\n                      if (s) {\n                        if (l) {\n                          if (this._avgAudioBitrateUp.addNext(i.audio.upload), this._avgAudioBitrateDown.addNext(i.audio.download), this._avgVideoBitrateUp.addNext(i.video.upload), this._avgVideoBitrateDown.addNext(i.video.download), c.a.supportsBandwidthStatistics() && (this._avgBandwidthUp.addNext(o.upload), this._avgBandwidthDown.addNext(o.download)), this._avgPacketLossUp.addNext(a.upload), this._avgPacketLossDown.addNext(a.download), this._avgPacketLossTotal.addNext(a.total), this._avgCQ.addNext(e.connectionQuality), s && (this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(s, !1, d.CAMERA)), this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(s, !1, d.DESKTOP)), this._avgLocalFPS.addNext(this._calculateAvgVideoFps(s, !0, d.CAMERA)), this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(s, !0, d.DESKTOP))), l && (this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(l, !1, d.CAMERA)), this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(l, !1, d.DESKTOP)), this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(l, !0, d.CAMERA)), this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(l, !0, d.DESKTOP))), this._sampleIdx += 1, this._sampleIdx >= this._n) {\n                            var p = {\n                              p2p: t,\n                              conference_size: n\n                            };\n                            e.transport && e.transport.length && Object.assign(p, {\n                              local_candidate_type: e.transport[0].localCandidateType,\n                              remote_candidate_type: e.transport[0].remoteCandidateType,\n                              transport_type: e.transport[0].type\n                            }), this._avgAudioBitrateUp.appendReport(p), this._avgAudioBitrateDown.appendReport(p), this._avgVideoBitrateUp.appendReport(p), this._avgVideoBitrateDown.appendReport(p), c.a.supportsBandwidthStatistics() && (this._avgBandwidthUp.appendReport(p), this._avgBandwidthDown.appendReport(p)), this._avgPacketLossUp.appendReport(p), this._avgPacketLossDown.appendReport(p), this._avgPacketLossTotal.appendReport(p), this._avgRemoteFPS.appendReport(p), isNaN(this._avgRemoteScreenFPS.calculate()) || this._avgRemoteScreenFPS.appendReport(p), this._avgLocalFPS.appendReport(p), isNaN(this._avgLocalScreenFPS.calculate()) || this._avgLocalScreenFPS.appendReport(p), this._avgRemoteCameraPixels.appendReport(p), isNaN(this._avgRemoteScreenPixels.calculate()) || this._avgRemoteScreenPixels.appendReport(p), this._avgLocalCameraPixels.appendReport(p), isNaN(this._avgLocalScreenPixels.calculate()) || this._avgLocalScreenPixels.appendReport(p), this._avgCQ.appendReport(p), u.a.sendAnalytics(Object(r.L)(p)), this._resetAvgStats();\n                          }\n                        } else h.error(\"No resolution\");\n                      } else h.error('No \"framerate\"');\n                    } else h.error('No \"packetloss\"');\n                  } else h.error('No \"bandwidth\"');\n                } else h.error('No \"bitrate\"');\n              }\n            } else h.error(\"No stats\");\n          }\n        }, {\n          key: \"_calculateAvgVideoPixels\",\n          value: function value(e, t, n) {\n            for (var r = 0, i = 0, o = this._conference.myUserId(), a = 0, s = Object.keys(e); a < s.length; a++) {\n              var c = s[a];\n\n              if (t ? c === o : c !== o) {\n                var u = t ? null : this._conference.getParticipantById(c),\n                    d = e[c];\n\n                if ((t || u) && d) {\n                  var l = this._calculatePeerAvgVideoPixels(d, u, n);\n\n                  isNaN(l) || (r += l, i += 1);\n                }\n              }\n            }\n\n            return r / i;\n          }\n        }, {\n          key: \"_calculatePeerAvgVideoPixels\",\n          value: function value(e, t, n) {\n            var r = Object.keys(e).map(function (e) {\n              return Number(e);\n            }),\n                i = null,\n                o = this._conference.getActivePeerConnection();\n\n            t ? (i = t.getTracksByMediaType(s.c)) && (r = r.filter(function (e) {\n              return i.find(function (t) {\n                return !t.isMuted() && t.getSSRC() === e && t.videoType === n;\n              });\n            })) : (i = this._conference.getLocalTracks(s.c), r = r.filter(function (e) {\n              return i.find(function (t) {\n                return !t.isMuted() && o.getLocalSSRC(t) === e && t.videoType === n;\n              });\n            }));\n            var a = 0,\n                c = 0,\n                u = !0,\n                d = !1,\n                l = void 0;\n\n            try {\n              for (var p, f = r[Symbol.iterator](); !(u = (p = f.next()).done); u = !0) {\n                var h = p.value,\n                    m = Number(e[h].height) * Number(e[h].width);\n                !isNaN(m) && m > 0 && (a += m, c += 1);\n              }\n            } catch (e) {\n              d = !0, l = e;\n            } finally {\n              try {\n                u || null == f.return || f.return();\n              } finally {\n                if (d) throw l;\n              }\n            }\n\n            return a / c;\n          }\n        }, {\n          key: \"_calculateAvgVideoFps\",\n          value: function value(e, t, n) {\n            for (var r = 0, i = 0, o = this._conference.myUserId(), a = 0, s = Object.keys(e); a < s.length; a++) {\n              var c = s[a];\n\n              if (t ? c === o : c !== o) {\n                var u = t ? null : this._conference.getParticipantById(c),\n                    d = e[c];\n\n                if ((t || u) && d) {\n                  var l = this._calculatePeerAvgVideoFps(d, u, n);\n\n                  isNaN(l) || (r += l, i += 1);\n                }\n              }\n            }\n\n            return r / i;\n          }\n        }, {\n          key: \"_calculatePeerAvgVideoFps\",\n          value: function value(e, t, n) {\n            var r = Object.keys(e).map(function (e) {\n              return Number(e);\n            }),\n                i = null,\n                o = this._conference.getActivePeerConnection();\n\n            t ? (i = t.getTracksByMediaType(s.c)) && (r = r.filter(function (e) {\n              return i.find(function (t) {\n                return !t.isMuted() && t.getSSRC() === e && t.videoType === n;\n              });\n            })) : (i = this._conference.getLocalTracks(s.c), r = r.filter(function (e) {\n              return i.find(function (t) {\n                return !t.isMuted() && o.getLocalSSRC(t) === e && t.videoType === n;\n              });\n            }));\n            var a = 0,\n                c = 0,\n                u = !0,\n                d = !1,\n                l = void 0;\n\n            try {\n              for (var p, f = r[Symbol.iterator](); !(u = (p = f.next()).done); u = !0) {\n                var h = p.value,\n                    m = Number(e[h]);\n                !isNaN(m) && m > 0 && (a += m, c += 1);\n              }\n            } catch (e) {\n              d = !0, l = e;\n            } finally {\n              try {\n                u || null == f.return || f.return();\n              } finally {\n                if (d) throw l;\n              }\n            }\n\n            return a / c;\n          }\n        }, {\n          key: \"_resetAvgJvbStats\",\n          value: function value() {\n            this._resetAvgStats(), this.jvbStatsMonitor._resetAvgStats();\n          }\n        }, {\n          key: \"_resetAvgStats\",\n          value: function value() {\n            this._avgAudioBitrateUp.reset(), this._avgAudioBitrateDown.reset(), this._avgVideoBitrateUp.reset(), this._avgVideoBitrateDown.reset(), this._avgBandwidthUp.reset(), this._avgBandwidthDown.reset(), this._avgPacketLossUp.reset(), this._avgPacketLossDown.reset(), this._avgPacketLossTotal.reset(), this._avgRemoteFPS.reset(), this._avgRemoteScreenFPS.reset(), this._avgLocalFPS.reset(), this._avgLocalScreenFPS.reset(), this._avgRemoteCameraPixels.reset(), this._avgRemoteScreenPixels.reset(), this._avgLocalCameraPixels.reset(), this._avgLocalScreenPixels.reset(), this._avgCQ.reset(), this._sampleIdx = 0;\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            this._conference.off(a.P2P_STATUS, this._onP2PStatusChanged), this._conference.off(o.LOCAL_STATS_UPDATED, this._onLocalStatsUpdated), this._conference.off(a.JVB121_STATUS, this._onJvb121StatusChanged), this.jvbStatsMonitor.dispose(), this.p2pStatsMonitor.dispose();\n          }\n        }]), e;\n      }();\n    }).call(this, \"modules/statistics/AvgRTPStatsReporter.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return l;\n      });\n      var r = n(4),\n          i = n(1),\n          o = n(28),\n          a = n(9),\n          s = n(6),\n          c = n(5);\n\n      function u(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var d = Object(r.getLogger)(e),\n          l = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._conference = t, this._localAudioLevelCache = {}, this._reportedParticipants = [], this._audioProblemCandidates = {}, this._numberOfRemoteAudioLevelsReceived = {}, this._onLocalAudioLevelsReport = this._onLocalAudioLevelsReport.bind(this), this._onRemoteAudioLevelReceived = this._onRemoteAudioLevelReceived.bind(this), this._clearUserData = this._clearUserData.bind(this), this._conference.on(o.REMOTE_STATS_UPDATED, this._onRemoteAudioLevelReceived), this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport), this._conference.on(i.USER_LEFT, this._clearUserData);\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"_onRemoteAudioLevelReceived\",\n          value: function value(e, t) {\n            var n = t.avgAudioLevels,\n                r = this._numberOfRemoteAudioLevelsReceived[e] + 1 || 0;\n\n            if (this._numberOfRemoteAudioLevelsReceived[e] = r, !(-1 !== this._reportedParticipants.indexOf(e) || e in this._audioProblemCandidates || n <= 0 || r < 3)) {\n              var i = this._conference.getParticipantById(e);\n\n              if (i && i.getTracksByMediaType(a.a).length > 0 && i.isAudioMuted()) return;\n              var o = this._localAudioLevelCache[e];\n              Array.isArray(o) && !o.every(function (e) {\n                return 0 === e;\n              }) || (this._audioProblemCandidates[e] = {\n                remoteAudioLevels: n,\n                localAudioLevels: []\n              });\n            }\n          }\n        }, {\n          key: \"_onLocalAudioLevelsReport\",\n          value: function value(e, t) {\n            var n = this,\n                r = t.avgAudioLevels;\n            e === this._conference.getActivePeerConnection() && (Object.keys(r).forEach(function (e) {\n              if (-1 === n._reportedParticipants.indexOf(e)) {\n                var t = n._localAudioLevelCache[e];\n                Array.isArray(t) ? t.length >= 2 && t.shift() : n._localAudioLevelCache[e] = [], n._localAudioLevelCache[e].push(r[e]);\n              }\n            }), Object.keys(this._audioProblemCandidates).forEach(function (e) {\n              var t = n._audioProblemCandidates[e],\n                  i = t.localAudioLevels,\n                  o = t.remoteAudioLevels;\n\n              if (i.push(r[e]), 2 === i.length) {\n                if (i.every(function (e) {\n                  return void 0 === e || 0 === e;\n                })) {\n                  var a = JSON.stringify(i);\n                  c.a.sendAnalytics(Object(s.x)(e, a, o)), d.warn(\"A potential problem is detected with the audio output for participant \".concat(e, \", local audio levels: \").concat(a, \", remote audio levels: \").concat(o)), n._reportedParticipants.push(e), n._clearUserData(e);\n                }\n\n                delete n._audioProblemCandidates[e];\n              }\n            }));\n          }\n        }, {\n          key: \"_clearUserData\",\n          value: function value(e) {\n            delete this._localAudioLevelCache[e];\n          }\n        }, {\n          key: \"dispose\",\n          value: function value() {\n            this._conference.off(o.REMOTE_STATS_UPDATED, this._onRemoteAudioLevelReceived), this._conference.off(i.USER_LEFT, this._clearUserData), this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport), this._localAudioLevelCache = void 0, this._audioProblemCandidates = void 0, this._reportedParticipants = void 0, this._numberOfRemoteAudioLevelsReceived = void 0, this._conference = void 0;\n          }\n        }]) && u(t.prototype, n), r && u(t, r), e;\n      }();\n    }).call(this, \"modules/statistics/AudioOutputProblemDetector.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.d(t, \"a\", function () {\n      return u;\n    });\n    var r = n(1),\n        i = n(56),\n        o = n.n(i),\n        a = n(0),\n        s = n.n(a);\n\n    function c(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var u = function () {\n      function e(t) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.stats = {\n          users: {},\n          dominantSpeakerId: null\n        };\n        var n = t.myUserId();\n        this.stats.users[n] = new o.a(n, null, !0), t.addEventListener(r.DOMINANT_SPEAKER_CHANGED, this._onDominantSpeaker.bind(this)), t.addEventListener(r.USER_JOINED, this._onUserJoin.bind(this)), t.addEventListener(r.USER_LEFT, this._onUserLeave.bind(this)), t.addEventListener(r.DISPLAY_NAME_CHANGED, this._onDisplayNameChange.bind(this)), t.xmpp && t.xmpp.addListener(s.a.SPEAKER_STATS_RECEIVED, this._updateStats.bind(this));\n      }\n\n      var t, n, i;\n      return t = e, (n = [{\n        key: \"_onDominantSpeaker\",\n        value: function value(e) {\n          var t = this.stats.users[this.stats.dominantSpeakerId],\n              n = this.stats.users[e];\n          t && t.setDominantSpeaker(!1), n && n.setDominantSpeaker(!0), this.stats.dominantSpeakerId = e;\n        }\n      }, {\n        key: \"_onUserJoin\",\n        value: function value(e, t) {\n          var n = this.stats.users[e];\n          n || (n = this.stats.users[e] = new o.a(e, t.getDisplayName()));\n        }\n      }, {\n        key: \"_onUserLeave\",\n        value: function value(e) {\n          var t = this.stats.users[e];\n          t && t.markAsHasLeft();\n        }\n      }, {\n        key: \"_onDisplayNameChange\",\n        value: function value(e, t) {\n          var n = this.stats.users[e];\n          n && n.setDisplayName(t);\n        }\n      }, {\n        key: \"getStats\",\n        value: function value() {\n          return this.stats.users;\n        }\n      }, {\n        key: \"_updateStats\",\n        value: function value(e) {\n          for (var t in e) {\n            var n = void 0;\n            this.stats.users[t] ? (n = this.stats.users[t]).getDisplayName() || n.setDisplayName(e[t].displayName) : (n = new o.a(t, e[t].displayName), this.stats.users[t] = n, n.markAsHasLeft()), n.totalDominantSpeakerTime = e[t].totalDominantSpeakerTime;\n          }\n        }\n      }]) && c(t.prototype, n), i && c(t, i), e;\n    }();\n  }, function (e, t, n) {\n    var r = n(65),\n        i = n(152),\n        o = \"before\";\n\n    function a() {\n      this.audioRecorder = new r(), this.transcriptionService = new i(), this.counter = null, this.startTime = null, this.transcription = null, this.callback = null, this.results = [], this.state = o, this.lineLength = 0;\n    }\n\n    function s(e, t) {\n      if (console.log(\"\".concat(t.wordArray.length)), t.wordArray.length > 0) {\n        var n = t.startTime.getUTCMilliseconds() - e.startTime.getUTCMilliseconds();\n        n < 0 && (n = 0);\n        var r = \"[\";\n        t.wordArray.forEach(function (e) {\n          e.begin += n, e.end += n, r += \"\".concat(e.word, \",\");\n        }), r += \"]\", console.log(r), t.wordArray.name = t.name;\n      }\n\n      e.results.push(t.wordArray), e.counter--, console.log(\"\".concat(e.counter)), e.maybeMerge();\n    }\n\n    function c(e) {\n      for (var t = 0; t < e.length; t++) {\n        0 === e[t].length && e.splice(t, 1);\n      }\n\n      return e.length > 0;\n    }\n\n    a.prototype.start = function () {\n      if (this.state !== o) throw new Error(\"The transcription can only start when it's in the \\\"\".concat(o, '\" state. It\\'s currently in the \"').concat(this.state, '\" state'));\n      this.state = \"recording\", this.audioRecorder.start(), this.startTime = new Date();\n    }, a.prototype.stop = function (e) {\n      var t = this;\n      if (\"recording\" !== this.state) throw new Error(\"The transcription can only stop when it's in the \\\"\".concat(\"recording\", '\" state. It\\'s currently in the \"').concat(this.state, '\" state'));\n      console.log(\"\"), this.audioRecorder.stop();\n      var n = s.bind(null, this);\n      this.audioRecorder.getRecordingResults().forEach(function (e) {\n        t.transcriptionService.send(e, n), t.counter++;\n      }), this.state = \"transcribing\", this.callback = e;\n    }, a.prototype.maybeMerge = function () {\n      \"transcribing\" === this.state && 0 === this.counter && this.merge();\n    }, a.prototype.merge = function () {\n      var e = this;\n      console.log(\"\".concat(this.results.length)), this.transcription = \"\";\n      var t = this.results,\n          n = [];\n      c(t), t.forEach(function (e) {\n        return function (e, t) {\n          if (0 === e.length) e.push(t);else {\n            if (e[e.length - 1].begin <= t.begin) return void e.push(t);\n\n            for (var n = 0; n < e.length; n++) {\n              if (t.begin < e[n].begin) return void e.splice(n, 0, t);\n            }\n\n            e.push(t);\n          }\n        }(n, e);\n      });\n\n      for (var r = function r() {\n        var n = t[0];\n        t.forEach(function (e) {\n          e[0].begin < n[0].begin && (n = e);\n        });\n        var r = n.shift();\n        e.updateTranscription(r, n.name);\n\n        for (var i = function i() {\n          var i = !1,\n              o = n[0].begin;\n          if (t.forEach(function (e) {\n            e[0].begin < o && (i = !0);\n          }), i) return \"break\";\n          r = n.shift(), e.updateTranscription(r, null);\n        }; n.length > 0;) {\n          if (\"break\" === i()) break;\n        }\n      }; c(t);) {\n        r();\n      }\n\n      this.state = \"finished\", this.callback && this.callback(this.transcription);\n    }, a.prototype.updateTranscription = function (e, t) {\n      null != t && (this.transcription += \"\\n\".concat(t, \":\"), this.lineLength = t.length + 1), this.lineLength + e.word.length > 80 && (this.transcription += \"\\n    \", this.lineLength = 4), this.transcription += \" \".concat(e.word), this.lineLength += e.word.length + 1;\n    }, a.prototype.addTrack = function (e) {\n      this.audioRecorder.addTrack(e);\n    }, a.prototype.removeTrack = function (e) {\n      this.audioRecorder.removeTrack(e);\n    }, a.prototype.getTranscription = function () {\n      if (\"finished\" !== this.state) throw new Error(\"The transcription can only be retrieved when it's in the \\\"\".concat(\"finished\", '\" state. It\\'s currently in the \"').concat(this.state, '\" state'));\n      return this.transcription;\n    }, a.prototype.getState = function () {\n      return this.state;\n    }, a.prototype.reset = function () {\n      this.state = o, this.counter = null, this.transcription = null, this.startTime = null, this.callback = null, this.results = [], this.lineLength = 0;\n    }, e.exports = a;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return o;\n      });\n      var r = n(5),\n          i = n(4).getLogger(e);\n\n      function o(e) {\n        this.versions = {}, this.conference = e, this.conference.addCommandListener(\"versions\", this.processVersions.bind(this));\n      }\n\n      o.prototype.processVersions = function (e, t, n) {\n        var o = this;\n\n        if (this.conference._isFocus(n)) {\n          var a = [];\n          e.children.forEach(function (e) {\n            var t = e.attributes.name,\n                n = e.value;\n            o.versions[t] !== n && (o.versions[t] = n, i.info(\"Got \".concat(t, \" version: \").concat(n)), a.push({\n              id: \"component_version\",\n              component: t,\n              version: n\n            }));\n          }), a.length > 0 && r.a.sendLog(JSON.stringify(a));\n        } else i.warn(\"Received versions not from the focus user: \".concat(e), n);\n      }, o.prototype.getComponentVersion = function (e) {\n        return this.versions[e];\n      };\n    }).call(this, \"modules/version/ComponentsVersions.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return d;\n      });\n      var r = n(4),\n          i = n(118),\n          o = n(20),\n          a = n(0),\n          s = n.n(a);\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var u = Object(r.getLogger)(e),\n          d = function () {\n        function e(t) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this.chatRoom = t, this.eventEmitter = t.eventEmitter, u.debug(\"creating VideoSIPGW\"), this.sessions = {}, this.sessionStateChangeListener = this.sessionStateChanged.bind(this), t.addPresenceListener(\"jibri-sip-call-state\", this.handleJibriSIPState.bind(this));\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"handleJibriSIPState\",\n          value: function value(e) {\n            var t = e.attributes;\n\n            if (t) {\n              u.debug(\"Handle video sip gw state : \", t);\n              var n = t.state;\n              if (n !== this.state) switch (n) {\n                case o.STATE_ON:\n                case o.STATE_OFF:\n                case o.STATE_PENDING:\n                case o.STATE_RETRYING:\n                case o.STATE_FAILED:\n                  var r = t.sipaddress;\n                  if (!r) return;\n                  var i = this.sessions[r];\n                  i ? i.setState(n, t.failure_reason) : u.warn(\"Video SIP GW session not found:\", r);\n              }\n            }\n          }\n        }, {\n          key: \"createVideoSIPGWSession\",\n          value: function value(e, t) {\n            if (this.sessions[e]) return u.warn(\"There was already a Video SIP GW session for address\", e), new Error(o.ERROR_SESSION_EXISTS);\n            var n = new i.a(e, t, this.chatRoom);\n            return n.addStateListener(this.sessionStateChangeListener), this.sessions[e] = n, n;\n          }\n        }, {\n          key: \"sessionStateChanged\",\n          value: function value(e) {\n            var t = e.address;\n\n            if (e.newState === o.STATE_OFF || e.newState === o.STATE_FAILED) {\n              var n = this.sessions[t];\n              if (!n) return void u.error(\"Missing Video SIP GW session with address:\", t);\n              n.removeStateListener(this.sessionStateChangeListener), delete this.sessions[t];\n            }\n\n            this.eventEmitter.emit(s.a.VIDEO_SIP_GW_SESSION_STATE_CHANGED, e);\n          }\n        }]) && c(t.prototype, n), r && c(t, r), e;\n      }();\n    }).call(this, \"modules/videosipgw/VideoSIPGW.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return f;\n      });\n      var r = n(4),\n          i = n(2),\n          o = n(25),\n          a = n(20);\n\n      function s(e) {\n        return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      function c(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      function u(e, t) {\n        return !t || \"object\" !== s(t) && \"function\" != typeof t ? function (e) {\n          if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return e;\n        }(e) : t;\n      }\n\n      function d(e) {\n        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n          return e.__proto__ || Object.getPrototypeOf(e);\n        })(e);\n      }\n\n      function l(e, t) {\n        return (l = Object.setPrototypeOf || function (e, t) {\n          return e.__proto__ = t, e;\n        })(e, t);\n      }\n\n      var p = Object(r.getLogger)(e),\n          f = function (e) {\n        function t(e, n, r) {\n          var i;\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), (i = u(this, d(t).call(this))).sipAddress = e, i.displayName = n, i.chatRoom = r, i.state = void 0, i;\n        }\n\n        var n, r, o;\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && l(e, t);\n        }(t, e), n = t, (r = [{\n          key: \"stop\",\n          value: function value() {\n            this.state !== a.STATE_OFF && this.state !== a.STATE_FAILED ? this._sendJibriIQ(\"stop\") : p.warn(\"Video SIP GW session already stopped or failed!\");\n          }\n        }, {\n          key: \"start\",\n          value: function value() {\n            this.state !== a.STATE_ON && this.state !== a.STATE_OFF && this.state !== a.STATE_PENDING && this.state !== a.STATE_RETRYING ? this._sendJibriIQ(\"start\") : p.warn(\"Video SIP GW session already started!\");\n          }\n        }, {\n          key: \"setState\",\n          value: function value(e, t) {\n            if (e !== this.state) {\n              var n = this.state;\n              this.state = e, this.eventEmitter.emit(\"STATE_CHANGED\", {\n                address: this.sipAddress,\n                failureReason: t,\n                oldState: n,\n                newState: this.state,\n                displayName: this.displayName\n              });\n            }\n          }\n        }, {\n          key: \"addStateListener\",\n          value: function value(e) {\n            this.addListener(\"STATE_CHANGED\", e);\n          }\n        }, {\n          key: \"removeStateListener\",\n          value: function value(e) {\n            this.removeListener(\"STATE_CHANGED\", e);\n          }\n        }, {\n          key: \"_sendJibriIQ\",\n          value: function value(e) {\n            var t = this,\n                n = {\n              xmlns: \"http://jitsi.org/protocol/jibri\",\n              action: e,\n              sipaddress: this.sipAddress\n            };\n            n.displayname = this.displayName;\n            var r = Object(i.$iq)({\n              to: this.chatRoom.focusMucJid,\n              type: \"set\"\n            }).c(\"jibri\", n).up();\n            p.debug(\"\".concat(e, \" video SIP GW session\"), r.nodeTree), this.chatRoom.connection.sendIQ(r, function () {}, function (n) {\n              p.error(\"Failed to \".concat(e, \" video SIP GW session, error: \"), n), t.setState(a.STATE_FAILED);\n            });\n          }\n        }]) && c(n.prototype, r), o && c(n, o), t;\n      }(o.a);\n    }).call(this, \"modules/videosipgw/JitsiVideoSIPGWSession.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    t.a = {\n      error: {\n        BUSY: \"busy\",\n        ERROR: \"error\",\n        RESOURCE_CONSTRAINT: \"resource-constraint\",\n        SERVICE_UNAVAILABLE: \"service-unavailable\"\n      },\n      mode: {\n        FILE: \"file\",\n        STREAM: \"stream\"\n      },\n      status: {\n        OFF: \"off\",\n        ON: \"on\",\n        PENDING: \"pending\"\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(4),\n          i = n(2),\n          o = n(9),\n          a = n(14),\n          s = n.n(a),\n          c = n(12),\n          u = n(121),\n          d = n(29);\n\n      function l(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function p(e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? l(Object(n), !0).forEach(function (t) {\n            f(e, t, n[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : l(Object(n)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n          });\n        }\n\n        return e;\n      }\n\n      function f(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      function h(e, t) {\n        if (null == e) return {};\n\n        var n,\n            r,\n            i = function (e, t) {\n          if (null == e) return {};\n          var n,\n              r,\n              i = {},\n              o = Object.keys(e);\n\n          for (r = 0; r < o.length; r++) {\n            n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]);\n          }\n\n          return i;\n        }(e, t);\n\n        if (Object.getOwnPropertySymbols) {\n          var o = Object.getOwnPropertySymbols(e);\n\n          for (r = 0; r < o.length; r++) {\n            n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]);\n          }\n        }\n\n        return i;\n      }\n\n      function m(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var v = Object(r.getLogger)(e),\n          g = function () {\n        function e() {\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e);\n          var n = t.jitsiConnection,\n              r = h(t, [\"jitsiConnection\"]);\n          this._options = p({\n            iceConfig: n && n.xmpp.connection.jingle.p2pIceConfig\n          }, r), this._peerConnection = null, this._onFatalError = this._onFatalError.bind(this), this._onSendMessage = this._onSendMessage.bind(this), this._onRemoteStream = this._onRemoteStream.bind(this);\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"processMessage\",\n          value: function value(e) {\n            var t = e.from;\n            if (t) if (this._peerConnection && this._peerConnection.getPeerJid() !== t) this._onFatalError(t, d.a.CONNECTION_ERROR, \"rejected\");else {\n              var n = this._convertStringToXML(e.data.iq),\n                  r = n && n.find(\"jingle\"),\n                  i = r && r.attr(\"action\");\n\n              i === d.a.INITIATE && (this._peerConnection = this._createPeerConnection(t, {\n                isInitiator: !1,\n                receiveVideo: !0\n              })), this._peerConnection && this._peerConnection.processMessage(r), i !== d.a.CONNECTION_ERROR && i !== d.a.UNAVAILABLE && i !== d.a.TERMINATE || this._selfCloseConnection();\n            }\n          }\n        }, {\n          key: \"start\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n            this._peerConnection = this._createPeerConnection(e, {\n              isInitiator: !0,\n              receiveVideo: !1\n            }), this._peerConnection.start(t);\n          }\n        }, {\n          key: \"stop\",\n          value: function value() {\n            this._peerConnection && this._peerConnection.stop(), this._peerConnection = null;\n          }\n        }, {\n          key: \"_convertStringToXML\",\n          value: function value(e) {\n            try {\n              var t = new DOMParser().parseFromString(e, \"text/xml\");\n              return $(t);\n            } catch (e) {\n              return v.error(\"Attempted to convert incorrectly formatted xml\"), null;\n            }\n          }\n        }, {\n          key: \"_createPeerConnection\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n            if (!e) throw new Error(\"Cannot create ProxyConnectionPC without a peer.\");\n            var n = p({\n              iceConfig: this._options.iceConfig,\n              onError: this._onFatalError,\n              onRemoteStream: this._onRemoteStream,\n              onSendMessage: this._onSendMessage,\n              peerJid: e\n            }, t);\n            return new u.a(n);\n          }\n        }, {\n          key: \"_onFatalError\",\n          value: function value(e, t) {\n            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"\";\n            v.error(\"Received a proxy connection error\", e, t, n);\n            var r = Object(i.$iq)({\n              to: e,\n              type: \"set\"\n            }).c(\"jingle\", {\n              xmlns: \"urn:xmpp:jingle:1\",\n              action: t\n            }).c(\"details\").t(n).up();\n            this._onSendMessage(e, r), this._peerConnection && this._peerConnection.getPeerJid() === e && this._selfCloseConnection();\n          }\n        }, {\n          key: \"_onRemoteStream\",\n          value: function value(e) {\n            if (!this._options.onRemoteStream) return v.error(\"Remote track received without callback.\"), void e.dispose();\n            var t,\n                n = e.isVideoTrack();\n            n && (t = this._options.convertVideoToDesktop ? s.a.DESKTOP : s.a.CAMERA);\n            var r = e.getOriginalStream(),\n                i = c.a.newCreateLocalTracks([{\n              deviceId: \"proxy:\".concat(this._peerConnection.getPeerJid()),\n              mediaType: n ? o.c : o.a,\n              sourceType: \"proxy\",\n              stream: r,\n              track: r.getVideoTracks()[0],\n              videoType: t\n            }]);\n\n            this._options.onRemoteStream(i[0]);\n          }\n        }, {\n          key: \"_onSendMessage\",\n          value: function value(e, t) {\n            if (this._options.onSendMessage) try {\n              var n = new XMLSerializer().serializeToString(t.nodeTree || t);\n\n              this._options.onSendMessage(e, {\n                iq: n\n              });\n            } catch (e) {\n              v.error(\"Attempted to send an incorrectly formatted iq.\");\n            }\n          }\n        }, {\n          key: \"_selfCloseConnection\",\n          value: function value() {\n            this.stop(), this._options.onConnectionClosed && this._options.onConnectionClosed();\n          }\n        }]) && m(t.prototype, n), r && m(t, r), e;\n      }();\n    }).call(this, \"modules/proxyconnection/ProxyConnectionService.js\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (e) {\n      n.d(t, \"a\", function () {\n        return g;\n      });\n      var r = n(4),\n          i = n(12),\n          o = n(8),\n          a = n.n(o),\n          s = n(0),\n          c = n.n(s),\n          u = n(45),\n          d = n(36),\n          l = n(29);\n\n      function p(e, t) {\n        var n = Object.keys(e);\n\n        if (Object.getOwnPropertySymbols) {\n          var r = Object.getOwnPropertySymbols(e);\n          t && (r = r.filter(function (t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n          })), n.push.apply(n, r);\n        }\n\n        return n;\n      }\n\n      function f(e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? p(Object(n), !0).forEach(function (t) {\n            h(e, t, n[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : p(Object(n)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n          });\n        }\n\n        return e;\n      }\n\n      function h(e, t, n) {\n        return t in e ? Object.defineProperty(e, t, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[t] = n, e;\n      }\n\n      function m(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n\n      var v = Object(r.getLogger)(e),\n          g = function () {\n        function e() {\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e), this._options = f({\n            iceConfig: {},\n            isInitiator: !1,\n            receiveAudio: !1,\n            receiveVideo: !1\n          }, t), this._tracks = [], this._peerConnection = null, this._onError = this._onError.bind(this), this._onRemoteStream = this._onRemoteStream.bind(this), this._onSendMessage = this._onSendMessage.bind(this);\n        }\n\n        var t, n, r;\n        return t = e, (n = [{\n          key: \"getPeerJid\",\n          value: function value() {\n            return this._options.peerJid;\n          }\n        }, {\n          key: \"processMessage\",\n          value: function value(e) {\n            switch (e.attr(\"action\")) {\n              case l.a.ACCEPT:\n                this._onSessionAccept(e);\n\n                break;\n\n              case l.a.INITIATE:\n                this._onSessionInitiate(e);\n\n                break;\n\n              case l.a.TERMINATE:\n                this._onSessionTerminate(e);\n\n                break;\n\n              case l.a.TRANSPORT_INFO:\n                this._onTransportInfo(e);\n\n            }\n          }\n        }, {\n          key: \"start\",\n          value: function value() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n            this._peerConnection || (this._tracks = this._tracks.concat(e), this._peerConnection = this._createPeerConnection(), this._peerConnection.invite(e));\n          }\n        }, {\n          key: \"stop\",\n          value: function value() {\n            this._peerConnection && this._peerConnection.terminate(), this._onSessionTerminate();\n          }\n        }, {\n          key: \"_createPeerConnection\",\n          value: function value() {\n            var e = this,\n                t = {\n              jingle: {\n                terminate: function terminate() {}\n              },\n              sendIQ: this._onSendMessage\n            },\n                n = f({\n              iceServers: d.a\n            }, this._options.iceConfig),\n                r = {\n              addPresenceListener: function addPresenceListener() {},\n              connectionTimes: [],\n              eventEmitter: {\n                emit: function emit(t) {\n                  switch (t) {\n                    case c.a.CONNECTION_ICE_FAILED:\n                    case c.a.CONNECTION_FAILED:\n                      e._onError(l.a.CONNECTION_ERROR, t);\n\n                  }\n                }\n              },\n              getMediaPresenceInfo: function getMediaPresenceInfo() {\n                return {};\n              },\n              removePresenceListener: function removePresenceListener() {}\n            };\n            this._rtc = new i.a(this, {}), this._rtc.addListener(a.a.REMOTE_TRACK_ADDED, this._onRemoteStream);\n            var o = new u.a(void 0, void 0, this._options.peerJid, t, {\n              offerToReceiveAudio: this._options.receiveAudio,\n              offerToReceiveVideo: this._options.receiveVideo\n            }, n, !0, this._options.isInitiator);\n            return o.initialize(r, this._rtc, {}), o;\n          }\n        }, {\n          key: \"_onError\",\n          value: function value(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\n\n            this._options.onError(this._options.peerJid, e, t);\n          }\n        }, {\n          key: \"_onRemoteStream\",\n          value: function value(e) {\n            this._tracks.push(e), this._options.onRemoteStream(e);\n          }\n        }, {\n          key: \"_onSendMessage\",\n          value: function value(e) {\n            this._options.onSendMessage(this._options.peerJid, e);\n          }\n        }, {\n          key: \"_onSessionAccept\",\n          value: function value(e) {\n            this._peerConnection ? this._peerConnection.setAnswer(e) : v.error(\"Received an answer when no peer connection exists.\");\n          }\n        }, {\n          key: \"_onSessionInitiate\",\n          value: function value(e) {\n            var t = this;\n            this._peerConnection ? v.error(\"Received an offer when an offer was already sent.\") : (this._peerConnection = this._createPeerConnection(), this._peerConnection.acceptOffer(e, function () {}, function () {\n              return t._onError(t._options.peerJid, l.a.CONNECTION_ERROR, \"session initiate error\");\n            }));\n          }\n        }, {\n          key: \"_onSessionTerminate\",\n          value: function value() {\n            this._tracks.forEach(function (e) {\n              return e.dispose();\n            }), this._tracks = [], this._peerConnection && this._peerConnection.onTerminated(), this._rtc && (this._rtc.removeListener(a.a.REMOTE_TRACK_ADDED, this._onRemoteStream), this._rtc.destroy());\n          }\n        }, {\n          key: \"_onTransportInfo\",\n          value: function value(e) {\n            this._peerConnection.addIceCandidates(e);\n          }\n        }]) && m(t.prototype, n), r && m(t, r), e;\n      }();\n    }).call(this, \"modules/proxyconnection/ProxyConnectionPC.js\");\n  }, function (e, t, n) {\n    e.exports = n(123).default;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), function (e) {\n      var r = n(66),\n          i = n(26),\n          o = n(52),\n          a = n(6),\n          s = n(77),\n          c = n.n(s),\n          u = n(28),\n          d = n(53),\n          l = n(11),\n          p = n.n(l),\n          f = n(17),\n          h = n(1),\n          m = n(78),\n          v = n(38),\n          g = n(21),\n          y = n(61),\n          _ = n(46),\n          S = n(16),\n          b = n(13),\n          E = n(15),\n          T = n(54),\n          C = n(49),\n          A = n(4),\n          R = n.n(A),\n          w = n(9),\n          O = n(30),\n          k = n.n(O),\n          P = n(42),\n          I = n(12),\n          D = n(3),\n          N = n(50),\n          M = n.n(N),\n          L = n(119),\n          x = n(120),\n          j = n(5),\n          F = n(20);\n\n      function U(e) {\n        return (U = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n\n      var H = R.a.getLogger(e);\n\n      function J(e) {\n        if (!k.a[e]) return null;\n        var t = k.a[e].order,\n            n = null,\n            r = null;\n        return Object.keys(k.a).forEach(function (e) {\n          var i = k.a[e];\n          (!n || n.order < i.order && i.order < t) && (r = e, n = i);\n        }), r === e && (r = null), r;\n      }\n\n      function G(e) {\n        var t = {\n          audio_requested: e.devices.includes(\"audio\"),\n          video_requested: e.devices.includes(\"video\"),\n          screen_sharing_requested: e.devices.includes(\"desktop\")\n        };\n        return t.video_requested && (t.resolution = e.resolution), t;\n      }\n\n      t.default = function (e) {\n        return \"object\" === U(window.JitsiMeetJS) ? Object.assign({}, window.JitsiMeetJS, e) : e;\n      }({\n        version: \"development\",\n        JitsiConnection: m.a,\n        ProxyConnectionService: x.a,\n        constants: {\n          participantConnectionStatus: P.a,\n          recording: L.a,\n          sipVideoGW: F,\n          transcriptionStatus: T\n        },\n        events: {\n          conference: h,\n          connection: g,\n          detection: i,\n          track: E,\n          mediaDevices: _,\n          connectionQuality: u,\n          e2eping: d\n        },\n        errors: {\n          conference: f,\n          connection: v,\n          track: b\n        },\n        errorTypes: {\n          JitsiTrackError: S.a\n        },\n        logLevels: R.a.levels,\n        mediaDevices: y.a,\n        analytics: j.a.analytics,\n        init: function init() {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          j.a.init(e), window.connectionTimes || (window.connectionTimes = {}), !0 !== e.enableAnalyticsLogging && (H.warn(\"Analytics disabled, disposing.\"), this.analytics.dispose()), e.enableWindowOnErrorHandler && p.a.addHandler(this.getGlobalOnErrorHandler.bind(this));\n          var t = e.deploymentInfo;\n\n          if (t && Object.keys(t).length > 0) {\n            var n = {};\n\n            for (var r in t) {\n              t.hasOwnProperty(r) && (n[r] = t[r]);\n            }\n\n            n.id = \"deployment_info\", j.a.sendLog(JSON.stringify(n));\n          }\n\n          if (this.version) {\n            var i = {\n              id: \"component_version\",\n              component: \"lib-jitsi-meet\",\n              version: this.version\n            };\n            j.a.sendLog(JSON.stringify(i));\n          }\n\n          return I.a.init(e);\n        },\n        isDesktopSharingEnabled: function isDesktopSharingEnabled() {\n          return I.a.isDesktopSharingEnabled();\n        },\n        isWebRtcSupported: function isWebRtcSupported() {\n          return I.a.isWebRtcSupported();\n        },\n        setLogLevel: function setLogLevel(e) {\n          R.a.setLogLevel(e);\n        },\n        setLogLevelById: function setLogLevelById(e, t) {\n          R.a.setLogLevelById(e, t);\n        },\n        addGlobalLogTransport: function addGlobalLogTransport(e) {\n          R.a.addGlobalTransport(e);\n        },\n        removeGlobalLogTransport: function removeGlobalLogTransport(e) {\n          R.a.removeGlobalTransport(e);\n        },\n        setGlobalLogOptions: function setGlobalLogOptions(e) {\n          R.a.setGlobalOptions(e);\n        },\n        createLocalTracks: function createLocalTracks() {\n          var e = this,\n              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n              n = arguments.length > 1 ? arguments[1] : void 0,\n              r = arguments.length > 2 ? arguments[2] : void 0,\n              i = !1;\n          return !0 === n && window.setTimeout(function () {\n            i || y.a.emitEvent(_.PERMISSION_PROMPT_IS_SHOWN, D.a.getName());\n          }, 1e3), window.connectionTimes || (window.connectionTimes = {}), window.connectionTimes[\"obtainPermissions.start\"] = window.performance.now(), I.a.obtainAudioAndVideoPermissions(t).then(function (n) {\n            if (i = !0, window.connectionTimes[\"obtainPermissions.end\"] = window.performance.now(), j.a.sendAnalytics(Object(a.F)(\"success\", G(t))), !I.a.options.disableAudioLevels) for (var r = function r(e) {\n              var t = n[e],\n                  r = t.getOriginalStream();\n              t.getType() === w.a && (j.a.startLocalStats(r, t.setAudioLevel.bind(t)), t.addEventListener(E.LOCAL_TRACK_STOPPED, function () {\n                j.a.stopLocalStats(r);\n              }));\n            }, o = 0; o < n.length; o++) {\n              r(o);\n            }\n            var s = I.a.getCurrentlyAvailableMediaDevices();\n            if (s) for (var c = 0; c < n.length; c++) {\n              n[c]._setRealDeviceIdFromDeviceList(s);\n            }\n            var u = !0,\n                d = !1,\n                l = void 0;\n\n            try {\n              for (var p, f = n[Symbol.iterator](); !(u = (p = f.next()).done); u = !0) {\n                var h = p.value;\n                h.type === w.c && \"desktop\" === h.videoType && e.setVideoTrackContentHints(h.track, \"detail\");\n              }\n            } catch (e) {\n              d = !0, l = e;\n            } finally {\n              try {\n                u || null == f.return || f.return();\n              } finally {\n                if (d) throw l;\n              }\n            }\n\n            return n;\n          }).catch(function (n) {\n            if (i = !0, n.name === b.UNSUPPORTED_RESOLUTION && !D.a.usesNewGumFlow()) {\n              var o = t.resolution || \"720\",\n                  s = J(o);\n              if (null !== s) return t.resolution = s, H.debug(\"Retry createLocalTracks with resolution\", s), j.a.sendAnalytics(Object(a.F)(\"warning\", {\n                old_resolution: o,\n                new_resolution: s,\n                reason: \"unsupported resolution\"\n              })), e.createLocalTracks(t, void 0, r || Object.assign({}, t));\n              if (r && n.gum.constraints && n.gum.constraints.video && n.gum.constraints.video.mandatory && n.gum.constraints.video.mandatory.sourceId) return r.cameraDeviceId = void 0, e.createLocalTracks(r);\n            }\n\n            if (n.name === b.CHROME_EXTENSION_USER_CANCELED) {\n              var c = {\n                id: \"chrome_extension_user_canceled\",\n                message: n.message\n              };\n              j.a.sendLog(JSON.stringify(c)), j.a.sendAnalytics(Object(a.F)(\"warning\", {\n                reason: \"extension install user canceled\"\n              }));\n            } else if (n.name === b.NOT_FOUND) {\n              var u = {\n                id: \"usermedia_missing_device\",\n                status: n.gum.devices\n              };\n              j.a.sendLog(JSON.stringify(u));\n              var d = G(t);\n              d.reason = \"device not found\", d.devices = n.gum.devices.join(\".\"), j.a.sendAnalytics(Object(a.F)(\"error\", d));\n            } else {\n              j.a.sendGetUserMediaFailed(n);\n              var l = G(t);\n              l.reason = n.name, j.a.sendAnalytics(Object(a.F)(\"error\", l));\n            }\n\n            return window.connectionTimes[\"obtainPermissions.end\"] = window.performance.now(), Promise.reject(n);\n          });\n        },\n        createTrackVADEmitter: function createTrackVADEmitter(e, t, n) {\n          return o.a.create(e, t, n);\n        },\n        getActiveAudioDevice: function getActiveAudioDevice() {\n          return Object(r.a)();\n        },\n        isDeviceListAvailable: function isDeviceListAvailable() {\n          return H.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead\"), this.mediaDevices.isDeviceListAvailable();\n        },\n        isDeviceChangeAvailable: function isDeviceChangeAvailable(e) {\n          return H.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead\"), this.mediaDevices.isDeviceChangeAvailable(e);\n        },\n        isMultipleAudioInputSupported: function isMultipleAudioInputSupported() {\n          return this.mediaDevices.isMultipleAudioInputSupported();\n        },\n        isCollectingLocalStats: function isCollectingLocalStats() {\n          return j.a.audioLevelsEnabled && C.a.isLocalStatsSupported();\n        },\n        enumerateDevices: function enumerateDevices(e) {\n          H.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead\"), this.mediaDevices.enumerateDevices(e);\n        },\n        getGlobalOnErrorHandler: function getGlobalOnErrorHandler(e, t, n, r, i) {\n          H.error(\"UnhandledError: \".concat(e), \"Script: \".concat(t), \"Line: \".concat(n), \"Column: \".concat(r), \"StackTrace: \", i), j.a.reportGlobalError(i);\n        },\n        setVideoTrackContentHints: function setVideoTrackContentHints(e, t) {\n          \"contentHint\" in e ? (e.contentHint = t, e.contentHint !== t && H.debug(\"Invalid video track contentHint\")) : H.debug(\"MediaStreamTrack contentHint attribute not supported\");\n        },\n        util: {\n          AuthUtil: c.a,\n          ScriptUtil: M.a,\n          browser: D.a\n        }\n      });\n    }.call(this, \"JitsiMeetJS.js\");\n  }, function (e, t, n) {\n    var r = n(62);\n\n    function i(e, t) {\n      this.logStorage = e, this.stringifyObjects = !(!t || !t.stringifyObjects) && t.stringifyObjects, this.storeInterval = t && t.storeInterval ? t.storeInterval : 3e4, this.maxEntryLength = t && t.maxEntryLength ? t.maxEntryLength : 1e4, Object.keys(r.levels).forEach(function (e) {\n        this[r.levels[e]] = function () {\n          this._log.apply(this, arguments);\n        }.bind(this, e);\n      }.bind(this)), this.storeLogsIntervalID = null, this.queue = [], this.totalLen = 0, this.outputCache = [];\n    }\n\n    i.prototype.stringify = function (e) {\n      try {\n        return JSON.stringify(e);\n      } catch (e) {\n        return \"[object with circular refs?]\";\n      }\n    }, i.prototype.formatLogMessage = function (e) {\n      for (var t = \"\", n = 1, i = arguments.length; n < i; n++) {\n        var o = arguments[n];\n        !this.stringifyObjects && e !== r.levels.ERROR || \"object\" != typeof o || (o = this.stringify(o)), t += o, n !== i - 1 && (t += \" \");\n      }\n\n      return t.length ? t : null;\n    }, i.prototype._log = function () {\n      var e = arguments[1],\n          t = this.formatLogMessage.apply(this, arguments);\n\n      if (t) {\n        var n = this.queue[this.queue.length - 1],\n            r = n && n.text;\n        r === t ? n.count += 1 : (this.queue.push({\n          text: t,\n          timestamp: e,\n          count: 1\n        }), this.totalLen += t.length);\n      }\n\n      this.totalLen >= this.maxEntryLength && this._flush(!0, !0);\n    }, i.prototype.start = function () {\n      this._reschedulePublishInterval();\n    }, i.prototype._reschedulePublishInterval = function () {\n      this.storeLogsIntervalID && (window.clearTimeout(this.storeLogsIntervalID), this.storeLogsIntervalID = null), this.storeLogsIntervalID = window.setTimeout(this._flush.bind(this, !1, !0), this.storeInterval);\n    }, i.prototype.flush = function () {\n      this._flush(!1, !0);\n    }, i.prototype._flush = function (e, t) {\n      this.totalLen > 0 && (this.logStorage.isReady() || e) && (this.logStorage.isReady() ? (this.outputCache.length && (this.outputCache.forEach(function (e) {\n        this.logStorage.storeLogs(e);\n      }.bind(this)), this.outputCache = []), this.logStorage.storeLogs(this.queue)) : this.outputCache.push(this.queue), this.queue = [], this.totalLen = 0), t && this._reschedulePublishInterval();\n    }, i.prototype.stop = function () {\n      this._flush(!1, !1);\n    }, e.exports = i;\n  }, function (e, t) {\n    (function (t) {\n      e.exports = t;\n    }).call(this, {});\n  }, function (e, t, n) {\n    var r, i, o;\n    /*!\n     * currentExecutingScript\n     * Get the currently executing script, regardless of its source/trigger/synchronicity. Similar to HTML5's `document.currentScript` but arguably much more useful!\n     * Copyright (c) 2015 James M. Greene\n     * Licensed MIT\n     * https://github.com/JamesMGreene/currentExecutingScript\n     * v0.1.3\n     */\n\n    this || window, i = [], void 0 === (o = \"function\" == typeof (r = function r() {\n      var e = /^(interactive|loaded|complete)$/,\n          t = window.location ? window.location.href : null,\n          n = t && t.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\") || null,\n          r = document.getElementsByTagName(\"script\"),\n          i = (\"readyState\" in (r[0] || document.createElement(\"script\"))),\n          o = !window.opera || \"[object Opera]\" !== window.opera.toString(),\n          a = (\"currentScript\" in document);\n      \"stackTraceLimit\" in Error && Error.stackTraceLimit !== 1 / 0 && (Error.stackTraceLimit, Error.stackTraceLimit = 1 / 0);\n      var s = !1,\n          c = !1;\n\n      function u() {\n        if (0 === r.length) return null;\n        var t,\n            d,\n            l,\n            p,\n            f,\n            h = [],\n            m = u.skipStackDepth || 1;\n\n        for (t = 0; t < r.length; t++) {\n          o && i ? e.test(r[t].readyState) && h.push(r[t]) : h.push(r[t]);\n        }\n\n        if (d = new Error(), s && (l = d.stack), !l && c) try {\n          throw d;\n        } catch (e) {\n          l = e.stack;\n        }\n        if (l && !(f = function (e, t) {\n          var n,\n              i = null;\n          if (t = t || r, \"string\" == typeof e && e) for (n = t.length; n--;) {\n            if (t[n].src === e) {\n              i = t[n];\n              break;\n            }\n          }\n          return i;\n        }(p = function e(t, n) {\n          var r,\n              i = null,\n              o = \"number\" == typeof n;\n          return n = o ? Math.round(n) : 0, \"string\" == typeof t && t && (o ? r = t.match(/(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/) : (r = t.match(/^(?:|[^:@]*@|.+\\)@(?=data:text\\/javascript|blob|http[s]?|file)|.+?\\s+(?: at |@)(?:[^:\\(]+ )*[\\(]?)(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/)) && r[1] || (r = t.match(/\\)@(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/)), r && r[1] && (i = n > 0 ? e(t.slice(t.indexOf(r[0]) + r[0].length), n - 1) : r[1])), i;\n        }(l, m), h)) && n && p === n && (f = function (e) {\n          var t,\n              n,\n              i = null;\n\n          for (t = 0, n = (e = e || r).length; t < n; t++) {\n            if (!e[t].hasAttribute(\"src\")) {\n              if (i) {\n                i = null;\n                break;\n              }\n\n              i = e[t];\n            }\n          }\n\n          return i;\n        }(h)), f || 1 === h.length && (f = h[0]), f || a && (f = document.currentScript), !f && o && i) for (t = h.length; t--;) {\n          if (\"interactive\" === h[t].readyState) {\n            f = h[t];\n            break;\n          }\n        }\n        return f || (f = h[h.length - 1] || null), f;\n      }\n\n      (function () {\n        try {\n          var e = new Error();\n          throw s = \"string\" == typeof e.stack && !!e.stack, e;\n        } catch (e) {\n          c = \"string\" == typeof e.stack && !!e.stack;\n        }\n      })(), u.skipStackDepth = 1;\n      var d = u;\n      return d.near = u, d.far = function () {\n        return null;\n      }, d.origin = function () {\n        return null;\n      }, d;\n    }) ? r.apply(t, i) : r) || (e.exports = o);\n  }, function (e, t) {\n    e.exports = {\n      LOCAL_JID: \"local\"\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    (function (t) {\n      var r = n(129);\n      e.exports = r({\n        window: t.window\n      });\n    }).call(this, n(44));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39);\n\n    e.exports = function (e, t) {\n      var i = e && e.window,\n          o = {\n        shimChrome: !0,\n        shimFirefox: !0,\n        shimEdge: !0,\n        shimSafari: !0\n      };\n\n      for (var a in t) {\n        hasOwnProperty.call(t, a) && (o[a] = t[a]);\n      }\n\n      var s = r.log,\n          c = r.detectBrowser(i),\n          u = {\n        browserDetails: c,\n        extractVersion: r.extractVersion,\n        disableLog: r.disableLog,\n        disableWarnings: r.disableWarnings\n      },\n          d = n(130) || null,\n          l = n(132) || null,\n          p = n(135) || null,\n          f = n(137) || null,\n          h = n(138) || null;\n\n      switch (c.browser) {\n        case \"chrome\":\n          if (!d || !d.shimPeerConnection || !o.shimChrome) return s(\"Chrome shim is not included in this adapter release.\"), u;\n          s(\"adapter.js shimming chrome.\"), u.browserShim = d, h.shimCreateObjectURL(i), d.shimGetUserMedia(i), d.shimMediaStream(i), d.shimSourceObject(i), d.shimPeerConnection(i), d.shimOnTrack(i), d.shimAddTrackRemoveTrack(i), d.shimGetSendersWithDtmf(i), h.shimRTCIceCandidate(i);\n          break;\n\n        case \"firefox\":\n          if (!p || !p.shimPeerConnection || !o.shimFirefox) return s(\"Firefox shim is not included in this adapter release.\"), u;\n          s(\"adapter.js shimming firefox.\"), u.browserShim = p, h.shimCreateObjectURL(i), p.shimGetUserMedia(i), p.shimSourceObject(i), p.shimPeerConnection(i), p.shimOnTrack(i), h.shimRTCIceCandidate(i);\n          break;\n\n        case \"edge\":\n          if (!l || !l.shimPeerConnection || !o.shimEdge) return s(\"MS edge shim is not included in this adapter release.\"), u;\n          s(\"adapter.js shimming edge.\"), u.browserShim = l, h.shimCreateObjectURL(i), l.shimGetUserMedia(i), l.shimPeerConnection(i), l.shimReplaceTrack(i);\n          break;\n\n        case \"safari\":\n          if (!f || !o.shimSafari) return s(\"Safari shim is not included in this adapter release.\"), u;\n          s(\"adapter.js shimming safari.\"), u.browserShim = f, h.shimCreateObjectURL(i), f.shimRTCIceServerUrls(i), f.shimCallbacksAPI(i), f.shimLocalStreamsAPI(i), f.shimRemoteStreamsAPI(i), f.shimTrackEventTransceiver(i), f.shimGetUserMedia(i), f.shimCreateOfferLegacy(i), h.shimRTCIceCandidate(i);\n          break;\n\n        default:\n          s(\"Unsupported browser!\");\n      }\n\n      return u;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = r.log,\n        o = {\n      shimMediaStream: function shimMediaStream(e) {\n        e.MediaStream = e.MediaStream || e.webkitMediaStream;\n      },\n      shimOnTrack: function shimOnTrack(e) {\n        if (\"object\" == typeof e && e.RTCPeerConnection && !(\"ontrack\" in e.RTCPeerConnection.prototype)) {\n          Object.defineProperty(e.RTCPeerConnection.prototype, \"ontrack\", {\n            get: function get() {\n              return this._ontrack;\n            },\n            set: function set(e) {\n              this._ontrack && this.removeEventListener(\"track\", this._ontrack), this.addEventListener(\"track\", this._ontrack = e);\n            }\n          });\n          var t = e.RTCPeerConnection.prototype.setRemoteDescription;\n\n          e.RTCPeerConnection.prototype.setRemoteDescription = function () {\n            var n = this;\n            return n._ontrackpoly || (n._ontrackpoly = function (t) {\n              t.stream.addEventListener(\"addtrack\", function (r) {\n                var i;\n                i = e.RTCPeerConnection.prototype.getReceivers ? n.getReceivers().find(function (e) {\n                  return e.track && e.track.id === r.track.id;\n                }) : {\n                  track: r.track\n                };\n                var o = new Event(\"track\");\n                o.track = r.track, o.receiver = i, o.transceiver = {\n                  receiver: i\n                }, o.streams = [t.stream], n.dispatchEvent(o);\n              }), t.stream.getTracks().forEach(function (r) {\n                var i;\n                i = e.RTCPeerConnection.prototype.getReceivers ? n.getReceivers().find(function (e) {\n                  return e.track && e.track.id === r.id;\n                }) : {\n                  track: r\n                };\n                var o = new Event(\"track\");\n                o.track = r, o.receiver = i, o.transceiver = {\n                  receiver: i\n                }, o.streams = [t.stream], n.dispatchEvent(o);\n              });\n            }, n.addEventListener(\"addstream\", n._ontrackpoly)), t.apply(n, arguments);\n          };\n        }\n      },\n      shimGetSendersWithDtmf: function shimGetSendersWithDtmf(e) {\n        if (\"object\" == typeof e && e.RTCPeerConnection && !(\"getSenders\" in e.RTCPeerConnection.prototype) && \"createDTMFSender\" in e.RTCPeerConnection.prototype) {\n          var t = function t(e, _t8) {\n            return {\n              track: _t8,\n\n              get dtmf() {\n                return void 0 === this._dtmf && (\"audio\" === _t8.kind ? this._dtmf = e.createDTMFSender(_t8) : this._dtmf = null), this._dtmf;\n              },\n\n              _pc: e\n            };\n          };\n\n          if (!e.RTCPeerConnection.prototype.getSenders) {\n            e.RTCPeerConnection.prototype.getSenders = function () {\n              return this._senders = this._senders || [], this._senders.slice();\n            };\n\n            var n = e.RTCPeerConnection.prototype.addTrack;\n\n            e.RTCPeerConnection.prototype.addTrack = function (e, r) {\n              var i = this,\n                  o = n.apply(i, arguments);\n              return o || (o = t(i, e), i._senders.push(o)), o;\n            };\n\n            var r = e.RTCPeerConnection.prototype.removeTrack;\n\n            e.RTCPeerConnection.prototype.removeTrack = function (e) {\n              var t = this;\n              r.apply(t, arguments);\n\n              var n = t._senders.indexOf(e);\n\n              -1 !== n && t._senders.splice(n, 1);\n            };\n          }\n\n          var i = e.RTCPeerConnection.prototype.addStream;\n\n          e.RTCPeerConnection.prototype.addStream = function (e) {\n            var n = this;\n            n._senders = n._senders || [], i.apply(n, [e]), e.getTracks().forEach(function (e) {\n              n._senders.push(t(n, e));\n            });\n          };\n\n          var o = e.RTCPeerConnection.prototype.removeStream;\n\n          e.RTCPeerConnection.prototype.removeStream = function (e) {\n            var t = this;\n            t._senders = t._senders || [], o.apply(t, [e]), e.getTracks().forEach(function (e) {\n              var n = t._senders.find(function (t) {\n                return t.track === e;\n              });\n\n              n && t._senders.splice(t._senders.indexOf(n), 1);\n            });\n          };\n        } else if (\"object\" == typeof e && e.RTCPeerConnection && \"getSenders\" in e.RTCPeerConnection.prototype && \"createDTMFSender\" in e.RTCPeerConnection.prototype && e.RTCRtpSender && !(\"dtmf\" in e.RTCRtpSender.prototype)) {\n          var a = e.RTCPeerConnection.prototype.getSenders;\n          e.RTCPeerConnection.prototype.getSenders = function () {\n            var e = this,\n                t = a.apply(e, []);\n            return t.forEach(function (t) {\n              t._pc = e;\n            }), t;\n          }, Object.defineProperty(e.RTCRtpSender.prototype, \"dtmf\", {\n            get: function get() {\n              return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = this._pc.createDTMFSender(this.track) : this._dtmf = null), this._dtmf;\n            }\n          });\n        }\n      },\n      shimSourceObject: function shimSourceObject(e) {\n        var t = e && e.URL;\n        \"object\" == typeof e && (!e.HTMLMediaElement || \"srcObject\" in e.HTMLMediaElement.prototype || Object.defineProperty(e.HTMLMediaElement.prototype, \"srcObject\", {\n          get: function get() {\n            return this._srcObject;\n          },\n          set: function set(e) {\n            var n = this;\n            this._srcObject = e, this.src && t.revokeObjectURL(this.src), e ? (this.src = t.createObjectURL(e), e.addEventListener(\"addtrack\", function () {\n              n.src && t.revokeObjectURL(n.src), n.src = t.createObjectURL(e);\n            }), e.addEventListener(\"removetrack\", function () {\n              n.src && t.revokeObjectURL(n.src), n.src = t.createObjectURL(e);\n            })) : this.src = \"\";\n          }\n        }));\n      },\n      shimAddTrackRemoveTrack: function shimAddTrackRemoveTrack(e) {\n        var t = r.detectBrowser(e);\n\n        if (!(e.RTCPeerConnection.prototype.addTrack && t.version >= 63)) {\n          var n = e.RTCPeerConnection.prototype.getLocalStreams;\n\n          e.RTCPeerConnection.prototype.getLocalStreams = function () {\n            var e = this,\n                t = n.apply(this);\n            return e._reverseStreams = e._reverseStreams || {}, t.map(function (t) {\n              return e._reverseStreams[t.id];\n            });\n          };\n\n          var i = e.RTCPeerConnection.prototype.addStream;\n\n          e.RTCPeerConnection.prototype.addStream = function (t) {\n            var n = this;\n\n            if (n._streams = n._streams || {}, n._reverseStreams = n._reverseStreams || {}, t.getTracks().forEach(function (e) {\n              if (n.getSenders().find(function (t) {\n                return t.track === e;\n              })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n            }), !n._reverseStreams[t.id]) {\n              var r = new e.MediaStream(t.getTracks());\n              n._streams[t.id] = r, n._reverseStreams[r.id] = t, t = r;\n            }\n\n            i.apply(n, [t]);\n          };\n\n          var o = e.RTCPeerConnection.prototype.removeStream;\n          e.RTCPeerConnection.prototype.removeStream = function (e) {\n            var t = this;\n            t._streams = t._streams || {}, t._reverseStreams = t._reverseStreams || {}, o.apply(t, [t._streams[e.id] || e]), delete t._reverseStreams[t._streams[e.id] ? t._streams[e.id].id : e.id], delete t._streams[e.id];\n          }, e.RTCPeerConnection.prototype.addTrack = function (t, n) {\n            var r = this;\n            if (\"closed\" === r.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n            var i = [].slice.call(arguments, 1);\n            if (1 !== i.length || !i[0].getTracks().find(function (e) {\n              return e === t;\n            })) throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\", \"NotSupportedError\");\n            var o = r.getSenders().find(function (e) {\n              return e.track === t;\n            });\n            if (o) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n            r._streams = r._streams || {}, r._reverseStreams = r._reverseStreams || {};\n            var a = r._streams[n.id];\n            if (a) a.addTrack(t), Promise.resolve().then(function () {\n              r.dispatchEvent(new Event(\"negotiationneeded\"));\n            });else {\n              var s = new e.MediaStream([t]);\n              r._streams[n.id] = s, r._reverseStreams[s.id] = n, r.addStream(s);\n            }\n            return r.getSenders().find(function (e) {\n              return e.track === t;\n            });\n          }, [\"createOffer\", \"createAnswer\"].forEach(function (t) {\n            var n = e.RTCPeerConnection.prototype[t];\n\n            e.RTCPeerConnection.prototype[t] = function () {\n              var e = this,\n                  t = arguments,\n                  r = arguments.length && \"function\" == typeof arguments[0];\n              return r ? n.apply(e, [function (n) {\n                var r = c(e, n);\n                t[0].apply(null, [r]);\n              }, function (e) {\n                t[1] && t[1].apply(null, e);\n              }, arguments[2]]) : n.apply(e, arguments).then(function (t) {\n                return c(e, t);\n              });\n            };\n          });\n          var a = e.RTCPeerConnection.prototype.setLocalDescription;\n\n          e.RTCPeerConnection.prototype.setLocalDescription = function () {\n            var e = this;\n            return arguments.length && arguments[0].type ? (arguments[0] = u(e, arguments[0]), a.apply(e, arguments)) : a.apply(e, arguments);\n          };\n\n          var s = Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype, \"localDescription\");\n          Object.defineProperty(e.RTCPeerConnection.prototype, \"localDescription\", {\n            get: function get() {\n              var e = s.get.apply(this);\n              return \"\" === e.type ? e : c(this, e);\n            }\n          }), e.RTCPeerConnection.prototype.removeTrack = function (e) {\n            var t,\n                n = this;\n            if (\"closed\" === n.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n            if (!e._pc) throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\", \"TypeError\");\n            if (!(e._pc === n)) throw new DOMException(\"Sender was not created by this connection.\", \"InvalidAccessError\");\n            n._streams = n._streams || {}, Object.keys(n._streams).forEach(function (r) {\n              n._streams[r].getTracks().find(function (t) {\n                return e.track === t;\n              }) && (t = n._streams[r]);\n            }), t && (1 === t.getTracks().length ? n.removeStream(n._reverseStreams[t.id]) : t.removeTrack(e.track), n.dispatchEvent(new Event(\"negotiationneeded\")));\n          };\n        }\n\n        function c(e, t) {\n          var n = t.sdp;\n          return Object.keys(e._reverseStreams || []).forEach(function (t) {\n            var r = e._reverseStreams[t],\n                i = e._streams[r.id];\n            n = n.replace(new RegExp(i.id, \"g\"), r.id);\n          }), new RTCSessionDescription({\n            type: t.type,\n            sdp: n\n          });\n        }\n\n        function u(e, t) {\n          var n = t.sdp;\n          return Object.keys(e._reverseStreams || []).forEach(function (t) {\n            var r = e._reverseStreams[t],\n                i = e._streams[r.id];\n            n = n.replace(new RegExp(r.id, \"g\"), i.id);\n          }), new RTCSessionDescription({\n            type: t.type,\n            sdp: n\n          });\n        }\n      },\n      shimPeerConnection: function shimPeerConnection(e) {\n        var t = r.detectBrowser(e);\n\n        if (e.RTCPeerConnection) {\n          var n = e.RTCPeerConnection;\n          e.RTCPeerConnection = function (e, t) {\n            if (e && e.iceServers) {\n              for (var i = [], o = 0; o < e.iceServers.length; o++) {\n                var a = e.iceServers[o];\n                !a.hasOwnProperty(\"urls\") && a.hasOwnProperty(\"url\") ? (r.deprecated(\"RTCIceServer.url\", \"RTCIceServer.urls\"), (a = JSON.parse(JSON.stringify(a))).urls = a.url, i.push(a)) : i.push(e.iceServers[o]);\n              }\n\n              e.iceServers = i;\n            }\n\n            return new n(e, t);\n          }, e.RTCPeerConnection.prototype = n.prototype, Object.defineProperty(e.RTCPeerConnection, \"generateCertificate\", {\n            get: function get() {\n              return n.generateCertificate;\n            }\n          });\n        } else e.RTCPeerConnection = function (t, n) {\n          return i(\"PeerConnection\"), t && t.iceTransportPolicy && (t.iceTransports = t.iceTransportPolicy), new e.webkitRTCPeerConnection(t, n);\n        }, e.RTCPeerConnection.prototype = e.webkitRTCPeerConnection.prototype, e.webkitRTCPeerConnection.generateCertificate && Object.defineProperty(e.RTCPeerConnection, \"generateCertificate\", {\n          get: function get() {\n            return e.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n\n        var o = e.RTCPeerConnection.prototype.getStats;\n        e.RTCPeerConnection.prototype.getStats = function (e, t, n) {\n          var r = this,\n              i = arguments;\n          if (arguments.length > 0 && \"function\" == typeof e) return o.apply(this, arguments);\n          if (0 === o.length && (0 === arguments.length || \"function\" != typeof arguments[0])) return o.apply(this, []);\n\n          var a = function a(e) {\n            var t = {};\n            return e.result().forEach(function (e) {\n              var n = {\n                id: e.id,\n                timestamp: e.timestamp,\n                type: {\n                  localcandidate: \"local-candidate\",\n                  remotecandidate: \"remote-candidate\"\n                }[e.type] || e.type\n              };\n              e.names().forEach(function (t) {\n                n[t] = e.stat(t);\n              }), t[n.id] = n;\n            }), t;\n          },\n              s = function s(e) {\n            return new Map(Object.keys(e).map(function (t) {\n              return [t, e[t]];\n            }));\n          };\n\n          if (arguments.length >= 2) {\n            var c = function c(e) {\n              i[1](s(a(e)));\n            };\n\n            return o.apply(this, [c, arguments[0]]);\n          }\n\n          return new Promise(function (e, t) {\n            o.apply(r, [function (t) {\n              e(s(a(t)));\n            }, t]);\n          }).then(t, n);\n        }, t.version < 51 && [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (t) {\n          var n = e.RTCPeerConnection.prototype[t];\n\n          e.RTCPeerConnection.prototype[t] = function () {\n            var e = arguments,\n                t = this,\n                r = new Promise(function (r, i) {\n              n.apply(t, [e[0], r, i]);\n            });\n            return e.length < 2 ? r : r.then(function () {\n              e[1].apply(null, []);\n            }, function (t) {\n              e.length >= 3 && e[2].apply(null, [t]);\n            });\n          };\n        }), t.version < 52 && [\"createOffer\", \"createAnswer\"].forEach(function (t) {\n          var n = e.RTCPeerConnection.prototype[t];\n\n          e.RTCPeerConnection.prototype[t] = function () {\n            var e = this;\n\n            if (arguments.length < 1 || 1 === arguments.length && \"object\" == typeof arguments[0]) {\n              var t = 1 === arguments.length ? arguments[0] : void 0;\n              return new Promise(function (r, i) {\n                n.apply(e, [r, i, t]);\n              });\n            }\n\n            return n.apply(this, arguments);\n          };\n        }), [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (t) {\n          var n = e.RTCPeerConnection.prototype[t];\n\n          e.RTCPeerConnection.prototype[t] = function () {\n            return arguments[0] = new (\"addIceCandidate\" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), n.apply(this, arguments);\n          };\n        });\n        var a = e.RTCPeerConnection.prototype.addIceCandidate;\n\n        e.RTCPeerConnection.prototype.addIceCandidate = function () {\n          return arguments[0] ? a.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve());\n        };\n      }\n    };\n    e.exports = {\n      shimMediaStream: o.shimMediaStream,\n      shimOnTrack: o.shimOnTrack,\n      shimAddTrackRemoveTrack: o.shimAddTrackRemoveTrack,\n      shimGetSendersWithDtmf: o.shimGetSendersWithDtmf,\n      shimSourceObject: o.shimSourceObject,\n      shimPeerConnection: o.shimPeerConnection,\n      shimGetUserMedia: n(131)\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = r.log;\n\n    e.exports = function (e) {\n      var t = r.detectBrowser(e),\n          n = e && e.navigator,\n          o = function o(e) {\n        if (\"object\" != typeof e || e.mandatory || e.optional) return e;\n        var t = {};\n        return Object.keys(e).forEach(function (n) {\n          if (\"require\" !== n && \"advanced\" !== n && \"mediaSource\" !== n) {\n            var r = \"object\" == typeof e[n] ? e[n] : {\n              ideal: e[n]\n            };\n            void 0 !== r.exact && \"number\" == typeof r.exact && (r.min = r.max = r.exact);\n\n            var i = function i(e, t) {\n              return e ? e + t.charAt(0).toUpperCase() + t.slice(1) : \"deviceId\" === t ? \"sourceId\" : t;\n            };\n\n            if (void 0 !== r.ideal) {\n              t.optional = t.optional || [];\n              var o = {};\n              \"number\" == typeof r.ideal ? (o[i(\"min\", n)] = r.ideal, t.optional.push(o), (o = {})[i(\"max\", n)] = r.ideal, t.optional.push(o)) : (o[i(\"\", n)] = r.ideal, t.optional.push(o));\n            }\n\n            void 0 !== r.exact && \"number\" != typeof r.exact ? (t.mandatory = t.mandatory || {}, t.mandatory[i(\"\", n)] = r.exact) : [\"min\", \"max\"].forEach(function (e) {\n              void 0 !== r[e] && (t.mandatory = t.mandatory || {}, t.mandatory[i(e, n)] = r[e]);\n            });\n          }\n        }), e.advanced && (t.optional = (t.optional || []).concat(e.advanced)), t;\n      },\n          a = function a(e, r) {\n        if (t.version >= 61) return r(e);\n\n        if ((e = JSON.parse(JSON.stringify(e))) && \"object\" == typeof e.audio) {\n          var a = function a(e, t, n) {\n            t in e && !(n in e) && (e[n] = e[t], delete e[t]);\n          };\n\n          a((e = JSON.parse(JSON.stringify(e))).audio, \"autoGainControl\", \"googAutoGainControl\"), a(e.audio, \"noiseSuppression\", \"googNoiseSuppression\"), e.audio = o(e.audio);\n        }\n\n        if (e && \"object\" == typeof e.video) {\n          var s = e.video.facingMode;\n          s = s && (\"object\" == typeof s ? s : {\n            ideal: s\n          });\n          var c,\n              u = t.version < 66;\n          if (s && (\"user\" === s.exact || \"environment\" === s.exact || \"user\" === s.ideal || \"environment\" === s.ideal) && (!n.mediaDevices.getSupportedConstraints || !n.mediaDevices.getSupportedConstraints().facingMode || u)) if (delete e.video.facingMode, \"environment\" === s.exact || \"environment\" === s.ideal ? c = [\"back\", \"rear\"] : \"user\" !== s.exact && \"user\" !== s.ideal || (c = [\"front\"]), c) return n.mediaDevices.enumerateDevices().then(function (t) {\n            var n = (t = t.filter(function (e) {\n              return \"videoinput\" === e.kind;\n            })).find(function (e) {\n              return c.some(function (t) {\n                return -1 !== e.label.toLowerCase().indexOf(t);\n              });\n            });\n            return !n && t.length && -1 !== c.indexOf(\"back\") && (n = t[t.length - 1]), n && (e.video.deviceId = s.exact ? {\n              exact: n.deviceId\n            } : {\n              ideal: n.deviceId\n            }), e.video = o(e.video), i(\"chrome: \" + JSON.stringify(e)), r(e);\n          });\n          e.video = o(e.video);\n        }\n\n        return i(\"chrome: \" + JSON.stringify(e)), r(e);\n      },\n          s = function s(e) {\n        return {\n          name: {\n            PermissionDeniedError: \"NotAllowedError\",\n            InvalidStateError: \"NotReadableError\",\n            DevicesNotFoundError: \"NotFoundError\",\n            ConstraintNotSatisfiedError: \"OverconstrainedError\",\n            TrackStartError: \"NotReadableError\",\n            MediaDeviceFailedDueToShutdown: \"NotReadableError\",\n            MediaDeviceKillSwitchOn: \"NotReadableError\"\n          }[e.name] || e.name,\n          message: e.message,\n          constraint: e.constraintName,\n          toString: function toString() {\n            return this.name + (this.message && \": \") + this.message;\n          }\n        };\n      };\n\n      n.getUserMedia = function (e, t, r) {\n        a(e, function (e) {\n          n.webkitGetUserMedia(e, t, function (e) {\n            r && r(s(e));\n          });\n        });\n      };\n\n      var c = function c(e) {\n        return new Promise(function (t, r) {\n          n.getUserMedia(e, t, r);\n        });\n      };\n\n      if (n.mediaDevices || (n.mediaDevices = {\n        getUserMedia: c,\n        enumerateDevices: function enumerateDevices() {\n          return new Promise(function (t) {\n            var n = {\n              audio: \"audioinput\",\n              video: \"videoinput\"\n            };\n            return e.MediaStreamTrack.getSources(function (e) {\n              t(e.map(function (e) {\n                return {\n                  label: e.label,\n                  kind: n[e.kind],\n                  deviceId: e.id,\n                  groupId: \"\"\n                };\n              }));\n            });\n          });\n        },\n        getSupportedConstraints: function getSupportedConstraints() {\n          return {\n            deviceId: !0,\n            echoCancellation: !0,\n            facingMode: !0,\n            frameRate: !0,\n            height: !0,\n            width: !0\n          };\n        }\n      }), n.mediaDevices.getUserMedia) {\n        var u = n.mediaDevices.getUserMedia.bind(n.mediaDevices);\n\n        n.mediaDevices.getUserMedia = function (e) {\n          return a(e, function (e) {\n            return u(e).then(function (t) {\n              if (e.audio && !t.getAudioTracks().length || e.video && !t.getVideoTracks().length) throw t.getTracks().forEach(function (e) {\n                e.stop();\n              }), new DOMException(\"\", \"NotFoundError\");\n              return t;\n            }, function (e) {\n              return Promise.reject(s(e));\n            });\n          });\n        };\n      } else n.mediaDevices.getUserMedia = function (e) {\n        return c(e);\n      };\n\n      void 0 === n.mediaDevices.addEventListener && (n.mediaDevices.addEventListener = function () {\n        i(\"Dummy mediaDevices.addEventListener called.\");\n      }), void 0 === n.mediaDevices.removeEventListener && (n.mediaDevices.removeEventListener = function () {\n        i(\"Dummy mediaDevices.removeEventListener called.\");\n      });\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = n(133);\n    e.exports = {\n      shimGetUserMedia: n(134),\n      shimPeerConnection: function shimPeerConnection(e) {\n        var t = r.detectBrowser(e);\n\n        if (e.RTCIceGatherer && (e.RTCIceCandidate || (e.RTCIceCandidate = function (e) {\n          return e;\n        }), e.RTCSessionDescription || (e.RTCSessionDescription = function (e) {\n          return e;\n        }), t.version < 15025)) {\n          var n = Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype, \"enabled\");\n          Object.defineProperty(e.MediaStreamTrack.prototype, \"enabled\", {\n            set: function set(e) {\n              n.set.call(this, e);\n              var t = new Event(\"enabled\");\n              t.enabled = e, this.dispatchEvent(t);\n            }\n          });\n        }\n\n        !e.RTCRtpSender || \"dtmf\" in e.RTCRtpSender.prototype || Object.defineProperty(e.RTCRtpSender.prototype, \"dtmf\", {\n          get: function get() {\n            return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = new e.RTCDtmfSender(this) : \"video\" === this.track.kind && (this._dtmf = null)), this._dtmf;\n          }\n        }), e.RTCPeerConnection = i(e, t.version);\n      },\n      shimReplaceTrack: function shimReplaceTrack(e) {\n        !e.RTCRtpSender || \"replaceTrack\" in e.RTCRtpSender.prototype || (e.RTCRtpSender.prototype.replaceTrack = e.RTCRtpSender.prototype.setTrack);\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(63);\n\n    function i(e, t, n, i, o) {\n      var a = r.writeRtpDescription(e.kind, t);\n\n      if (a += r.writeIceParameters(e.iceGatherer.getLocalParameters()), a += r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), \"offer\" === n ? \"actpass\" : o || \"active\"), a += \"a=mid:\" + e.mid + \"\\r\\n\", e.rtpSender && e.rtpReceiver ? a += \"a=sendrecv\\r\\n\" : e.rtpSender ? a += \"a=sendonly\\r\\n\" : e.rtpReceiver ? a += \"a=recvonly\\r\\n\" : a += \"a=inactive\\r\\n\", e.rtpSender) {\n        var s = e.rtpSender._initialTrackId || e.rtpSender.track.id;\n        e.rtpSender._initialTrackId = s;\n        var c = \"msid:\" + (i ? i.id : \"-\") + \" \" + s + \"\\r\\n\";\n        a += \"a=\" + c, a += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" \" + c, e.sendEncodingParameters[0].rtx && (a += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" \" + c, a += \"a=ssrc-group:FID \" + e.sendEncodingParameters[0].ssrc + \" \" + e.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n      }\n\n      return a += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" cname:\" + r.localCName + \"\\r\\n\", e.rtpSender && e.sendEncodingParameters[0].rtx && (a += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + r.localCName + \"\\r\\n\"), a;\n    }\n\n    function o(e, t) {\n      var n = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: []\n      },\n          r = function r(e, t) {\n        e = parseInt(e, 10);\n\n        for (var n = 0; n < t.length; n++) {\n          if (t[n].payloadType === e || t[n].preferredPayloadType === e) return t[n];\n        }\n      },\n          i = function i(e, t, n, _i8) {\n        var o = r(e.parameters.apt, n),\n            a = r(t.parameters.apt, _i8);\n        return o && a && o.name.toLowerCase() === a.name.toLowerCase();\n      };\n\n      return e.codecs.forEach(function (r) {\n        for (var o = 0; o < t.codecs.length; o++) {\n          var a = t.codecs[o];\n\n          if (r.name.toLowerCase() === a.name.toLowerCase() && r.clockRate === a.clockRate) {\n            if (\"rtx\" === r.name.toLowerCase() && r.parameters && a.parameters.apt && !i(r, a, e.codecs, t.codecs)) continue;\n            (a = JSON.parse(JSON.stringify(a))).numChannels = Math.min(r.numChannels, a.numChannels), n.codecs.push(a), a.rtcpFeedback = a.rtcpFeedback.filter(function (e) {\n              for (var t = 0; t < r.rtcpFeedback.length; t++) {\n                if (r.rtcpFeedback[t].type === e.type && r.rtcpFeedback[t].parameter === e.parameter) return !0;\n              }\n\n              return !1;\n            });\n            break;\n          }\n        }\n      }), e.headerExtensions.forEach(function (e) {\n        for (var r = 0; r < t.headerExtensions.length; r++) {\n          var i = t.headerExtensions[r];\n\n          if (e.uri === i.uri) {\n            n.headerExtensions.push(i);\n            break;\n          }\n        }\n      }), n;\n    }\n\n    function a(e, t, n) {\n      return -1 !== {\n        offer: {\n          setLocalDescription: [\"stable\", \"have-local-offer\"],\n          setRemoteDescription: [\"stable\", \"have-remote-offer\"]\n        },\n        answer: {\n          setLocalDescription: [\"have-remote-offer\", \"have-local-pranswer\"],\n          setRemoteDescription: [\"have-local-offer\", \"have-remote-pranswer\"]\n        }\n      }[t][e].indexOf(n);\n    }\n\n    function s(e, t) {\n      var n = e.getRemoteCandidates().find(function (e) {\n        return t.foundation === e.foundation && t.ip === e.ip && t.port === e.port && t.priority === e.priority && t.protocol === e.protocol && t.type === e.type;\n      });\n      return n || e.addRemoteCandidate(t), !n;\n    }\n\n    function c(e, t) {\n      var n = new Error(t);\n      return n.name = e, n.code = {\n        NotSupportedError: 9,\n        InvalidStateError: 11,\n        InvalidAccessError: 15,\n        TypeError: void 0,\n        OperationError: void 0\n      }[e], n;\n    }\n\n    e.exports = function (e, t) {\n      function n(t, n) {\n        n.addTrack(t), n.dispatchEvent(new e.MediaStreamTrackEvent(\"addtrack\", {\n          track: t\n        }));\n      }\n\n      function u(t, n, r, i) {\n        var o = new Event(\"track\");\n        o.track = n, o.receiver = r, o.transceiver = {\n          receiver: r\n        }, o.streams = i, e.setTimeout(function () {\n          t._dispatchEvent(\"track\", o);\n        });\n      }\n\n      var d = function d(n) {\n        var i = this,\n            o = document.createDocumentFragment();\n        if ([\"addEventListener\", \"removeEventListener\", \"dispatchEvent\"].forEach(function (e) {\n          i[e] = o[e].bind(o);\n        }), this.canTrickleIceCandidates = null, this.needNegotiation = !1, this.localStreams = [], this.remoteStreams = [], this._localDescription = null, this._remoteDescription = null, this.signalingState = \"stable\", this.iceConnectionState = \"new\", this.connectionState = \"new\", this.iceGatheringState = \"new\", n = JSON.parse(JSON.stringify(n || {})), this.usingBundle = \"max-bundle\" === n.bundlePolicy, \"negotiate\" === n.rtcpMuxPolicy) throw c(\"NotSupportedError\", \"rtcpMuxPolicy 'negotiate' is not supported\");\n\n        switch (n.rtcpMuxPolicy || (n.rtcpMuxPolicy = \"require\"), n.iceTransportPolicy) {\n          case \"all\":\n          case \"relay\":\n            break;\n\n          default:\n            n.iceTransportPolicy = \"all\";\n        }\n\n        switch (n.bundlePolicy) {\n          case \"balanced\":\n          case \"max-compat\":\n          case \"max-bundle\":\n            break;\n\n          default:\n            n.bundlePolicy = \"balanced\";\n        }\n\n        if (n.iceServers = function (e, t) {\n          var n = !1;\n          return (e = JSON.parse(JSON.stringify(e))).filter(function (e) {\n            if (e && (e.urls || e.url)) {\n              var r = e.urls || e.url;\n              e.url && !e.urls && console.warn(\"\");\n              var i = \"string\" == typeof r;\n              return i && (r = [r]), r = r.filter(function (e) {\n                return 0 === e.indexOf(\"turn:\") && -1 !== e.indexOf(\"transport=udp\") && -1 === e.indexOf(\"turn:[\") && !n ? (n = !0, !0) : 0 === e.indexOf(\"stun:\") && t >= 14393 && -1 === e.indexOf(\"?transport=udp\");\n              }), delete e.url, e.urls = i ? r[0] : r, !!r.length;\n            }\n          });\n        }(n.iceServers || [], t), this._iceGatherers = [], n.iceCandidatePoolSize) for (var a = n.iceCandidatePoolSize; a > 0; a--) {\n          this._iceGatherers.push(new e.RTCIceGatherer({\n            iceServers: n.iceServers,\n            gatherPolicy: n.iceTransportPolicy\n          }));\n        } else n.iceCandidatePoolSize = 0;\n        this._config = n, this.transceivers = [], this._sdpSessionId = r.generateSessionId(), this._sdpSessionVersion = 0, this._dtlsRole = void 0, this._isClosed = !1;\n      };\n\n      Object.defineProperty(d.prototype, \"localDescription\", {\n        configurable: !0,\n        get: function get() {\n          return this._localDescription;\n        }\n      }), Object.defineProperty(d.prototype, \"remoteDescription\", {\n        configurable: !0,\n        get: function get() {\n          return this._remoteDescription;\n        }\n      }), d.prototype.onicecandidate = null, d.prototype.onaddstream = null, d.prototype.ontrack = null, d.prototype.onremovestream = null, d.prototype.onsignalingstatechange = null, d.prototype.oniceconnectionstatechange = null, d.prototype.onconnectionstatechange = null, d.prototype.onicegatheringstatechange = null, d.prototype.onnegotiationneeded = null, d.prototype.ondatachannel = null, d.prototype._dispatchEvent = function (e, t) {\n        this._isClosed || (this.dispatchEvent(t), \"function\" == typeof this[\"on\" + e] && this[\"on\" + e](t));\n      }, d.prototype._emitGatheringStateChange = function () {\n        var e = new Event(\"icegatheringstatechange\");\n\n        this._dispatchEvent(\"icegatheringstatechange\", e);\n      }, d.prototype.getConfiguration = function () {\n        return this._config;\n      }, d.prototype.getLocalStreams = function () {\n        return this.localStreams;\n      }, d.prototype.getRemoteStreams = function () {\n        return this.remoteStreams;\n      }, d.prototype._createTransceiver = function (e, t) {\n        var n = this.transceivers.length > 0,\n            r = {\n          track: null,\n          iceGatherer: null,\n          iceTransport: null,\n          dtlsTransport: null,\n          localCapabilities: null,\n          remoteCapabilities: null,\n          rtpSender: null,\n          rtpReceiver: null,\n          kind: e,\n          mid: null,\n          sendEncodingParameters: null,\n          recvEncodingParameters: null,\n          stream: null,\n          associatedRemoteMediaStreams: [],\n          wantReceive: !0\n        };\n        if (this.usingBundle && n) r.iceTransport = this.transceivers[0].iceTransport, r.dtlsTransport = this.transceivers[0].dtlsTransport;else {\n          var i = this._createIceAndDtlsTransports();\n\n          r.iceTransport = i.iceTransport, r.dtlsTransport = i.dtlsTransport;\n        }\n        return t || this.transceivers.push(r), r;\n      }, d.prototype.addTrack = function (t, n) {\n        if (this._isClosed) throw c(\"InvalidStateError\", \"Attempted to call addTrack on a closed peerconnection.\");\n        var r;\n        if (this.transceivers.find(function (e) {\n          return e.track === t;\n        })) throw c(\"InvalidAccessError\", \"Track already exists.\");\n\n        for (var i = 0; i < this.transceivers.length; i++) {\n          this.transceivers[i].track || this.transceivers[i].kind !== t.kind || (r = this.transceivers[i]);\n        }\n\n        return r || (r = this._createTransceiver(t.kind)), this._maybeFireNegotiationNeeded(), -1 === this.localStreams.indexOf(n) && this.localStreams.push(n), r.track = t, r.stream = n, r.rtpSender = new e.RTCRtpSender(t, r.dtlsTransport), r.rtpSender;\n      }, d.prototype.addStream = function (e) {\n        var n = this;\n        if (t >= 15025) e.getTracks().forEach(function (t) {\n          n.addTrack(t, e);\n        });else {\n          var r = e.clone();\n          e.getTracks().forEach(function (e, t) {\n            var n = r.getTracks()[t];\n            e.addEventListener(\"enabled\", function (e) {\n              n.enabled = e.enabled;\n            });\n          }), r.getTracks().forEach(function (e) {\n            n.addTrack(e, r);\n          });\n        }\n      }, d.prototype.removeTrack = function (t) {\n        if (this._isClosed) throw c(\"InvalidStateError\", \"Attempted to call removeTrack on a closed peerconnection.\");\n        if (!(t instanceof e.RTCRtpSender)) throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");\n        var n = this.transceivers.find(function (e) {\n          return e.rtpSender === t;\n        });\n        if (!n) throw c(\"InvalidAccessError\", \"Sender was not created by this connection.\");\n        var r = n.stream;\n        n.rtpSender.stop(), n.rtpSender = null, n.track = null, n.stream = null, -1 === this.transceivers.map(function (e) {\n          return e.stream;\n        }).indexOf(r) && this.localStreams.indexOf(r) > -1 && this.localStreams.splice(this.localStreams.indexOf(r), 1), this._maybeFireNegotiationNeeded();\n      }, d.prototype.removeStream = function (e) {\n        var t = this;\n        e.getTracks().forEach(function (e) {\n          var n = t.getSenders().find(function (t) {\n            return t.track === e;\n          });\n          n && t.removeTrack(n);\n        });\n      }, d.prototype.getSenders = function () {\n        return this.transceivers.filter(function (e) {\n          return !!e.rtpSender;\n        }).map(function (e) {\n          return e.rtpSender;\n        });\n      }, d.prototype.getReceivers = function () {\n        return this.transceivers.filter(function (e) {\n          return !!e.rtpReceiver;\n        }).map(function (e) {\n          return e.rtpReceiver;\n        });\n      }, d.prototype._createIceGatherer = function (t, n) {\n        var r = this;\n        if (n && t > 0) return this.transceivers[0].iceGatherer;\n        if (this._iceGatherers.length) return this._iceGatherers.shift();\n        var i = new e.RTCIceGatherer({\n          iceServers: this._config.iceServers,\n          gatherPolicy: this._config.iceTransportPolicy\n        });\n        return Object.defineProperty(i, \"state\", {\n          value: \"new\",\n          writable: !0\n        }), this.transceivers[t].bufferedCandidateEvents = [], this.transceivers[t].bufferCandidates = function (e) {\n          var n = !e.candidate || 0 === Object.keys(e.candidate).length;\n          i.state = n ? \"completed\" : \"gathering\", null !== r.transceivers[t].bufferedCandidateEvents && r.transceivers[t].bufferedCandidateEvents.push(e);\n        }, i.addEventListener(\"localcandidate\", this.transceivers[t].bufferCandidates), i;\n      }, d.prototype._gather = function (t, n) {\n        var i = this,\n            o = this.transceivers[n].iceGatherer;\n\n        if (!o.onlocalcandidate) {\n          var a = this.transceivers[n].bufferedCandidateEvents;\n          this.transceivers[n].bufferedCandidateEvents = null, o.removeEventListener(\"localcandidate\", this.transceivers[n].bufferCandidates), o.onlocalcandidate = function (e) {\n            if (!(i.usingBundle && n > 0)) {\n              var a = new Event(\"icecandidate\");\n              a.candidate = {\n                sdpMid: t,\n                sdpMLineIndex: n\n              };\n              var s = e.candidate,\n                  c = !s || 0 === Object.keys(s).length;\n              if (c) \"new\" !== o.state && \"gathering\" !== o.state || (o.state = \"completed\");else {\n                \"new\" === o.state && (o.state = \"gathering\"), s.component = 1, s.ufrag = o.getLocalParameters().usernameFragment;\n                var u = r.writeCandidate(s);\n                a.candidate = Object.assign(a.candidate, r.parseCandidate(u)), a.candidate.candidate = u, a.candidate.toJSON = function () {\n                  return {\n                    candidate: a.candidate.candidate,\n                    sdpMid: a.candidate.sdpMid,\n                    sdpMLineIndex: a.candidate.sdpMLineIndex,\n                    usernameFragment: a.candidate.usernameFragment\n                  };\n                };\n              }\n              var d = r.getMediaSections(i._localDescription.sdp);\n              d[a.candidate.sdpMLineIndex] += c ? \"a=end-of-candidates\\r\\n\" : \"a=\" + a.candidate.candidate + \"\\r\\n\", i._localDescription.sdp = r.getDescription(i._localDescription.sdp) + d.join(\"\");\n              var l = i.transceivers.every(function (e) {\n                return e.iceGatherer && \"completed\" === e.iceGatherer.state;\n              });\n              \"gathering\" !== i.iceGatheringState && (i.iceGatheringState = \"gathering\", i._emitGatheringStateChange()), c || i._dispatchEvent(\"icecandidate\", a), l && (i._dispatchEvent(\"icecandidate\", new Event(\"icecandidate\")), i.iceGatheringState = \"complete\", i._emitGatheringStateChange());\n            }\n          }, e.setTimeout(function () {\n            a.forEach(function (e) {\n              o.onlocalcandidate(e);\n            });\n          }, 0);\n        }\n      }, d.prototype._createIceAndDtlsTransports = function () {\n        var t = this,\n            n = new e.RTCIceTransport(null);\n\n        n.onicestatechange = function () {\n          t._updateIceConnectionState(), t._updateConnectionState();\n        };\n\n        var r = new e.RTCDtlsTransport(n);\n        return r.ondtlsstatechange = function () {\n          t._updateConnectionState();\n        }, r.onerror = function () {\n          Object.defineProperty(r, \"state\", {\n            value: \"failed\",\n            writable: !0\n          }), t._updateConnectionState();\n        }, {\n          iceTransport: n,\n          dtlsTransport: r\n        };\n      }, d.prototype._disposeIceAndDtlsTransports = function (e) {\n        var t = this.transceivers[e].iceGatherer;\n        t && (delete t.onlocalcandidate, delete this.transceivers[e].iceGatherer);\n        var n = this.transceivers[e].iceTransport;\n        n && (delete n.onicestatechange, delete this.transceivers[e].iceTransport);\n        var r = this.transceivers[e].dtlsTransport;\n        r && (delete r.ondtlsstatechange, delete r.onerror, delete this.transceivers[e].dtlsTransport);\n      }, d.prototype._transceive = function (e, n, i) {\n        var a = o(e.localCapabilities, e.remoteCapabilities);\n        n && e.rtpSender && (a.encodings = e.sendEncodingParameters, a.rtcp = {\n          cname: r.localCName,\n          compound: e.rtcpParameters.compound\n        }, e.recvEncodingParameters.length && (a.rtcp.ssrc = e.recvEncodingParameters[0].ssrc), e.rtpSender.send(a)), i && e.rtpReceiver && a.codecs.length > 0 && (\"video\" === e.kind && e.recvEncodingParameters && t < 15019 && e.recvEncodingParameters.forEach(function (e) {\n          delete e.rtx;\n        }), e.recvEncodingParameters.length ? a.encodings = e.recvEncodingParameters : a.encodings = [{}], a.rtcp = {\n          compound: e.rtcpParameters.compound\n        }, e.rtcpParameters.cname && (a.rtcp.cname = e.rtcpParameters.cname), e.sendEncodingParameters.length && (a.rtcp.ssrc = e.sendEncodingParameters[0].ssrc), e.rtpReceiver.receive(a));\n      }, d.prototype.setLocalDescription = function (e) {\n        var t,\n            n,\n            i = this;\n        if (-1 === [\"offer\", \"answer\"].indexOf(e.type)) return Promise.reject(c(\"TypeError\", 'Unsupported type \"' + e.type + '\"'));\n        if (!a(\"setLocalDescription\", e.type, i.signalingState) || i._isClosed) return Promise.reject(c(\"InvalidStateError\", \"Can not set local \" + e.type + \" in state \" + i.signalingState));\n        if (\"offer\" === e.type) t = r.splitSections(e.sdp), n = t.shift(), t.forEach(function (e, t) {\n          var n = r.parseRtpParameters(e);\n          i.transceivers[t].localCapabilities = n;\n        }), i.transceivers.forEach(function (e, t) {\n          i._gather(e.mid, t);\n        });else if (\"answer\" === e.type) {\n          t = r.splitSections(i._remoteDescription.sdp), n = t.shift();\n          var s = r.matchPrefix(n, \"a=ice-lite\").length > 0;\n          t.forEach(function (e, t) {\n            var a = i.transceivers[t],\n                c = a.iceGatherer,\n                u = a.iceTransport,\n                d = a.dtlsTransport,\n                l = a.localCapabilities,\n                p = a.remoteCapabilities;\n\n            if (!(r.isRejected(e) && 0 === r.matchPrefix(e, \"a=bundle-only\").length) && !a.rejected) {\n              var f = r.getIceParameters(e, n),\n                  h = r.getDtlsParameters(e, n);\n              s && (h.role = \"server\"), i.usingBundle && 0 !== t || (i._gather(a.mid, t), \"new\" === u.state && u.start(c, f, s ? \"controlling\" : \"controlled\"), \"new\" === d.state && d.start(h));\n              var m = o(l, p);\n\n              i._transceive(a, m.codecs.length > 0, !1);\n            }\n          });\n        }\n        return i._localDescription = {\n          type: e.type,\n          sdp: e.sdp\n        }, \"offer\" === e.type ? i._updateSignalingState(\"have-local-offer\") : i._updateSignalingState(\"stable\"), Promise.resolve();\n      }, d.prototype.setRemoteDescription = function (i) {\n        var d = this;\n        if (-1 === [\"offer\", \"answer\"].indexOf(i.type)) return Promise.reject(c(\"TypeError\", 'Unsupported type \"' + i.type + '\"'));\n        if (!a(\"setRemoteDescription\", i.type, d.signalingState) || d._isClosed) return Promise.reject(c(\"InvalidStateError\", \"Can not set remote \" + i.type + \" in state \" + d.signalingState));\n        var l = {};\n        d.remoteStreams.forEach(function (e) {\n          l[e.id] = e;\n        });\n        var p = [],\n            f = r.splitSections(i.sdp),\n            h = f.shift(),\n            m = r.matchPrefix(h, \"a=ice-lite\").length > 0,\n            v = r.matchPrefix(h, \"a=group:BUNDLE \").length > 0;\n        d.usingBundle = v;\n        var g = r.matchPrefix(h, \"a=ice-options:\")[0];\n        return d.canTrickleIceCandidates = !!g && g.substr(14).split(\" \").indexOf(\"trickle\") >= 0, f.forEach(function (a, c) {\n          var u = r.splitLines(a),\n              f = r.getKind(a),\n              g = r.isRejected(a) && 0 === r.matchPrefix(a, \"a=bundle-only\").length,\n              y = u[0].substr(2).split(\" \")[2],\n              _ = r.getDirection(a, h),\n              S = r.parseMsid(a),\n              b = r.getMid(a) || r.generateIdentifier();\n\n          if (g || \"application\" === f && (\"DTLS/SCTP\" === y || \"UDP/DTLS/SCTP\" === y)) d.transceivers[c] = {\n            mid: b,\n            kind: f,\n            protocol: y,\n            rejected: !0\n          };else {\n            var E, T, C, A, R, w, O, k, P;\n            !g && d.transceivers[c] && d.transceivers[c].rejected && (d.transceivers[c] = d._createTransceiver(f, !0));\n            var I,\n                D,\n                N = r.parseRtpParameters(a);\n            g || (I = r.getIceParameters(a, h), (D = r.getDtlsParameters(a, h)).role = \"client\"), O = r.parseRtpEncodingParameters(a);\n            var M = r.parseRtcpParameters(a),\n                L = r.matchPrefix(a, \"a=end-of-candidates\", h).length > 0,\n                x = r.matchPrefix(a, \"a=candidate:\").map(function (e) {\n              return r.parseCandidate(e);\n            }).filter(function (e) {\n              return 1 === e.component;\n            });\n\n            if ((\"offer\" === i.type || \"answer\" === i.type) && !g && v && c > 0 && d.transceivers[c] && (d._disposeIceAndDtlsTransports(c), d.transceivers[c].iceGatherer = d.transceivers[0].iceGatherer, d.transceivers[c].iceTransport = d.transceivers[0].iceTransport, d.transceivers[c].dtlsTransport = d.transceivers[0].dtlsTransport, d.transceivers[c].rtpSender && d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport), d.transceivers[c].rtpReceiver && d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)), \"offer\" !== i.type || g) {\n              if (\"answer\" === i.type && !g) {\n                T = (E = d.transceivers[c]).iceGatherer, C = E.iceTransport, A = E.dtlsTransport, R = E.rtpReceiver, w = E.sendEncodingParameters, k = E.localCapabilities, d.transceivers[c].recvEncodingParameters = O, d.transceivers[c].remoteCapabilities = N, d.transceivers[c].rtcpParameters = M, x.length && \"new\" === C.state && (!m && !L || v && 0 !== c ? x.forEach(function (e) {\n                  s(E.iceTransport, e);\n                }) : C.setRemoteCandidates(x)), v && 0 !== c || (\"new\" === C.state && C.start(T, I, \"controlling\"), \"new\" === A.state && A.start(D)), !o(E.localCapabilities, E.remoteCapabilities).codecs.filter(function (e) {\n                  return \"rtx\" === e.name.toLowerCase();\n                }).length && E.sendEncodingParameters[0].rtx && delete E.sendEncodingParameters[0].rtx, d._transceive(E, \"sendrecv\" === _ || \"recvonly\" === _, \"sendrecv\" === _ || \"sendonly\" === _), !R || \"sendrecv\" !== _ && \"sendonly\" !== _ ? delete E.rtpReceiver : (P = R.track, S ? (l[S.stream] || (l[S.stream] = new e.MediaStream()), n(P, l[S.stream]), p.push([P, R, l[S.stream]])) : (l.default || (l.default = new e.MediaStream()), n(P, l.default), p.push([P, R, l.default])));\n              }\n            } else {\n              (E = d.transceivers[c] || d._createTransceiver(f)).mid = b, E.iceGatherer || (E.iceGatherer = d._createIceGatherer(c, v)), x.length && \"new\" === E.iceTransport.state && (!L || v && 0 !== c ? x.forEach(function (e) {\n                s(E.iceTransport, e);\n              }) : E.iceTransport.setRemoteCandidates(x)), k = e.RTCRtpReceiver.getCapabilities(f), t < 15019 && (k.codecs = k.codecs.filter(function (e) {\n                return \"rtx\" !== e.name;\n              })), w = E.sendEncodingParameters || [{\n                ssrc: 1001 * (2 * c + 2)\n              }];\n              var j,\n                  F = !1;\n\n              if (\"sendrecv\" === _ || \"sendonly\" === _) {\n                if (F = !E.rtpReceiver, R = E.rtpReceiver || new e.RTCRtpReceiver(E.dtlsTransport, f), F) P = R.track, S && \"-\" === S.stream || (S ? (l[S.stream] || (l[S.stream] = new e.MediaStream(), Object.defineProperty(l[S.stream], \"id\", {\n                  get: function get() {\n                    return S.stream;\n                  }\n                })), Object.defineProperty(P, \"id\", {\n                  get: function get() {\n                    return S.track;\n                  }\n                }), j = l[S.stream]) : (l.default || (l.default = new e.MediaStream()), j = l.default)), j && (n(P, j), E.associatedRemoteMediaStreams.push(j)), p.push([P, R, j]);\n              } else E.rtpReceiver && E.rtpReceiver.track && (E.associatedRemoteMediaStreams.forEach(function (t) {\n                var n = t.getTracks().find(function (e) {\n                  return e.id === E.rtpReceiver.track.id;\n                });\n                n && function (t, n) {\n                  n.removeTrack(t), n.dispatchEvent(new e.MediaStreamTrackEvent(\"removetrack\", {\n                    track: t\n                  }));\n                }(n, t);\n              }), E.associatedRemoteMediaStreams = []);\n\n              E.localCapabilities = k, E.remoteCapabilities = N, E.rtpReceiver = R, E.rtcpParameters = M, E.sendEncodingParameters = w, E.recvEncodingParameters = O, d._transceive(d.transceivers[c], !1, F);\n            }\n          }\n        }), void 0 === d._dtlsRole && (d._dtlsRole = \"offer\" === i.type ? \"active\" : \"passive\"), d._remoteDescription = {\n          type: i.type,\n          sdp: i.sdp\n        }, \"offer\" === i.type ? d._updateSignalingState(\"have-remote-offer\") : d._updateSignalingState(\"stable\"), Object.keys(l).forEach(function (t) {\n          var n = l[t];\n\n          if (n.getTracks().length) {\n            if (-1 === d.remoteStreams.indexOf(n)) {\n              d.remoteStreams.push(n);\n              var r = new Event(\"addstream\");\n              r.stream = n, e.setTimeout(function () {\n                d._dispatchEvent(\"addstream\", r);\n              });\n            }\n\n            p.forEach(function (e) {\n              var t = e[0],\n                  r = e[1];\n              n.id === e[2].id && u(d, t, r, [n]);\n            });\n          }\n        }), p.forEach(function (e) {\n          e[2] || u(d, e[0], e[1], []);\n        }), e.setTimeout(function () {\n          d && d.transceivers && d.transceivers.forEach(function (e) {\n            e.iceTransport && \"new\" === e.iceTransport.state && e.iceTransport.getRemoteCandidates().length > 0 && (console.warn(\"\"), e.iceTransport.addRemoteCandidate({}));\n          });\n        }, 4e3), Promise.resolve();\n      }, d.prototype.close = function () {\n        this.transceivers.forEach(function (e) {\n          e.iceTransport && e.iceTransport.stop(), e.dtlsTransport && e.dtlsTransport.stop(), e.rtpSender && e.rtpSender.stop(), e.rtpReceiver && e.rtpReceiver.stop();\n        }), this._isClosed = !0, this._updateSignalingState(\"closed\");\n      }, d.prototype._updateSignalingState = function (e) {\n        this.signalingState = e;\n        var t = new Event(\"signalingstatechange\");\n\n        this._dispatchEvent(\"signalingstatechange\", t);\n      }, d.prototype._maybeFireNegotiationNeeded = function () {\n        var t = this;\n        \"stable\" === this.signalingState && !0 !== this.needNegotiation && (this.needNegotiation = !0, e.setTimeout(function () {\n          if (t.needNegotiation) {\n            t.needNegotiation = !1;\n            var e = new Event(\"negotiationneeded\");\n\n            t._dispatchEvent(\"negotiationneeded\", e);\n          }\n        }, 0));\n      }, d.prototype._updateIceConnectionState = function () {\n        var e,\n            t = {\n          new: 0,\n          closed: 0,\n          checking: 0,\n          connected: 0,\n          completed: 0,\n          disconnected: 0,\n          failed: 0\n        };\n\n        if (this.transceivers.forEach(function (e) {\n          e.iceTransport && !e.rejected && t[e.iceTransport.state]++;\n        }), e = \"new\", t.failed > 0 ? e = \"failed\" : t.checking > 0 ? e = \"checking\" : t.disconnected > 0 ? e = \"disconnected\" : t.new > 0 ? e = \"new\" : t.connected > 0 ? e = \"connected\" : t.completed > 0 && (e = \"completed\"), e !== this.iceConnectionState) {\n          this.iceConnectionState = e;\n          var n = new Event(\"iceconnectionstatechange\");\n\n          this._dispatchEvent(\"iceconnectionstatechange\", n);\n        }\n      }, d.prototype._updateConnectionState = function () {\n        var e,\n            t = {\n          new: 0,\n          closed: 0,\n          connecting: 0,\n          connected: 0,\n          completed: 0,\n          disconnected: 0,\n          failed: 0\n        };\n\n        if (this.transceivers.forEach(function (e) {\n          e.iceTransport && e.dtlsTransport && !e.rejected && (t[e.iceTransport.state]++, t[e.dtlsTransport.state]++);\n        }), t.connected += t.completed, e = \"new\", t.failed > 0 ? e = \"failed\" : t.connecting > 0 ? e = \"connecting\" : t.disconnected > 0 ? e = \"disconnected\" : t.new > 0 ? e = \"new\" : t.connected > 0 && (e = \"connected\"), e !== this.connectionState) {\n          this.connectionState = e;\n          var n = new Event(\"connectionstatechange\");\n\n          this._dispatchEvent(\"connectionstatechange\", n);\n        }\n      }, d.prototype.createOffer = function () {\n        var n = this;\n        if (n._isClosed) return Promise.reject(c(\"InvalidStateError\", \"Can not call createOffer after close\"));\n        var o = n.transceivers.filter(function (e) {\n          return \"audio\" === e.kind;\n        }).length,\n            a = n.transceivers.filter(function (e) {\n          return \"video\" === e.kind;\n        }).length,\n            s = arguments[0];\n\n        if (s) {\n          if (s.mandatory || s.optional) throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");\n          void 0 !== s.offerToReceiveAudio && (o = !0 === s.offerToReceiveAudio ? 1 : !1 === s.offerToReceiveAudio ? 0 : s.offerToReceiveAudio), void 0 !== s.offerToReceiveVideo && (a = !0 === s.offerToReceiveVideo ? 1 : !1 === s.offerToReceiveVideo ? 0 : s.offerToReceiveVideo);\n        }\n\n        for (n.transceivers.forEach(function (e) {\n          \"audio\" === e.kind ? --o < 0 && (e.wantReceive = !1) : \"video\" === e.kind && --a < 0 && (e.wantReceive = !1);\n        }); o > 0 || a > 0;) {\n          o > 0 && (n._createTransceiver(\"audio\"), o--), a > 0 && (n._createTransceiver(\"video\"), a--);\n        }\n\n        var u = r.writeSessionBoilerplate(n._sdpSessionId, n._sdpSessionVersion++);\n        n.transceivers.forEach(function (i, o) {\n          var a = i.track,\n              s = i.kind,\n              c = i.mid || r.generateIdentifier();\n          i.mid = c, i.iceGatherer || (i.iceGatherer = n._createIceGatherer(o, n.usingBundle));\n          var u = e.RTCRtpSender.getCapabilities(s);\n          t < 15019 && (u.codecs = u.codecs.filter(function (e) {\n            return \"rtx\" !== e.name;\n          })), u.codecs.forEach(function (e) {\n            \"H264\" === e.name && void 0 === e.parameters[\"level-asymmetry-allowed\"] && (e.parameters[\"level-asymmetry-allowed\"] = \"1\"), i.remoteCapabilities && i.remoteCapabilities.codecs && i.remoteCapabilities.codecs.forEach(function (t) {\n              e.name.toLowerCase() === t.name.toLowerCase() && e.clockRate === t.clockRate && (e.preferredPayloadType = t.payloadType);\n            });\n          }), u.headerExtensions.forEach(function (e) {\n            (i.remoteCapabilities && i.remoteCapabilities.headerExtensions || []).forEach(function (t) {\n              e.uri === t.uri && (e.id = t.id);\n            });\n          });\n          var d = i.sendEncodingParameters || [{\n            ssrc: 1001 * (2 * o + 1)\n          }];\n          a && t >= 15019 && \"video\" === s && !d[0].rtx && (d[0].rtx = {\n            ssrc: d[0].ssrc + 1\n          }), i.wantReceive && (i.rtpReceiver = new e.RTCRtpReceiver(i.dtlsTransport, s)), i.localCapabilities = u, i.sendEncodingParameters = d;\n        }), \"max-compat\" !== n._config.bundlePolicy && (u += \"a=group:BUNDLE \" + n.transceivers.map(function (e) {\n          return e.mid;\n        }).join(\" \") + \"\\r\\n\"), u += \"a=ice-options:trickle\\r\\n\", n.transceivers.forEach(function (e, t) {\n          u += i(e, e.localCapabilities, \"offer\", e.stream, n._dtlsRole), u += \"a=rtcp-rsize\\r\\n\", !e.iceGatherer || \"new\" === n.iceGatheringState || 0 !== t && n.usingBundle || (e.iceGatherer.getLocalCandidates().forEach(function (e) {\n            e.component = 1, u += \"a=\" + r.writeCandidate(e) + \"\\r\\n\";\n          }), \"completed\" === e.iceGatherer.state && (u += \"a=end-of-candidates\\r\\n\"));\n        });\n        var d = new e.RTCSessionDescription({\n          type: \"offer\",\n          sdp: u\n        });\n        return Promise.resolve(d);\n      }, d.prototype.createAnswer = function () {\n        var n = this;\n        if (n._isClosed) return Promise.reject(c(\"InvalidStateError\", \"Can not call createAnswer after close\"));\n        if (\"have-remote-offer\" !== n.signalingState && \"have-local-pranswer\" !== n.signalingState) return Promise.reject(c(\"InvalidStateError\", \"Can not call createAnswer in signalingState \" + n.signalingState));\n        var a = r.writeSessionBoilerplate(n._sdpSessionId, n._sdpSessionVersion++);\n        n.usingBundle && (a += \"a=group:BUNDLE \" + n.transceivers.map(function (e) {\n          return e.mid;\n        }).join(\" \") + \"\\r\\n\"), a += \"a=ice-options:trickle\\r\\n\";\n        var s = r.getMediaSections(n._remoteDescription.sdp).length;\n        n.transceivers.forEach(function (e, r) {\n          if (!(r + 1 > s)) {\n            if (e.rejected) return \"application\" === e.kind ? \"DTLS/SCTP\" === e.protocol ? a += \"m=application 0 DTLS/SCTP 5000\\r\\n\" : a += \"m=application 0 \" + e.protocol + \" webrtc-datachannel\\r\\n\" : \"audio\" === e.kind ? a += \"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\" : \"video\" === e.kind && (a += \"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\"), void (a += \"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\" + e.mid + \"\\r\\n\");\n            var c;\n            if (e.stream) \"audio\" === e.kind ? c = e.stream.getAudioTracks()[0] : \"video\" === e.kind && (c = e.stream.getVideoTracks()[0]), c && t >= 15019 && \"video\" === e.kind && !e.sendEncodingParameters[0].rtx && (e.sendEncodingParameters[0].rtx = {\n              ssrc: e.sendEncodingParameters[0].ssrc + 1\n            });\n            var u = o(e.localCapabilities, e.remoteCapabilities);\n            !u.codecs.filter(function (e) {\n              return \"rtx\" === e.name.toLowerCase();\n            }).length && e.sendEncodingParameters[0].rtx && delete e.sendEncodingParameters[0].rtx, a += i(e, u, \"answer\", e.stream, n._dtlsRole), e.rtcpParameters && e.rtcpParameters.reducedSize && (a += \"a=rtcp-rsize\\r\\n\");\n          }\n        });\n        var u = new e.RTCSessionDescription({\n          type: \"answer\",\n          sdp: a\n        });\n        return Promise.resolve(u);\n      }, d.prototype.addIceCandidate = function (e) {\n        var t,\n            n = this;\n        return e && void 0 === e.sdpMLineIndex && !e.sdpMid ? Promise.reject(new TypeError(\"sdpMLineIndex or sdpMid required\")) : new Promise(function (i, o) {\n          if (!n._remoteDescription) return o(c(\"InvalidStateError\", \"Can not add ICE candidate without a remote description\"));\n\n          if (e && \"\" !== e.candidate) {\n            var a = e.sdpMLineIndex;\n            if (e.sdpMid) for (var u = 0; u < n.transceivers.length; u++) {\n              if (n.transceivers[u].mid === e.sdpMid) {\n                a = u;\n                break;\n              }\n            }\n            var d = n.transceivers[a];\n            if (!d) return o(c(\"OperationError\", \"Can not add ICE candidate\"));\n            if (d.rejected) return i();\n            var l = Object.keys(e.candidate).length > 0 ? r.parseCandidate(e.candidate) : {};\n            if (\"tcp\" === l.protocol && (0 === l.port || 9 === l.port)) return i();\n            if (l.component && 1 !== l.component) return i();\n            if ((0 === a || a > 0 && d.iceTransport !== n.transceivers[0].iceTransport) && !s(d.iceTransport, l)) return o(c(\"OperationError\", \"Can not add ICE candidate\"));\n            var p = e.candidate.trim();\n            0 === p.indexOf(\"a=\") && (p = p.substr(2)), (t = r.getMediaSections(n._remoteDescription.sdp))[a] += \"a=\" + (l.type ? p : \"end-of-candidates\") + \"\\r\\n\", n._remoteDescription.sdp = r.getDescription(n._remoteDescription.sdp) + t.join(\"\");\n          } else for (var f = 0; f < n.transceivers.length && (n.transceivers[f].rejected || (n.transceivers[f].iceTransport.addRemoteCandidate({}), (t = r.getMediaSections(n._remoteDescription.sdp))[f] += \"a=end-of-candidates\\r\\n\", n._remoteDescription.sdp = r.getDescription(n._remoteDescription.sdp) + t.join(\"\"), !n.usingBundle)); f++) {\n            ;\n          }\n\n          i();\n        });\n      }, d.prototype.getStats = function (t) {\n        if (t && t instanceof e.MediaStreamTrack) {\n          var n = null;\n          if (this.transceivers.forEach(function (e) {\n            e.rtpSender && e.rtpSender.track === t ? n = e.rtpSender : e.rtpReceiver && e.rtpReceiver.track === t && (n = e.rtpReceiver);\n          }), !n) throw c(\"InvalidAccessError\", \"Invalid selector.\");\n          return n.getStats();\n        }\n\n        var r = [];\n        return this.transceivers.forEach(function (e) {\n          [\"rtpSender\", \"rtpReceiver\", \"iceGatherer\", \"iceTransport\", \"dtlsTransport\"].forEach(function (t) {\n            e[t] && r.push(e[t].getStats());\n          });\n        }), Promise.all(r).then(function (e) {\n          var t = new Map();\n          return e.forEach(function (e) {\n            e.forEach(function (e) {\n              t.set(e.id, e);\n            });\n          }), t;\n        });\n      };\n      [\"RTCRtpSender\", \"RTCRtpReceiver\", \"RTCIceGatherer\", \"RTCIceTransport\", \"RTCDtlsTransport\"].forEach(function (t) {\n        var n = e[t];\n\n        if (n && n.prototype && n.prototype.getStats) {\n          var r = n.prototype.getStats;\n\n          n.prototype.getStats = function () {\n            return r.apply(this).then(function (e) {\n              var t = new Map();\n              return Object.keys(e).forEach(function (n) {\n                var r;\n                e[n].type = {\n                  inboundrtp: \"inbound-rtp\",\n                  outboundrtp: \"outbound-rtp\",\n                  candidatepair: \"candidate-pair\",\n                  localcandidate: \"local-candidate\",\n                  remotecandidate: \"remote-candidate\"\n                }[(r = e[n]).type] || r.type, t.set(n, e[n]);\n              }), t;\n            });\n          };\n        }\n      });\n      var l = [\"createOffer\", \"createAnswer\"];\n      return l.forEach(function (e) {\n        var t = d.prototype[e];\n\n        d.prototype[e] = function () {\n          var e = arguments;\n          return \"function\" == typeof e[0] || \"function\" == typeof e[1] ? t.apply(this, [arguments[2]]).then(function (t) {\n            \"function\" == typeof e[0] && e[0].apply(null, [t]);\n          }, function (t) {\n            \"function\" == typeof e[1] && e[1].apply(null, [t]);\n          }) : t.apply(this, arguments);\n        };\n      }), (l = [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"]).forEach(function (e) {\n        var t = d.prototype[e];\n\n        d.prototype[e] = function () {\n          var e = arguments;\n          return \"function\" == typeof e[1] || \"function\" == typeof e[2] ? t.apply(this, arguments).then(function () {\n            \"function\" == typeof e[1] && e[1].apply(null);\n          }, function (t) {\n            \"function\" == typeof e[2] && e[2].apply(null, [t]);\n          }) : t.apply(this, arguments);\n        };\n      }), [\"getStats\"].forEach(function (e) {\n        var t = d.prototype[e];\n\n        d.prototype[e] = function () {\n          var e = arguments;\n          return \"function\" == typeof e[1] ? t.apply(this, arguments).then(function () {\n            \"function\" == typeof e[1] && e[1].apply(null);\n          }) : t.apply(this, arguments);\n        };\n      }), d;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    e.exports = function (e) {\n      var t = e && e.navigator,\n          n = t.mediaDevices.getUserMedia.bind(t.mediaDevices);\n\n      t.mediaDevices.getUserMedia = function (e) {\n        return n(e).catch(function (e) {\n          return Promise.reject(function (e) {\n            return {\n              name: {\n                PermissionDeniedError: \"NotAllowedError\"\n              }[e.name] || e.name,\n              message: e.message,\n              constraint: e.constraint,\n              toString: function toString() {\n                return this.name;\n              }\n            };\n          }(e));\n        });\n      };\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = {\n      shimOnTrack: function shimOnTrack(e) {\n        \"object\" != typeof e || !e.RTCPeerConnection || \"ontrack\" in e.RTCPeerConnection.prototype || Object.defineProperty(e.RTCPeerConnection.prototype, \"ontrack\", {\n          get: function get() {\n            return this._ontrack;\n          },\n          set: function set(e) {\n            this._ontrack && (this.removeEventListener(\"track\", this._ontrack), this.removeEventListener(\"addstream\", this._ontrackpoly)), this.addEventListener(\"track\", this._ontrack = e), this.addEventListener(\"addstream\", this._ontrackpoly = function (e) {\n              e.stream.getTracks().forEach(function (t) {\n                var n = new Event(\"track\");\n                n.track = t, n.receiver = {\n                  track: t\n                }, n.transceiver = {\n                  receiver: n.receiver\n                }, n.streams = [e.stream], this.dispatchEvent(n);\n              }.bind(this));\n            }.bind(this));\n          }\n        }), \"object\" == typeof e && e.RTCTrackEvent && \"receiver\" in e.RTCTrackEvent.prototype && !(\"transceiver\" in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, \"transceiver\", {\n          get: function get() {\n            return {\n              receiver: this.receiver\n            };\n          }\n        });\n      },\n      shimSourceObject: function shimSourceObject(e) {\n        \"object\" == typeof e && (!e.HTMLMediaElement || \"srcObject\" in e.HTMLMediaElement.prototype || Object.defineProperty(e.HTMLMediaElement.prototype, \"srcObject\", {\n          get: function get() {\n            return this.mozSrcObject;\n          },\n          set: function set(e) {\n            this.mozSrcObject = e;\n          }\n        }));\n      },\n      shimPeerConnection: function shimPeerConnection(e) {\n        var t = r.detectBrowser(e);\n\n        if (\"object\" == typeof e && (e.RTCPeerConnection || e.mozRTCPeerConnection)) {\n          e.RTCPeerConnection || (e.RTCPeerConnection = function (n, r) {\n            if (t.version < 38 && n && n.iceServers) {\n              for (var i = [], o = 0; o < n.iceServers.length; o++) {\n                var a = n.iceServers[o];\n                if (a.hasOwnProperty(\"urls\")) for (var s = 0; s < a.urls.length; s++) {\n                  var c = {\n                    url: a.urls[s]\n                  };\n                  0 === a.urls[s].indexOf(\"turn\") && (c.username = a.username, c.credential = a.credential), i.push(c);\n                } else i.push(n.iceServers[o]);\n              }\n\n              n.iceServers = i;\n            }\n\n            return new e.mozRTCPeerConnection(n, r);\n          }, e.RTCPeerConnection.prototype = e.mozRTCPeerConnection.prototype, e.mozRTCPeerConnection.generateCertificate && Object.defineProperty(e.RTCPeerConnection, \"generateCertificate\", {\n            get: function get() {\n              return e.mozRTCPeerConnection.generateCertificate;\n            }\n          }), e.RTCSessionDescription = e.mozRTCSessionDescription, e.RTCIceCandidate = e.mozRTCIceCandidate), [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (t) {\n            var n = e.RTCPeerConnection.prototype[t];\n\n            e.RTCPeerConnection.prototype[t] = function () {\n              return arguments[0] = new (\"addIceCandidate\" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), n.apply(this, arguments);\n            };\n          });\n          var n = e.RTCPeerConnection.prototype.addIceCandidate;\n\n          e.RTCPeerConnection.prototype.addIceCandidate = function () {\n            return arguments[0] ? n.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve());\n          };\n\n          var i = {\n            inboundrtp: \"inbound-rtp\",\n            outboundrtp: \"outbound-rtp\",\n            candidatepair: \"candidate-pair\",\n            localcandidate: \"local-candidate\",\n            remotecandidate: \"remote-candidate\"\n          },\n              o = e.RTCPeerConnection.prototype.getStats;\n\n          e.RTCPeerConnection.prototype.getStats = function (e, n, r) {\n            return o.apply(this, [e || null]).then(function (e) {\n              if (t.version < 48 && (e = function (e) {\n                var t = new Map();\n                return Object.keys(e).forEach(function (n) {\n                  t.set(n, e[n]), t[n] = e[n];\n                }), t;\n              }(e)), t.version < 53 && !n) try {\n                e.forEach(function (e) {\n                  e.type = i[e.type] || e.type;\n                });\n              } catch (t) {\n                if (\"TypeError\" !== t.name) throw t;\n                e.forEach(function (t, n) {\n                  e.set(n, Object.assign({}, t, {\n                    type: i[t.type] || t.type\n                  }));\n                });\n              }\n              return e;\n            }).then(n, r);\n          };\n        }\n      }\n    };\n    e.exports = {\n      shimOnTrack: i.shimOnTrack,\n      shimSourceObject: i.shimSourceObject,\n      shimPeerConnection: i.shimPeerConnection,\n      shimGetUserMedia: n(136)\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = r.log;\n\n    e.exports = function (e) {\n      var t = r.detectBrowser(e),\n          n = e && e.navigator,\n          o = e && e.MediaStreamTrack,\n          a = function a(e) {\n        return {\n          name: {\n            InternalError: \"NotReadableError\",\n            NotSupportedError: \"TypeError\",\n            PermissionDeniedError: \"NotAllowedError\",\n            SecurityError: \"NotAllowedError\"\n          }[e.name] || e.name,\n          message: {\n            \"The operation is insecure.\": \"The request is not allowed by the user agent or the platform in the current context.\"\n          }[e.message] || e.message,\n          constraint: e.constraint,\n          toString: function toString() {\n            return this.name + (this.message && \": \") + this.message;\n          }\n        };\n      },\n          s = function s(e, r, o) {\n        var s = function s(e) {\n          if (\"object\" != typeof e || e.require) return e;\n          var t = [];\n          return Object.keys(e).forEach(function (n) {\n            if (\"require\" !== n && \"advanced\" !== n && \"mediaSource\" !== n) {\n              var r = e[n] = \"object\" == typeof e[n] ? e[n] : {\n                ideal: e[n]\n              };\n\n              if (void 0 === r.min && void 0 === r.max && void 0 === r.exact || t.push(n), void 0 !== r.exact && (\"number\" == typeof r.exact ? r.min = r.max = r.exact : e[n] = r.exact, delete r.exact), void 0 !== r.ideal) {\n                e.advanced = e.advanced || [];\n                var i = {};\n                \"number\" == typeof r.ideal ? i[n] = {\n                  min: r.ideal,\n                  max: r.ideal\n                } : i[n] = r.ideal, e.advanced.push(i), delete r.ideal, Object.keys(r).length || delete e[n];\n              }\n            }\n          }), t.length && (e.require = t), e;\n        };\n\n        return e = JSON.parse(JSON.stringify(e)), t.version < 38 && (i(\"spec: \" + JSON.stringify(e)), e.audio && (e.audio = s(e.audio)), e.video && (e.video = s(e.video)), i(\"ff37: \" + JSON.stringify(e))), n.mozGetUserMedia(e, r, function (e) {\n          o(a(e));\n        });\n      };\n\n      if (n.mediaDevices || (n.mediaDevices = {\n        getUserMedia: function getUserMedia(e) {\n          return new Promise(function (t, n) {\n            s(e, t, n);\n          });\n        },\n        addEventListener: function addEventListener() {},\n        removeEventListener: function removeEventListener() {}\n      }), n.mediaDevices.enumerateDevices = n.mediaDevices.enumerateDevices || function () {\n        return new Promise(function (e) {\n          e([{\n            kind: \"audioinput\",\n            deviceId: \"default\",\n            label: \"\",\n            groupId: \"\"\n          }, {\n            kind: \"videoinput\",\n            deviceId: \"default\",\n            label: \"\",\n            groupId: \"\"\n          }]);\n        });\n      }, t.version < 41) {\n        var c = n.mediaDevices.enumerateDevices.bind(n.mediaDevices);\n\n        n.mediaDevices.enumerateDevices = function () {\n          return c().then(void 0, function (e) {\n            if (\"NotFoundError\" === e.name) return [];\n            throw e;\n          });\n        };\n      }\n\n      if (t.version < 49) {\n        var u = n.mediaDevices.getUserMedia.bind(n.mediaDevices);\n\n        n.mediaDevices.getUserMedia = function (e) {\n          return u(e).then(function (t) {\n            if (e.audio && !t.getAudioTracks().length || e.video && !t.getVideoTracks().length) throw t.getTracks().forEach(function (e) {\n              e.stop();\n            }), new DOMException(\"The object can not be found here.\", \"NotFoundError\");\n            return t;\n          }, function (e) {\n            return Promise.reject(a(e));\n          });\n        };\n      }\n\n      if (!(t.version > 55 && \"autoGainControl\" in n.mediaDevices.getSupportedConstraints())) {\n        var d = function d(e, t, n) {\n          t in e && !(n in e) && (e[n] = e[t], delete e[t]);\n        },\n            l = n.mediaDevices.getUserMedia.bind(n.mediaDevices);\n\n        if (n.mediaDevices.getUserMedia = function (e) {\n          return \"object\" == typeof e && \"object\" == typeof e.audio && (e = JSON.parse(JSON.stringify(e)), d(e.audio, \"autoGainControl\", \"mozAutoGainControl\"), d(e.audio, \"noiseSuppression\", \"mozNoiseSuppression\")), l(e);\n        }, o && o.prototype.getSettings) {\n          var p = o.prototype.getSettings;\n\n          o.prototype.getSettings = function () {\n            var e = p.apply(this, arguments);\n            return d(e, \"mozAutoGainControl\", \"autoGainControl\"), d(e, \"mozNoiseSuppression\", \"noiseSuppression\"), e;\n          };\n        }\n\n        if (o && o.prototype.applyConstraints) {\n          var f = o.prototype.applyConstraints;\n\n          o.prototype.applyConstraints = function (e) {\n            return \"audio\" === this.kind && \"object\" == typeof e && (e = JSON.parse(JSON.stringify(e)), d(e, \"autoGainControl\", \"mozAutoGainControl\"), d(e, \"noiseSuppression\", \"mozNoiseSuppression\")), f.apply(this, [e]);\n          };\n        }\n      }\n\n      n.getUserMedia = function (e, i, o) {\n        if (t.version < 44) return s(e, i, o);\n        r.deprecated(\"navigator.getUserMedia\", \"navigator.mediaDevices.getUserMedia\"), n.mediaDevices.getUserMedia(e).then(i, o);\n      };\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(39),\n        i = {\n      shimLocalStreamsAPI: function shimLocalStreamsAPI(e) {\n        if (\"object\" == typeof e && e.RTCPeerConnection) {\n          if (\"getLocalStreams\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getLocalStreams = function () {\n            return this._localStreams || (this._localStreams = []), this._localStreams;\n          }), \"getStreamById\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getStreamById = function (e) {\n            var t = null;\n            return this._localStreams && this._localStreams.forEach(function (n) {\n              n.id === e && (t = n);\n            }), this._remoteStreams && this._remoteStreams.forEach(function (n) {\n              n.id === e && (t = n);\n            }), t;\n          }), !(\"addStream\" in e.RTCPeerConnection.prototype)) {\n            var t = e.RTCPeerConnection.prototype.addTrack;\n            e.RTCPeerConnection.prototype.addStream = function (e) {\n              this._localStreams || (this._localStreams = []), -1 === this._localStreams.indexOf(e) && this._localStreams.push(e);\n              var n = this;\n              e.getTracks().forEach(function (r) {\n                t.call(n, r, e);\n              });\n            }, e.RTCPeerConnection.prototype.addTrack = function (e, n) {\n              n && (this._localStreams ? -1 === this._localStreams.indexOf(n) && this._localStreams.push(n) : this._localStreams = [n]), t.call(this, e, n);\n            };\n          }\n\n          \"removeStream\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.removeStream = function (e) {\n            this._localStreams || (this._localStreams = []);\n\n            var t = this._localStreams.indexOf(e);\n\n            if (-1 !== t) {\n              this._localStreams.splice(t, 1);\n\n              var n = this,\n                  r = e.getTracks();\n              this.getSenders().forEach(function (e) {\n                -1 !== r.indexOf(e.track) && n.removeTrack(e);\n              });\n            }\n          });\n        }\n      },\n      shimRemoteStreamsAPI: function shimRemoteStreamsAPI(e) {\n        \"object\" == typeof e && e.RTCPeerConnection && (\"getRemoteStreams\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getRemoteStreams = function () {\n          return this._remoteStreams ? this._remoteStreams : [];\n        }), \"onaddstream\" in e.RTCPeerConnection.prototype || Object.defineProperty(e.RTCPeerConnection.prototype, \"onaddstream\", {\n          get: function get() {\n            return this._onaddstream;\n          },\n          set: function set(e) {\n            this._onaddstream && (this.removeEventListener(\"addstream\", this._onaddstream), this.removeEventListener(\"track\", this._onaddstreampoly)), this.addEventListener(\"addstream\", this._onaddstream = e), this.addEventListener(\"track\", this._onaddstreampoly = function (e) {\n              var t = e.streams[0];\n\n              if (this._remoteStreams || (this._remoteStreams = []), !(this._remoteStreams.indexOf(t) >= 0)) {\n                this._remoteStreams.push(t);\n\n                var n = new Event(\"addstream\");\n                n.stream = e.streams[0], this.dispatchEvent(n);\n              }\n            }.bind(this));\n          }\n        }));\n      },\n      shimCallbacksAPI: function shimCallbacksAPI(e) {\n        if (\"object\" == typeof e && e.RTCPeerConnection) {\n          var t = e.RTCPeerConnection.prototype,\n              n = t.createOffer,\n              r = t.createAnswer,\n              i = t.setLocalDescription,\n              o = t.setRemoteDescription,\n              a = t.addIceCandidate;\n          t.createOffer = function (e, t) {\n            var r = arguments.length >= 2 ? arguments[2] : arguments[0],\n                i = n.apply(this, [r]);\n            return t ? (i.then(e, t), Promise.resolve()) : i;\n          }, t.createAnswer = function (e, t) {\n            var n = arguments.length >= 2 ? arguments[2] : arguments[0],\n                i = r.apply(this, [n]);\n            return t ? (i.then(e, t), Promise.resolve()) : i;\n          };\n\n          var s = function s(e, t, n) {\n            var r = i.apply(this, [e]);\n            return n ? (r.then(t, n), Promise.resolve()) : r;\n          };\n\n          t.setLocalDescription = s, s = function s(e, t, n) {\n            var r = o.apply(this, [e]);\n            return n ? (r.then(t, n), Promise.resolve()) : r;\n          }, t.setRemoteDescription = s, s = function s(e, t, n) {\n            var r = a.apply(this, [e]);\n            return n ? (r.then(t, n), Promise.resolve()) : r;\n          }, t.addIceCandidate = s;\n        }\n      },\n      shimGetUserMedia: function shimGetUserMedia(e) {\n        var t = e && e.navigator;\n        t.getUserMedia || (t.webkitGetUserMedia ? t.getUserMedia = t.webkitGetUserMedia.bind(t) : t.mediaDevices && t.mediaDevices.getUserMedia && (t.getUserMedia = function (e, n, r) {\n          t.mediaDevices.getUserMedia(e).then(n, r);\n        }.bind(t)));\n      },\n      shimRTCIceServerUrls: function shimRTCIceServerUrls(e) {\n        var t = e.RTCPeerConnection;\n        e.RTCPeerConnection = function (e, n) {\n          if (e && e.iceServers) {\n            for (var i = [], o = 0; o < e.iceServers.length; o++) {\n              var a = e.iceServers[o];\n              !a.hasOwnProperty(\"urls\") && a.hasOwnProperty(\"url\") ? (r.deprecated(\"RTCIceServer.url\", \"RTCIceServer.urls\"), (a = JSON.parse(JSON.stringify(a))).urls = a.url, delete a.url, i.push(a)) : i.push(e.iceServers[o]);\n            }\n\n            e.iceServers = i;\n          }\n\n          return new t(e, n);\n        }, e.RTCPeerConnection.prototype = t.prototype, \"generateCertificate\" in e.RTCPeerConnection && Object.defineProperty(e.RTCPeerConnection, \"generateCertificate\", {\n          get: function get() {\n            return t.generateCertificate;\n          }\n        });\n      },\n      shimTrackEventTransceiver: function shimTrackEventTransceiver(e) {\n        \"object\" == typeof e && e.RTCPeerConnection && \"receiver\" in e.RTCTrackEvent.prototype && !e.RTCTransceiver && Object.defineProperty(e.RTCTrackEvent.prototype, \"transceiver\", {\n          get: function get() {\n            return {\n              receiver: this.receiver\n            };\n          }\n        });\n      },\n      shimCreateOfferLegacy: function shimCreateOfferLegacy(e) {\n        var t = e.RTCPeerConnection.prototype.createOffer;\n\n        e.RTCPeerConnection.prototype.createOffer = function (e) {\n          var n = this;\n\n          if (e) {\n            var r = n.getTransceivers().find(function (e) {\n              return e.sender.track && \"audio\" === e.sender.track.kind;\n            });\n            !1 === e.offerToReceiveAudio && r ? \"sendrecv\" === r.direction ? r.setDirection(\"sendonly\") : \"recvonly\" === r.direction && r.setDirection(\"inactive\") : !0 !== e.offerToReceiveAudio || r || n.addTransceiver(\"audio\");\n            var i = n.getTransceivers().find(function (e) {\n              return e.sender.track && \"video\" === e.sender.track.kind;\n            });\n            !1 === e.offerToReceiveVideo && i ? \"sendrecv\" === i.direction ? i.setDirection(\"sendonly\") : \"recvonly\" === i.direction && i.setDirection(\"inactive\") : !0 !== e.offerToReceiveVideo || i || n.addTransceiver(\"video\");\n          }\n\n          return t.apply(n, arguments);\n        };\n      }\n    };\n    e.exports = {\n      shimCallbacksAPI: i.shimCallbacksAPI,\n      shimLocalStreamsAPI: i.shimLocalStreamsAPI,\n      shimRemoteStreamsAPI: i.shimRemoteStreamsAPI,\n      shimGetUserMedia: i.shimGetUserMedia,\n      shimRTCIceServerUrls: i.shimRTCIceServerUrls,\n      shimTrackEventTransceiver: i.shimTrackEventTransceiver,\n      shimCreateOfferLegacy: i.shimCreateOfferLegacy\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(63),\n        i = n(39);\n    e.exports = {\n      shimRTCIceCandidate: function shimRTCIceCandidate(e) {\n        if (!(e.RTCIceCandidate && \"foundation\" in e.RTCIceCandidate.prototype)) {\n          var t = e.RTCIceCandidate;\n          e.RTCIceCandidate = function (e) {\n            \"object\" == typeof e && e.candidate && 0 === e.candidate.indexOf(\"a=\") && ((e = JSON.parse(JSON.stringify(e))).candidate = e.candidate.substr(2));\n            var n = new t(e),\n                i = r.parseCandidate(e.candidate),\n                o = Object.assign(n, i);\n            return o.toJSON = function () {\n              return {\n                candidate: o.candidate,\n                sdpMid: o.sdpMid,\n                sdpMLineIndex: o.sdpMLineIndex,\n                usernameFragment: o.usernameFragment\n              };\n            }, o;\n          }, function (e, t, n) {\n            if (e.RTCPeerConnection) {\n              var r = e.RTCPeerConnection.prototype,\n                  i = r.addEventListener;\n\n              r.addEventListener = function (e, r) {\n                if (e !== t) return i.apply(this, arguments);\n\n                var o = function o(e) {\n                  r(n(e));\n                };\n\n                return this._eventMap = this._eventMap || {}, this._eventMap[r] = o, i.apply(this, [e, o]);\n              };\n\n              var o = r.removeEventListener;\n              r.removeEventListener = function (e, n) {\n                if (e !== t || !this._eventMap || !this._eventMap[n]) return o.apply(this, arguments);\n                var r = this._eventMap[n];\n                return delete this._eventMap[n], o.apply(this, [e, r]);\n              }, Object.defineProperty(r, \"on\" + t, {\n                get: function get() {\n                  return this[\"_on\" + t];\n                },\n                set: function set(e) {\n                  this[\"_on\" + t] && (this.removeEventListener(t, this[\"_on\" + t]), delete this[\"_on\" + t]), e && this.addEventListener(t, this[\"_on\" + t] = e);\n                }\n              });\n            }\n          }(e, \"icecandidate\", function (t) {\n            return t.candidate && Object.defineProperty(t, \"candidate\", {\n              value: new e.RTCIceCandidate(t.candidate),\n              writable: \"false\"\n            }), t;\n          });\n        }\n      },\n      shimCreateObjectURL: function shimCreateObjectURL(e) {\n        var t = e && e.URL;\n\n        if (\"object\" == typeof e && e.HTMLMediaElement && \"srcObject\" in e.HTMLMediaElement.prototype && t.createObjectURL && t.revokeObjectURL) {\n          var n = t.createObjectURL.bind(t),\n              r = t.revokeObjectURL.bind(t),\n              o = new Map(),\n              a = 0;\n          t.createObjectURL = function (e) {\n            if (\"getTracks\" in e) {\n              var t = \"polyblob:\" + ++a;\n              return o.set(t, e), i.deprecated(\"URL.createObjectURL(stream)\", \"elem.srcObject = stream\"), t;\n            }\n\n            return n(e);\n          }, t.revokeObjectURL = function (e) {\n            r(e), o.delete(e);\n          };\n          var s = Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype, \"src\");\n          Object.defineProperty(e.HTMLMediaElement.prototype, \"src\", {\n            get: function get() {\n              return s.get.apply(this);\n            },\n            set: function set(e) {\n              return this.srcObject = o.get(e) || null, s.set.apply(this, [e]);\n            }\n          });\n          var c = e.HTMLMediaElement.prototype.setAttribute;\n\n          e.HTMLMediaElement.prototype.setAttribute = function () {\n            return 2 === arguments.length && \"src\" === (\"\" + arguments[0]).toLowerCase() && (this.srcObject = o.get(arguments[1]) || null), c.apply(this, arguments);\n          };\n        }\n      }\n    };\n  }, function (e, t, n) {\n    var r = function r(e) {\n      return String(Number(e)) === e ? Number(e) : e;\n    },\n        i = function i(e, t, n) {\n      var i = e.name && e.names;\n      e.push && !t[e.push] ? t[e.push] = [] : i && !t[e.name] && (t[e.name] = {});\n      var o = e.push ? {} : i ? t[e.name] : t;\n      !function (e, t, n, i) {\n        if (i && !n) t[i] = r(e[1]);else for (var o = 0; o < n.length; o += 1) {\n          null != e[o + 1] && (t[n[o]] = r(e[o + 1]));\n        }\n      }(n.match(e.reg), o, e.names, e.name), e.push && t[e.push].push(o);\n    },\n        o = n(64),\n        a = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\n    t.parse = function (e) {\n      var t = {},\n          n = [],\n          r = t;\n      return e.split(/(\\r\\n|\\r|\\n)/).filter(a).forEach(function (e) {\n        var t = e[0],\n            a = e.slice(2);\n        \"m\" === t && (n.push({\n          rtp: [],\n          fmtp: []\n        }), r = n[n.length - 1]);\n\n        for (var s = 0; s < (o[t] || []).length; s += 1) {\n          var c = o[t][s];\n          if (c.reg.test(a)) return i(c, r, a);\n        }\n      }), t.media = n, t;\n    };\n\n    var s = function s(e, t) {\n      var n = t.split(/=(.+)/, 2);\n      return 2 === n.length && (e[n[0]] = r(n[1])), e;\n    };\n\n    t.parseParams = function (e) {\n      return e.split(/\\;\\s?/).reduce(s, {});\n    }, t.parseFmtpConfig = t.parseParams, t.parsePayloads = function (e) {\n      return e.split(\" \").map(Number);\n    }, t.parseRemoteCandidates = function (e) {\n      for (var t = [], n = e.split(\" \").map(r), i = 0; i < n.length; i += 3) {\n        t.push({\n          component: n[i],\n          ip: n[i + 1],\n          port: n[i + 2]\n        });\n      }\n\n      return t;\n    }, t.parseImageAttributes = function (e) {\n      return e.split(\" \").map(function (e) {\n        return e.substring(1, e.length - 1).split(\",\").reduce(s, {});\n      });\n    }, t.parseSimulcastStreamList = function (e) {\n      return e.split(\";\").map(function (e) {\n        return e.split(\",\").map(function (e) {\n          var t,\n              n = !1;\n          return \"~\" !== e[0] ? t = r(e) : (t = r(e.substring(1, e.length)), n = !0), {\n            scid: t,\n            paused: n\n          };\n        });\n      });\n    };\n  }, function (e, t, n) {\n    var r = n(64),\n        i = /%[sdv%]/g,\n        o = function o(e) {\n      var t = 1,\n          n = arguments,\n          r = n.length;\n      return e.replace(i, function (e) {\n        if (t >= r) return e;\n        var i = n[t];\n\n        switch (t += 1, e) {\n          case \"%%\":\n            return \"%\";\n\n          case \"%s\":\n            return String(i);\n\n          case \"%d\":\n            return Number(i);\n\n          case \"%v\":\n            return \"\";\n        }\n      });\n    },\n        a = function a(e, t, n) {\n      var r = [e + \"=\" + (t.format instanceof Function ? t.format(t.push ? n : n[t.name]) : t.format)];\n      if (t.names) for (var i = 0; i < t.names.length; i += 1) {\n        var a = t.names[i];\n        t.name ? r.push(n[t.name][a]) : r.push(n[t.names[i]]);\n      } else r.push(n[t.name]);\n      return o.apply(null, r);\n    },\n        s = [\"v\", \"o\", \"s\", \"i\", \"u\", \"e\", \"p\", \"c\", \"b\", \"t\", \"r\", \"z\", \"a\"],\n        c = [\"i\", \"c\", \"b\", \"a\"];\n\n    e.exports = function (e, t) {\n      t = t || {}, null == e.version && (e.version = 0), null == e.name && (e.name = \" \"), e.media.forEach(function (e) {\n        null == e.payloads && (e.payloads = \"\");\n      });\n      var n = t.outerOrder || s,\n          i = t.innerOrder || c,\n          o = [];\n      return n.forEach(function (t) {\n        r[t].forEach(function (n) {\n          n.name in e && null != e[n.name] ? o.push(a(t, n, e)) : n.push in e && null != e[n.push] && e[n.push].forEach(function (e) {\n            o.push(a(t, n, e));\n          });\n        });\n      }), e.media.forEach(function (e) {\n        o.push(a(\"m\", r.m[0], e)), i.forEach(function (t) {\n          r[t].forEach(function (n) {\n            n.name in e && null != e[n.name] ? o.push(a(t, n, e)) : n.push in e && null != e[n.push] && e[n.push].forEach(function (e) {\n              o.push(a(t, n, e));\n            });\n          });\n        });\n      }), o.join(\"\\r\\n\") + \"\\r\\n\";\n    };\n  }, function (e, t, n) {\n    t.Interop = n(142);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(143),\n        i = n(144);\n\n    function o(e) {\n      \"number\" == typeof e.mid && (e.mid = e.mid.toString());\n    }\n\n    function a() {\n      this.cache = {\n        mlB2UMap: {},\n        mlU2BMap: {}\n      };\n    }\n\n    e.exports = a, a.prototype.candidateToUnifiedPlan = function (e) {\n      var t = new RTCIceCandidate(e);\n      return t.sdpMLineIndex = this.cache.mlB2UMap[t.sdpMLineIndex], t;\n    }, a.prototype.candidateToPlanB = function (e) {\n      var t = new RTCIceCandidate(e);\n      if (0 === t.sdpMid.indexOf(\"audio\")) t.sdpMid = \"audio\";else {\n        if (0 !== t.sdpMid.indexOf(\"video\")) throw new Error(\"candidate with \" + t.sdpMid + \" not allowed\");\n        t.sdpMid = \"video\";\n      }\n      return t.sdpMLineIndex = this.cache.mlU2BMap[t.sdpMLineIndex], t;\n    }, a.prototype.getFirstSendingIndexFromAnswer = function (e) {\n      if (!this.cache.answer) return null;\n      var t = r.parse(this.cache.answer);\n      if (t && t.media && Array.isArray(t.media)) for (var n = 0; n < t.media.length; n++) {\n        if (t.media[n].type == e && (!t.media[n].direction || \"sendrecv\" === t.media[n].direction || \"sendonly\" === t.media[n].direction)) return n;\n      }\n      return null;\n    }, a.prototype.toPlanB = function (e) {\n      var t = this;\n      if (\"object\" != typeof e || null === e || \"string\" != typeof e.sdp) return console.warn(\"\"), e;\n      var n = r.parse(e.sdp);\n      if (void 0 === n.media || !Array.isArray(n.media) || 0 === n.media.length) return console.warn(\"\"), e;\n      if (n.media.length <= 3 && n.media.every(function (e) {\n        return -1 !== [\"video\", \"audio\", \"data\"].indexOf(e.mid);\n      })) return console.warn(\"\"), e;\n\n      for (var a = e.sdp, c = !1, u = 0; u < n.media.length; u++) {\n        n.media[u].rtp.forEach(function (e) {\n          if (\"NULL\" === e.codec) {\n            c = !0;\n            var n = r.parse(t.cache.offer);\n            e.codec = n.media[u].rtp[0].codec;\n          }\n        });\n      }\n\n      c && (a = r.write(n)), this.cache[e.type] = a;\n      var d = n.media;\n      n.media = [];\n      var l = {},\n          p = [],\n          f = {};\n      d.forEach(function (e) {\n        if (o(e), (\"string\" != typeof e.rtcpMux || \"rtcp-mux\" !== e.rtcpMux) && \"inactive\" !== e.direction && \"application\" !== e.type) throw new Error(\"Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.\");\n        void 0 !== l[e.type] && \"inactive\" !== l[e.type].direction || (l[e.type] = e);\n      }), d.forEach(function (e) {\n        var t = e.type;\n        if (\"application\" === t) return e.mid = \"data\", n.media.push(e), void p.push(e.mid);\n        \"object\" == typeof e.sources && Object.keys(e.sources).forEach(function (n) {\n          \"object\" != typeof l[t].sources && (l[t].sources = {}), l[t].sources[n] = e.sources[n], void 0 !== e.msid && (l[t].sources[n].msid = e.msid);\n        }), void 0 !== e.ssrcGroups && Array.isArray(e.ssrcGroups) && (void 0 !== l[t].ssrcGroups && Array.isArray(l[t].ssrcGroups) || (l[t].ssrcGroups = []), i.apply(l[t].ssrcGroups, [e.ssrcGroups]) || (l[t].ssrcGroups = l[t].ssrcGroups.concat(e.ssrcGroups)));\n        var r = e.direction;\n        f[t] = (f[t] || 0) | s[r || \"inactive\"], l[t] === e && (e.mid = t, delete e.bundleOnly, delete e.msid, \"inactive\" !== r && p.push(t), n.media.push(e));\n      }), n.groups.some(function (e) {\n        if (\"BUNDLE\" === e.type) return e.mids = p.join(\" \"), !0;\n      }), n.msidSemantic = {\n        semantic: \"WMS\",\n        token: \"*\"\n      };\n      var h = r.write(n);\n      return new RTCSessionDescription({\n        type: e.type,\n        sdp: h\n      });\n    }, a.prototype.toUnifiedPlan = function (e) {\n      var t = this;\n      if (\"object\" != typeof e || null === e || \"string\" != typeof e.sdp) return console.warn(\"\"), e;\n      var n = r.parse(e.sdp);\n      if (void 0 === n.media || !Array.isArray(n.media) || 0 === n.media.length) return console.warn(\"\"), e;\n      if (n.media.length > 3 || !n.media.every(function (e) {\n        return -1 !== [\"video\", \"audio\", \"data\"].indexOf(e.mid);\n      })) return console.warn(\"\"), e;\n      var a = [];\n      n.media.forEach(function (e) {\n        a.push(e.mid);\n      });\n      var s,\n          c = !1;\n      if (void 0 !== n.groups && Array.isArray(n.groups) && (c = n.groups.every(function (e) {\n        return \"BUNDLE\" !== e.type || i.apply(e.mids.sort(), [a.sort()]);\n      })), !c) throw new Error(\"Cannot convert to Unified Plan because m-lines that are not bundled were found.\");\n      void 0 !== this.cache[e.type] && (s = r.parse(this.cache[e.type]));\n      var u = {\n        audio: {},\n        video: {}\n      },\n          d = {},\n          l = 0,\n          p = 0;\n      if (n.media.forEach(function (n) {\n        if ((\"string\" != typeof n.rtcpMux || \"rtcp-mux\" !== n.rtcpMux) && \"inactive\" !== n.direction && \"application\" !== n.type) throw new Error(\"Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.\");\n\n        if (\"application\" === n.type) {\n          var r = null;\n          return s && s.media && (r = s.media.find(function (e) {\n            return \"application\" === e.type;\n          })), void (r ? d[r.mid] = r : d[n.mid] = n);\n        }\n\n        var i = n.sources,\n            a = n.ssrcGroups,\n            c = n.candidates,\n            f = n.iceUfrag,\n            h = n.icePwd,\n            m = n.fingerprint,\n            v = n.port;\n        delete n.sources, delete n.ssrcGroups, delete n.candidates, delete n.iceUfrag, delete n.icePwd, delete n.fingerprint, delete n.port, delete n.mid;\n        var g = {};\n        void 0 !== a && Array.isArray(a) && a.forEach(function (e) {\n          \"SIM\" !== e.semantics && void 0 !== e.ssrcs && Array.isArray(e.ssrcs) && e.ssrcs.forEach(function (t) {\n            void 0 === g[t] && (g[t] = []), g[t].push(e);\n          });\n        });\n        var y = {};\n        \"object\" == typeof i && Object.keys(i).forEach(function (r) {\n          var a;\n          if (\"offer\" !== e.type || i[r].msid) {\n            if (void 0 !== g[r] && Array.isArray(g[r]) && g[r].some(function (e) {\n              return e.ssrcs.some(function (e) {\n                if (\"object\" == typeof y[e]) return a = y[e], !0;\n              });\n            }), \"object\" == typeof a) a.sources[r] = i[r], delete i[r].msid;else {\n              if (a = Object.create(n), y[r] = a, void 0 !== i[r].msid && (a.msid = i[r].msid, delete i[r].msid), a.sources = {}, a.sources[r] = i[r], a.ssrcGroups = g[r], void 0 !== s && void 0 !== s.media && Array.isArray(s.media) && s.media.forEach(function (e) {\n                \"object\" == typeof e.sources && Object.keys(e.sources).forEach(function (t) {\n                  t === r && (a.mid = e.mid);\n                });\n              }), o(a), void 0 === a.mid) {\n                if (\"answer\" === e.type) throw new Error(\"An unmapped SSRC was found.\");\n                a.mid = [n.type, \"-\", r].join(\"\");\n              }\n\n              a.candidates = c, a.iceUfrag = f, a.icePwd = h, a.fingerprint = m, a.port = v, d[a.mid] = a, t.cache.mlU2BMap[p] = l, void 0 === t.cache.mlB2UMap[l] && (t.cache.mlB2UMap[l] = p), p++;\n            }\n          } else u[n.type][r] = i[r];\n        }), l++;\n      }), n.media = [], a = [], \"answer\" === e.type) for (var f = 0; f < s.media.length; f++) {\n        var h = s.media[f];\n        o(h), void 0 === d[h.mid] && (delete h.msid, delete h.sources, delete h.ssrcGroups, h.direction && \"sendrecv\" !== h.direction ? \"sendonly\" === h.direction && (h.direction = \"inactive\") : h.direction = \"recvonly\"), n.media.push(h), \"string\" == typeof h.mid && a.push(h.mid);\n      } else void 0 !== s && void 0 !== s.media && Array.isArray(s.media) && s.media.forEach(function (e) {\n        o(e), a.push(e.mid), void 0 !== d[e.mid] ? n.media.push(d[e.mid]) : (delete e.msid, delete e.sources, delete e.ssrcGroups, e.direction && \"sendrecv\" !== e.direction || (e.direction = \"recvonly\"), e.direction && \"sendonly\" !== e.direction || (e.direction = \"inactive\"), n.media.push(e));\n      }), Object.keys(d).forEach(function (e) {\n        -1 === a.indexOf(e) && (a.push(e), \"recvonly\" === d[e].direction ? n.media.some(function (t) {\n          if ((\"sendrecv\" === t.direction || \"sendonly\" === t.direction) && t.type === d[e].type) return Object.keys(d[e].sources).forEach(function (n) {\n            t.sources[n] = d[e].sources[n];\n          }), !0;\n        }) : n.media.push(d[e]));\n      });\n      [\"audio\", \"video\"].forEach(function (e) {\n        if (n && n.media && Array.isArray(n.media)) {\n          var r = null;\n          if (Object.keys(u[e]).length > 0 && null === (r = t.getFirstSendingIndexFromAnswer(e))) for (var i = 0; i < n.media.length; i++) {\n            if (n.media[i].type === e) {\n              r = i;\n              break;\n            }\n          }\n\n          if (r && n.media.length > r) {\n            var o = n.media[r];\n            Object.keys(u[e]).forEach(function (t) {\n              o.sources && o.sources[t] && console.warn(\"\"), o.sources || (o.sources = {}), o.sources[t] = u[e][t];\n            });\n          }\n        }\n      }), n.groups.some(function (e) {\n        if (\"BUNDLE\" === e.type) return e.mids = a.join(\" \"), !0;\n      }), n.msidSemantic = {\n        semantic: \"WMS\",\n        token: \"*\"\n      };\n      var m = r.write(n);\n      return this.cache[e.type] = m, new RTCSessionDescription({\n        type: e.type,\n        sdp: m\n      });\n    };\n    var s = {\n      inactive: 0,\n      recvonly: 1,\n      sendonly: 2,\n      sendrecv: 3\n    };\n  }, function (e, t, n) {\n    var r = n(23);\n    t.write = function (e, t) {\n      return void 0 !== e && void 0 !== e.media && Array.isArray(e.media) && e.media.forEach(function (e) {\n        void 0 !== e.sources && 0 !== Object.keys(e.sources).length && (e.ssrcs = [], Object.keys(e.sources).forEach(function (t) {\n          var n = e.sources[t];\n          Object.keys(n).forEach(function (r) {\n            e.ssrcs.push({\n              id: t,\n              attribute: r,\n              value: n[r]\n            });\n          });\n        }), delete e.sources), void 0 !== e.ssrcGroups && Array.isArray(e.ssrcGroups) && e.ssrcGroups.forEach(function (e) {\n          void 0 !== e.ssrcs && Array.isArray(e.ssrcs) && (e.ssrcs = e.ssrcs.join(\" \"));\n        });\n      }), void 0 !== e && void 0 !== e.groups && Array.isArray(e.groups) && e.groups.forEach(function (e) {\n        void 0 !== e.mids && Array.isArray(e.mids) && (e.mids = e.mids.join(\" \"));\n      }), r.write(e, t);\n    }, t.parse = function (e) {\n      var t = r.parse(e);\n      return void 0 !== t && void 0 !== t.media && Array.isArray(t.media) && t.media.forEach(function (e) {\n        void 0 !== e.ssrcs && Array.isArray(e.ssrcs) && (e.sources = {}, e.ssrcs.forEach(function (t) {\n          e.sources[t.id] || (e.sources[t.id] = {}), e.sources[t.id][t.attribute] = t.value;\n        }), delete e.ssrcs), void 0 !== e.ssrcGroups && Array.isArray(e.ssrcGroups) && e.ssrcGroups.forEach(function (e) {\n          \"string\" == typeof e.ssrcs && (e.ssrcs = e.ssrcs.split(\" \"));\n        });\n      }), void 0 !== t && void 0 !== t.groups && Array.isArray(t.groups) && t.groups.forEach(function (e) {\n        \"string\" == typeof e.mids && (e.mids = e.mids.split(\" \"));\n      }), t;\n    };\n  }, function (e, t) {\n    e.exports = function e(t) {\n      if (!t) return !1;\n      if (this.length != t.length) return !1;\n\n      for (var n = 0, r = this.length; n < r; n++) {\n        if (this[n] instanceof Array && t[n] instanceof Array) {\n          if (!e.apply(this[n], [t[n]])) return !1;\n        } else if (this[n] != t[n]) return !1;\n      }\n\n      return !0;\n    };\n  }, function (e, t, n) {\n    var r = n(23),\n        i = n(146),\n        o = i.parseSsrcs,\n        a = i.writeSsrcs,\n        s = 3;\n\n    function c(e, t, n) {\n      return e.ssrcs.filter(function (e) {\n        return e.id === t;\n      }).filter(function (e) {\n        return e.attribute === n;\n      }).map(function (e) {\n        return e.value;\n      })[0];\n    }\n\n    function u(e) {\n      this.options = e || {}, this.options.numOfLayers || (this.options.numOfLayers = s), this.ssrcCache = [];\n    }\n\n    function d(e, t) {\n      null != e && Array.isArray(e.media) && e.media.forEach(function (e) {\n        \"video\" === e.type && t(e);\n      });\n    }\n\n    function l(e) {\n      return e && null != e && e.type && \"\" != e.type && e.sdp && \"\" != e.sdp;\n    }\n\n    u.prototype.clearSsrcCache = function () {\n      this.ssrcCache = [];\n    }, u.prototype.setSsrcCache = function (e) {\n      this.ssrcCache = e;\n    }, u.prototype._parseSimLayers = function (e) {\n      var t = e.ssrcGroups && e.ssrcGroups.find(function (e) {\n        return \"SIM\" === e.semantics;\n      });\n      return t ? t.ssrcs.split(\" \").map(function (e) {\n        return parseInt(e);\n      }) : [e.ssrcs[0].id];\n    }, u.prototype._buildNewToOldSsrcMap = function (e, t) {\n      for (var n = {}, r = 0; r < e.length; ++r) {\n        var i = e[r],\n            o = t[r] || null;\n        n[i] = o;\n      }\n\n      return n;\n    }, u.prototype._fillInSourceDataFromCache = function (e) {\n      console.log(this.ssrcCache);\n\n      var t = this._parseSimLayers(e);\n\n      console.log(t);\n\n      var n = c(e, t[0], \"msid\"),\n          r = c(e, t[0], \"cname\"),\n          i = this._buildNewToOldSsrcMap(t, this.ssrcCache);\n\n      console.log(i);\n      var o = this.ssrcCache.filter(function (e) {\n        return -1 === Object.values(i).indexOf(e);\n      });\n      return console.log(o), e.ssrcs.forEach(function (e) {\n        i[e.id] && (e.id = i[e.id]);\n      }), o.forEach(function (t) {\n        e.ssrcs.push({\n          id: t,\n          attribute: \"msid\",\n          value: n\n        }), e.ssrcs.push({\n          id: t,\n          attribute: \"cname\",\n          value: r\n        });\n      }), e.ssrcGroups = e.ssrcGroups || [], e.ssrcGroups.push({\n        semantics: \"SIM\",\n        ssrcs: this.ssrcCache.join(\" \")\n      }), e;\n    }, u.prototype._generateSourceData = function (e, t) {\n      for (var n = function n(e, t) {\n        e.ssrcs.push({\n          id: t,\n          attribute: \"cname\",\n          value: i\n        }), e.ssrcs.push({\n          id: t,\n          attribute: \"msid\",\n          value: r\n        });\n      }, r = c(e, t, \"msid\"), i = c(e, t, \"cname\"), o = [], a = 0; a < this.options.numOfLayers - 1; ++a) {\n        var s = Math.floor(4294967295 * Math.random()) + 0;\n        n(e, s), o.push(s);\n      }\n\n      return e.ssrcGroups = e.ssrcGroups || [], e.ssrcGroups.push({\n        semantics: \"SIM\",\n        ssrcs: t + \" \" + o.join(\" \")\n      }), e;\n    }, u.prototype._restoreSimulcast = function (e) {\n      var t,\n          n = e.ssrcs && e.ssrcs.map(function (e) {\n        return e.id;\n      }).filter(function (e, t, n) {\n        return n.indexOf(e) === t;\n      }).length || 0,\n          r = e.ssrcGroups && e.ssrcGroups.length || 0;\n      if (0 === n || n > 2) return e;\n      if (2 == n && 0 === r) return e;\n      if (1 === n) t = e.ssrcs[0].id;else {\n        var i = e.ssrcGroups.filter(function (e) {\n          return \"FID\" === e.semantics;\n        })[0];\n        if (!i) return e;\n        t = parseInt(i.ssrcs.split(\" \")[0]);\n      }\n      return console.log(\"\"), console.log(\"\"), -1 !== this.ssrcCache.indexOf(t) ? (console.log(\"\"), e = this._fillInSourceDataFromCache(e)) : (console.log(\"\"), e = this._generateSourceData(e, t)), this.ssrcCache = this._parseSimLayers(e), e;\n    }, u.prototype.mungeRemoteDescription = function (e) {\n      if (!l(e)) return e;\n      var t = r.parse(e.sdp),\n          n = this;\n      return d(t, function (e) {\n        n.options.explodeRemoteSimulcast ? function (e) {\n          if (e && Array.isArray(e.ssrcGroups)) for (var t = o(e), n = [], r = e.ssrcGroups.length; r--;) {\n            if (\"SIM\" === e.ssrcGroups[r].semantics) {\n              for (var i = e.ssrcGroups[r].ssrcs.split(\" \"), s = 0; s < i.length; s++) {\n                var c = i[s];\n                n.push(c);\n                var u = t[c].msid.split(\" \");\n                t[c].msid = [u[0], \"/\", s, \" \", u[1], \"/\", s].join(\"\"), t[c].cname = [t[c].cname, \"/\", s].join(\"\"), e.ssrcGroups.forEach(function (e) {\n                  if (\"SIM\" !== e.semantics) {\n                    var r = e.ssrcs.split(\" \");\n                    -1 !== r.indexOf(c) && r.forEach(function (e) {\n                      t[e].msid = t[c].msid, t[e].cname = t[c].cname, e !== c && n.push(e);\n                    });\n                  }\n                });\n              }\n\n              e.ssrcs = a(t, n), e.ssrcGroups.splice(r, 1);\n            }\n          }\n        }(e) : function (e) {\n          if (e && Array.isArray(e.ssrcGroups)) {\n            var t = o(e);\n            e.ssrcGroups.forEach(function (n) {\n              if (\"SIM\" === n.semantics) {\n                console.info(n.ssrcs), n.nuke = !0;\n\n                for (var r = n.ssrcs.split(\" \"), i = 1; i < r.length; i++) {\n                  var o = r[i];\n                  delete t[o], e.ssrcGroups.forEach(function (e) {\n                    if (\"SIM\" !== e.semantics) {\n                      var n = e.ssrcs.split(\" \");\n                      -1 !== n.indexOf(o) && (n.forEach(function (e) {\n                        delete t[e];\n                      }), e.nuke = !0);\n                    }\n                  });\n                }\n              }\n            }), e.ssrcs = a(t);\n\n            for (var n = e.ssrcGroups.length; n--;) {\n              e.ssrcGroups[n].nuke && e.ssrcGroups.splice(n, 1);\n            }\n          } else {}\n        }(e), function (e) {\n          e && (Array.isArray(e.invalid) || (e.invalid = []), e.invalid.some(function (e) {\n            return \"x-google-flag:conference\" === e.value;\n          }) || e.invalid.push({\n            value: \"x-google-flag:conference\"\n          }));\n        }(e);\n      }), new RTCSessionDescription({\n        type: e.type,\n        sdp: r.write(t)\n      });\n    }, u.prototype.mungeLocalDescription = function (e) {\n      if (!l(e)) return e;\n      var t = r.parse(e.sdp),\n          n = this;\n      return d(t, function (e) {\n        \"recvonly\" != e.direction && \"inactive\" != e.direction && n._restoreSimulcast(e);\n      }), new RTCSessionDescription({\n        type: e.type,\n        sdp: r.write(t)\n      });\n    }, e.exports = u;\n  }, function (e, t) {\n    t.writeSsrcs = function (e, t) {\n      var n = [];\n\n      if (void 0 !== e && 0 !== Object.keys(e).length) {\n        Array.isArray(t) || (t = []);\n\n        for (var r = 0; r < t.length; r++) {\n          var i = t[r],\n              o = e[i];\n          Object.keys(o).forEach(function (e) {\n            n.push({\n              id: i,\n              attribute: e,\n              value: o[e]\n            });\n          });\n        }\n\n        Object.keys(e).forEach(function (r) {\n          if (r = parseInt(r), !(t.indexOf(r) >= 0)) {\n            var i = e[r];\n            Object.keys(i).forEach(function (e) {\n              n.push({\n                id: r,\n                attribute: e,\n                value: i[e]\n              });\n            });\n          }\n        });\n      }\n\n      return n;\n    }, t.parseSsrcs = function (e) {\n      var t = {};\n      return void 0 !== e.ssrcs && Array.isArray(e.ssrcs) && e.ssrcs.forEach(function (e) {\n        t[e.id] || (t[e.id] = {}), t[e.id][e.attribute] = e.value;\n      }), t;\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      return e.webpackPolyfill || (e.deprecate = function () {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, \"loaded\", {\n        enumerable: !0,\n        get: function get() {\n          return e.l;\n        }\n      }), Object.defineProperty(e, \"id\", {\n        enumerable: !0,\n        get: function get() {\n          return e.i;\n        }\n      }), e.webpackPolyfill = 1), e;\n    };\n  }, function (e, t, n) {\n    !function (e) {\n      \"use strict\";\n\n      e.Strophe.addConnectionPlugin(\"disco\", {\n        _connection: null,\n        _identities: [],\n        _features: [],\n        _items: [],\n        init: function init(t) {\n          this._connection = t, this._identities = [], this._features = [], this._items = [], t.addHandler(this._onDiscoInfo.bind(this), e.Strophe.NS.DISCO_INFO, \"iq\", \"get\", null, null), t.addHandler(this._onDiscoItems.bind(this), e.Strophe.NS.DISCO_ITEMS, \"iq\", \"get\", null, null);\n        },\n        addIdentity: function addIdentity(e, t, n, r) {\n          for (var i = 0; i < this._identities.length; i++) {\n            if (this._identities[i].category == e && this._identities[i].type == t && this._identities[i].name == n && this._identities[i].lang == r) return !1;\n          }\n\n          return this._identities.push({\n            category: e,\n            type: t,\n            name: n,\n            lang: r\n          }), !0;\n        },\n        addFeature: function addFeature(e) {\n          for (var t = 0; t < this._features.length; t++) {\n            if (this._features[t] == e) return !1;\n          }\n\n          return this._features.push(e), !0;\n        },\n        removeFeature: function removeFeature(e) {\n          for (var t = 0; t < this._features.length; t++) {\n            if (this._features[t] === e) return this._features.splice(t, 1), !0;\n          }\n\n          return !1;\n        },\n        addItem: function addItem(e, t, n, r) {\n          return !(n && !r || (this._items.push({\n            jid: e,\n            name: t,\n            node: n,\n            call_back: r\n          }), 0));\n        },\n        info: function info(t, n, r, i, o) {\n          var a = {\n            xmlns: e.Strophe.NS.DISCO_INFO\n          };\n          n && (a.node = n);\n          var s = e.$iq({\n            from: this._connection.jid,\n            to: t,\n            type: \"get\"\n          }).c(\"query\", a);\n\n          this._connection.sendIQ(s, r, i, o);\n        },\n        items: function items(t, n, r, i, o) {\n          var a = {\n            xmlns: e.Strophe.NS.DISCO_ITEMS\n          };\n          n && (a.node = n);\n          var s = e.$iq({\n            from: this._connection.jid,\n            to: t,\n            type: \"get\"\n          }).c(\"query\", a);\n\n          this._connection.sendIQ(s, r, i, o);\n        },\n        _buildIQResult: function _buildIQResult(t, n) {\n          var r = t.getAttribute(\"id\"),\n              i = t.getAttribute(\"from\"),\n              o = e.$iq({\n            type: \"result\",\n            id: r\n          });\n          return null !== i && o.attrs({\n            to: i\n          }), o.c(\"query\", n);\n        },\n        _onDiscoInfo: function _onDiscoInfo(t) {\n          var n,\n              r = t.getElementsByTagName(\"query\")[0].getAttribute(\"node\"),\n              i = {\n            xmlns: e.Strophe.NS.DISCO_INFO\n          };\n          r && (i.node = r);\n\n          var o = this._buildIQResult(t, i);\n\n          for (n = 0; n < this._identities.length; n++) {\n            i = {\n              category: this._identities[n].category,\n              type: this._identities[n].type\n            }, this._identities[n].name && (i.name = this._identities[n].name), this._identities[n].lang && (i[\"xml:lang\"] = this._identities[n].lang), o.c(\"identity\", i).up();\n          }\n\n          for (n = 0; n < this._features.length; n++) {\n            o.c(\"feature\", {\n              var: this._features[n]\n            }).up();\n          }\n\n          return this._connection.send(o.tree()), !0;\n        },\n        _onDiscoItems: function _onDiscoItems(t) {\n          var n,\n              r,\n              i = {\n            xmlns: e.Strophe.NS.DISCO_ITEMS\n          },\n              o = t.getElementsByTagName(\"query\")[0].getAttribute(\"node\");\n\n          if (o) {\n            for (i.node = o, n = [], r = 0; r < this._items.length; r++) {\n              if (this._items[r].node == o) {\n                n = this._items[r].call_back(t);\n                break;\n              }\n            }\n          } else n = this._items;\n\n          var a = this._buildIQResult(t, i);\n\n          for (r = 0; r < n.length; r++) {\n            var s = {\n              jid: n[r].jid\n            };\n            n[r].name && (s.name = n[r].name), n[r].node && (s.node = n[r].node), a.c(\"item\", s).up();\n          }\n\n          return this._connection.send(a.tree()), !0;\n        }\n      });\n    }(n(2));\n  }, function (e, t, n) {\n    (function (e) {\n      var r = void 0 !== e && e || \"undefined\" != typeof self && self || window,\n          i = Function.prototype.apply;\n\n      function o(e, t) {\n        this._id = e, this._clearFn = t;\n      }\n\n      t.setTimeout = function () {\n        return new o(i.call(setTimeout, r, arguments), clearTimeout);\n      }, t.setInterval = function () {\n        return new o(i.call(setInterval, r, arguments), clearInterval);\n      }, t.clearTimeout = t.clearInterval = function (e) {\n        e && e.close();\n      }, o.prototype.unref = o.prototype.ref = function () {}, o.prototype.close = function () {\n        this._clearFn.call(r, this._id);\n      }, t.enroll = function (e, t) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = t;\n      }, t.unenroll = function (e) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;\n      }, t._unrefActive = t.active = function (e) {\n        clearTimeout(e._idleTimeoutId);\n        var t = e._idleTimeout;\n        t >= 0 && (e._idleTimeoutId = setTimeout(function () {\n          e._onTimeout && e._onTimeout();\n        }, t));\n      }, n(150), t.setImmediate = \"undefined\" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = \"undefined\" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;\n    }).call(this, n(44));\n  }, function (e, t, n) {\n    (function (e, t) {\n      !function (e, n) {\n        \"use strict\";\n\n        if (!e.setImmediate) {\n          var r,\n              i,\n              o,\n              a,\n              s,\n              c = 1,\n              u = {},\n              d = !1,\n              l = e.document,\n              p = Object.getPrototypeOf && Object.getPrototypeOf(e);\n          p = p && p.setTimeout ? p : e, \"[object process]\" === {}.toString.call(e.process) ? r = function r(e) {\n            t.nextTick(function () {\n              h(e);\n            });\n          } : !function () {\n            if (e.postMessage && !e.importScripts) {\n              var t = !0,\n                  n = e.onmessage;\n              return e.onmessage = function () {\n                t = !1;\n              }, e.postMessage(\"\", \"*\"), e.onmessage = n, t;\n            }\n          }() ? e.MessageChannel ? ((o = new MessageChannel()).port1.onmessage = function (e) {\n            h(e.data);\n          }, r = function r(e) {\n            o.port2.postMessage(e);\n          }) : l && \"onreadystatechange\" in l.createElement(\"script\") ? (i = l.documentElement, r = function r(e) {\n            var t = l.createElement(\"script\");\n            t.onreadystatechange = function () {\n              h(e), t.onreadystatechange = null, i.removeChild(t), t = null;\n            }, i.appendChild(t);\n          }) : r = function r(e) {\n            setTimeout(h, 0, e);\n          } : (a = \"setImmediate$\" + Math.random() + \"$\", s = function s(t) {\n            t.source === e && \"string\" == typeof t.data && 0 === t.data.indexOf(a) && h(+t.data.slice(a.length));\n          }, e.addEventListener ? e.addEventListener(\"message\", s, !1) : e.attachEvent(\"onmessage\", s), r = function r(t) {\n            e.postMessage(a + t, \"*\");\n          }), p.setImmediate = function (e) {\n            \"function\" != typeof e && (e = new Function(\"\" + e));\n\n            for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) {\n              t[n] = arguments[n + 1];\n            }\n\n            var i = {\n              callback: e,\n              args: t\n            };\n            return u[c] = i, r(c), c++;\n          }, p.clearImmediate = f;\n        }\n\n        function f(e) {\n          delete u[e];\n        }\n\n        function h(e) {\n          if (d) setTimeout(h, 0, e);else {\n            var t = u[e];\n\n            if (t) {\n              d = !0;\n\n              try {\n                !function (e) {\n                  var t = e.callback,\n                      r = e.args;\n\n                  switch (r.length) {\n                    case 0:\n                      t();\n                      break;\n\n                    case 1:\n                      t(r[0]);\n                      break;\n\n                    case 2:\n                      t(r[0], r[1]);\n                      break;\n\n                    case 3:\n                      t(r[0], r[1], r[2]);\n                      break;\n\n                    default:\n                      t.apply(n, r);\n                  }\n                }(t);\n              } finally {\n                f(e), d = !1;\n              }\n            }\n          }\n        }\n      }(\"undefined\" == typeof self ? void 0 === e ? this : e : self);\n    }).call(this, n(44), n(48));\n  }, function (e, t) {\n    e.exports = function (e, t, n, r) {\n      this.blob = e, this.name = t, this.startTime = n, this.wordArray = r;\n    };\n  }, function (e, t, n) {\n    var r = n(153),\n        i = n(154),\n        o = n(65),\n        a = function a() {\n      this.url = function () {\n        var e = \"config does not contain an url to a Sphinx4 https server\";\n        if (void 0 === config.sphinxURL) console.log('');else {\n          var t = config.sphinxURL;\n          if (void 0 !== t.includes && t.includes(\"https://\")) return t;\n          console.log('');\n        }\n      }();\n    };\n\n    a.prototype = Object.create(r.prototype), a.constructor = a, a.prototype.sendRequest = function (e, t) {\n      console.log(''), console.log('');\n      var n = new XMLHttpRequest();\n      n.onreadystatechange = function () {\n        if (n.readyState === XMLHttpRequest.DONE && 200 === n.status) t(n.responseText);else if (n.readyState === XMLHttpRequest.DONE) throw new Error(\"unable to accept response from sphinx server. status: \".concat(n.status));\n      }, n.open(\"POST\", this.url), n.setRequestHeader(\"Content-Type\", o.determineCorrectFileType()), n.send(e), console.log(\"\");\n    }, a.prototype.formatResponse = function (e) {\n      var t = JSON.parse(e).objects;\n      t.shift();\n      var n = [];\n      return t.forEach(function (e) {\n        return e.filler || n.push(new i(e.word, e.start, e.end));\n      }), n;\n    }, a.prototype.verify = function (e) {\n      if (console.log(\"\"), \"string\" != typeof e) return !1;\n      var t;\n\n      try {\n        t = JSON.parse(e);\n      } catch (e) {\n        return console.log(''), !1;\n      }\n\n      if (void 0 === t.objects) return !1;\n      var n = t.objects;\n      return !(!n[0] || !n[0][\"session-id\"]);\n    }, e.exports = a;\n  }, function (e, t) {\n    var n = function n() {\n      throw new Error(\"TranscriptionService is abstract and cannot becreated\");\n    };\n\n    n.prototype.send = function (e, t) {\n      var n = this;\n      this.sendRequest(e.blob, function (r) {\n        n.verify(r) ? e.wordArray = n.formatResponse(r) : (console.log(\"\"), e.wordArray = []), t(e);\n      });\n    }, n.prototype.sendRequest = function (e, t) {\n      throw new Error(\"TranscriptionService.sendRequest is abstract\");\n    }, n.prototype.formatResponse = function (e) {\n      throw new Error(\"TranscriptionService.format is abstract\");\n    }, n.prototype.verify = function (e) {\n      throw new Error(\"TranscriptionService.verify is abstract\");\n    }, e.exports = n;\n  }, function (e, t) {\n    var n = function n(e, t, _n2) {\n      this.word = e, this.begin = t, this.end = _n2;\n    };\n\n    n.prototype.getWord = function () {\n      return this.word;\n    }, n.prototype.getBeginTime = function () {\n      return this.begin;\n    }, n.prototype.getEndTime = function () {\n      return this.end;\n    }, e.exports = n;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}