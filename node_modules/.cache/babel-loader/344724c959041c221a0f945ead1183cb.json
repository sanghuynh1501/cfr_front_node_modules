{"ast":null,"code":"import \"antd/es/tooltip/style\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/breadcrumb/style\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/dashboard/userDetail/DetailUser.jsx\";\n\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { AvatarComponent } from '@components';\nimport { newNotification, isSupperAdmin, hasPermission } from '@utils';\nimport FormEditInfo from '../profile/FormEditInfo';\nimport FormChangePMI from '../profile/FormChangePMI';\nimport FormUpdatePassword from './FormUpdatePassword';\nimport ModalDelete from '../components/ModalDelete';\nimport ModalChangeAvatar from '../profile/ModalChangeAvatar';\nimport ModalDeleteAvatar from '../profile/ModalDeleteAvatar';\nimport chervonRightIcon from \"@misc/images/chervon-right.svg\";\nimport { PER } from '@constants';\nimport { inject, observer } from 'mobx-react';\nimport { withRouter, Link } from 'react-router-dom';\nimport ButtonMoreNodes from '../components/ButtonMoreNodes/ButtonMoreNodes';\nvar UserInfo = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), withRouter(_class = _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(UserInfo, _React$PureComponent);\n\n  var _super = _createSuper(UserInfo);\n\n  function UserInfo(props) {\n    var _this;\n\n    _classCallCheck(this, UserInfo);\n\n    _this = _super.call(this, props);\n\n    _this._generatePMILink = function (e) {\n      var _this$props$user;\n\n      return \"\".concat(e, \"/cfr/conference/\").concat((_this$props$user = _this.props.user) === null || _this$props$user === void 0 ? void 0 : _this$props$user.personalMeetingCode);\n    };\n\n    _this._handleCopyLink = function (e) {\n      var el = document.createElement('textarea');\n      el.value = _this._generatePMILink(e);\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      return newNotification(_this.props.i18n.t('notification.copyTextSuccess'), 'success', {\n        container: 'top-right'\n      });\n    };\n\n    _this._toggleEditInfo = function () {\n      return _this.setState(function (prev) {\n        return {\n          visibleEditInfo: !prev.visibleEditInfo\n        };\n      });\n    };\n\n    _this._handleOpenChangeAvatar = function () {\n      return _this.setState({\n        visibleChangeAvatar: true\n      });\n    };\n\n    _this._handleCloseChangeAvatar = function () {\n      return _this.setState({\n        visibleChangeAvatar: false\n      });\n    };\n\n    _this._handleOpenDeleteAvatar = function () {\n      return _this.setState({\n        visibleDeleteAvatar: true\n      });\n    };\n\n    _this._handleCloseDeleteAvatar = function () {\n      return _this.setState({\n        visibleDeleteAvatar: false\n      });\n    };\n\n    _this._handleToggleEditPMI = function () {\n      return _this.setState(function (prev) {\n        return {\n          visibleEditPMI: !prev.visibleEditPMI\n        };\n      });\n    };\n\n    _this._handleToggleEditPassword = function () {\n      return _this.setState(function (prev) {\n        return {\n          visibleEditPassword: !prev.visibleEditPassword\n        };\n      });\n    };\n\n    _this.state = {\n      visibleEditInfo: false,\n      visibleEditPMI: false,\n      visibleEditPassword: false,\n      visibleChangeAvatar: false,\n      visibleDeleteAvatar: false\n    };\n    return _this;\n  }\n\n  _createClass(UserInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _user$profiles,\n          _user$profiles$find,\n          _user$profiles$find$r;\n\n      var _this$props = this.props,\n          user = _this$props.user,\n          i18n = _this$props.i18n,\n          queryInfoUser = _this$props.queryInfoUser,\n          mutationDeleteUsers = _this$props.mutationDeleteUsers,\n          _this$state = this.state,\n          visibleEditInfo = _this$state.visibleEditInfo,\n          visibleEditPMI = _this$state.visibleEditPMI,\n          visibleEditPassword = _this$state.visibleEditPassword,\n          visibleChangeAvatar = _this$state.visibleChangeAvatar,\n          visibleDeleteAvatar = _this$state.visibleDeleteAvatar;\n      var myInfo = this.props.globalState.myInfo;\n      var profiles = myInfo === null || myInfo === void 0 ? void 0 : myInfo.profiles;\n      var isAllowDeleteUser = (isSupperAdmin(profiles) || hasPermission(profiles, PER.P_USER_DELETE)) && !isSupperAdmin(user.profiles);\n      var isAllowEditUser = (isSupperAdmin(profiles) || hasPermission(profiles, PER.P_USER_EDIT)) && !isSupperAdmin(user.profiles);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"detail-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Breadcrumb, {\n        separator: /*#__PURE__*/React.createElement(\"img\", {\n          src: chervonRightIcon,\n          alt: \"icon\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 32\n          }\n        }),\n        className: \"breadcrumb-template\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/users\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, i18n.t('user.allUsers'))), /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, user ? \"\".concat(user.firstname, \" \").concat(user.lastname) : '')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avatar-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AvatarComponent, Object.assign({}, user, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      })), isAllowEditUser && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avatar-action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this._handleOpenChangeAvatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      }, i18n.t('common.change')), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        style: {\n          display: user && user.imageUrl ? 'inline-block' : 'none'\n        },\n        onClick: this._handleOpenDeleteAvatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }\n      }, i18n.t('common.delete'))))), visibleEditInfo ? /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"edit-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormEditInfo, {\n        user: user,\n        handleToggleEditInfo: this._toggleEditInfo,\n        queryUser: queryInfoUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"profile-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }, user ? \"\".concat(user.firstname, \" \").concat(user.lastname) : '')), /*#__PURE__*/React.createElement(_Col, {\n        span: 3,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, isAllowEditUser && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this._toggleEditInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, i18n.t('common.edit'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, i18n.t('user.personalMeetingId'), \":\"), visibleEditPMI ? /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormChangePMI, {\n        user: user,\n        handleToggleEditPMI: this._handleToggleEditPMI,\n        refetch: queryInfoUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 14,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'column'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, user.personalMeetingCode), /*#__PURE__*/React.createElement(_Tooltip, {\n        placement: \"right\",\n        title: i18n.t('common.copyLink'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick(e) {\n          return _this2._handleCopyLink(window.location.origin);\n        },\n        className: \"clickableSpan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }\n      }, this._generatePMILink(window.location.origin))))), /*#__PURE__*/React.createElement(_Col, {\n        span: 4,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }\n      }, isAllowEditUser && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this._handleToggleEditPMI,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, i18n.t('common.edit'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }, \"Email:\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }\n      }, user.email)), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }, i18n.t('user.account'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }\n      }, user.username)), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }\n      }, i18n.t('common.password'), \":\")), visibleEditPassword ? /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormUpdatePassword, Object.assign({}, user, {\n        handleToggleEditPassword: this._handleToggleEditPassword,\n        queryMyInfo: queryInfoUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }\n      }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Col, {\n        span: 15,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 19\n        }\n      }, \"***********\")), /*#__PURE__*/React.createElement(_Col, {\n        span: 3,\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, isAllowEditUser && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-edit\",\n        onClick: this._handleToggleEditPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }\n      }, i18n.t('user.reset'))))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }\n      }, i18n.t('user.phoneNumber'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }\n      }, user.phoneNumber)), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }\n      }, i18n.t('user.role'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }\n      }, (user === null || user === void 0 ? void 0 : (_user$profiles = user.profiles) === null || _user$profiles === void 0 ? void 0 : _user$profiles.length) ? (_user$profiles$find = user.profiles.find(function (profile) {\n        return !profile.node;\n      })) === null || _user$profiles$find === void 0 ? void 0 : (_user$profiles$find$r = _user$profiles$find.role) === null || _user$profiles$find$r === void 0 ? void 0 : _user$profiles$find$r.name : '')), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 6,\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }\n      }, i18n.t('user.allNodes'), \":\"), /*#__PURE__*/React.createElement(_Col, {\n        span: 18,\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ButtonMoreNodes, {\n        profiles: user === null || user === void 0 ? void 0 : user.profiles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }\n      }))), isAllowDeleteUser && /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        onClick: function onClick() {\n          return _this2.setState({\n            visible: true\n          });\n        },\n        className: \"deleteThisMeeting\",\n        span: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ModalDelete, {\n        itemToDelete: user,\n        handleDeleteItem: mutationDeleteUsers,\n        title: i18n.t('user.deleteUser'),\n        textButtonDelete: i18n.t('user.deleteUser'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }\n      }))), isAllowEditUser && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalChangeAvatar, Object.assign({}, user, {\n        visible: visibleChangeAvatar,\n        handleClose: this._handleCloseChangeAvatar,\n        queryMyInfo: queryInfoUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(ModalDeleteAvatar, Object.assign({}, user, {\n        visible: visibleDeleteAvatar,\n        handleClose: this._handleCloseDeleteAvatar,\n        queryMyInfo: queryInfoUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return UserInfo;\n}(React.PureComponent), _temp)) || _class) || _class) || _class);\nexport default withTranslation()(UserInfo);","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/dashboard/userDetail/DetailUser.jsx"],"names":["React","withTranslation","AvatarComponent","newNotification","isSupperAdmin","hasPermission","FormEditInfo","FormChangePMI","FormUpdatePassword","ModalDelete","ModalChangeAvatar","ModalDeleteAvatar","PER","inject","observer","withRouter","Link","ButtonMoreNodes","UserInfo","stores","props","_generatePMILink","e","user","personalMeetingCode","_handleCopyLink","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","i18n","t","container","_toggleEditInfo","setState","prev","visibleEditInfo","_handleOpenChangeAvatar","visibleChangeAvatar","_handleCloseChangeAvatar","_handleOpenDeleteAvatar","visibleDeleteAvatar","_handleCloseDeleteAvatar","_handleToggleEditPMI","visibleEditPMI","_handleToggleEditPassword","visibleEditPassword","state","queryInfoUser","mutationDeleteUsers","myInfo","globalState","profiles","isAllowDeleteUser","P_USER_DELETE","isAllowEditUser","P_USER_EDIT","chervonRightIcon","firstname","lastname","display","imageUrl","justifyContent","window","location","origin","email","username","phoneNumber","length","find","profile","node","role","name","visible","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { Row, Col, Tooltip, Breadcrumb } from 'antd'\n\nimport { AvatarComponent } from '@components'\nimport { newNotification, isSupperAdmin, hasPermission } from '@utils'\n\nimport FormEditInfo from '../profile/FormEditInfo'\nimport FormChangePMI from '../profile/FormChangePMI'\nimport FormUpdatePassword from './FormUpdatePassword'\nimport ModalDelete from '../components/ModalDelete'\nimport ModalChangeAvatar from '../profile/ModalChangeAvatar'\nimport ModalDeleteAvatar from '../profile/ModalDeleteAvatar'\n\nimport chervonRightIcon from '@misc/images/chervon-right.svg'\nimport { PER } from '@constants'\nimport { inject, observer } from 'mobx-react'\nimport { withRouter, Link } from 'react-router-dom'\nimport ButtonMoreNodes from '../components/ButtonMoreNodes/ButtonMoreNodes'\n\n@withRouter\n@inject(({ stores }) => stores)\n@observer\nclass UserInfo extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visibleEditInfo: false,\n      visibleEditPMI: false,\n      visibleEditPassword: false,\n      visibleChangeAvatar: false,\n      visibleDeleteAvatar: false\n    }\n  }\n\n  _generatePMILink = e => {\n    return `${e}/cfr/conference/${this.props.user?.personalMeetingCode}`\n  }\n\n  _handleCopyLink = e => {\n    const el = document.createElement('textarea')\n    el.value = this._generatePMILink(e)\n    document.body.appendChild(el)\n    el.select()\n    document.execCommand('copy')\n    document.body.removeChild(el)\n\n    return newNotification(this.props.i18n.t('notification.copyTextSuccess'), 'success', {\n      container: 'top-right'\n    })\n  }\n\n  _toggleEditInfo = () => this.setState(prev => ({ visibleEditInfo: !prev.visibleEditInfo }))\n\n  _handleOpenChangeAvatar = () => this.setState({ visibleChangeAvatar: true })\n  _handleCloseChangeAvatar = () => this.setState({ visibleChangeAvatar: false })\n\n  _handleOpenDeleteAvatar = () => this.setState({ visibleDeleteAvatar: true })\n  _handleCloseDeleteAvatar = () => this.setState({ visibleDeleteAvatar: false })\n\n  _handleToggleEditPMI = () =>\n    this.setState(prev => ({\n      visibleEditPMI: !prev.visibleEditPMI\n    }))\n\n  _handleToggleEditPassword = () =>\n    this.setState(prev => ({\n      visibleEditPassword: !prev.visibleEditPassword\n    }))\n\n  render() {\n    const {\n      props: { user, i18n, queryInfoUser, mutationDeleteUsers },\n      state: { visibleEditInfo, visibleEditPMI, visibleEditPassword, visibleChangeAvatar, visibleDeleteAvatar }\n    } = this\n\n    const {\n      globalState: { myInfo },\n    } = this.props\n\n    const profiles = myInfo?.profiles\n\n    const isAllowDeleteUser = (isSupperAdmin(profiles) || hasPermission(profiles, PER.P_USER_DELETE)) && !isSupperAdmin(user.profiles)\n    const isAllowEditUser = (isSupperAdmin(profiles) || hasPermission(profiles, PER.P_USER_EDIT)) && !isSupperAdmin(user.profiles)\n\n    return (\n      <div className='detail-user'>\n        <Breadcrumb separator={<img src={chervonRightIcon} alt='icon' />} className='breadcrumb-template'>\n          <Breadcrumb.Item>\n            <Link to='/users'>{i18n.t('user.allUsers')}</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{user ? `${user.firstname} ${user.lastname}` : ''}</Breadcrumb.Item>\n        </Breadcrumb>\n\n        <Row>\n          <Col span={6}>\n            <div className='avatar-wrapper'>\n              <AvatarComponent {...user} />\n              {isAllowEditUser && (\n                <div className='avatar-action'>\n                  <button type='button' onClick={this._handleOpenChangeAvatar}>\n                    {i18n.t('common.change')}\n                  </button>\n                  <button\n                    type='button'\n                    style={{\n                      display: user && user.imageUrl ? 'inline-block' : 'none'\n                    }}\n                    onClick={this._handleOpenDeleteAvatar}\n                  >\n                    {i18n.t('common.delete')}\n                  </button>\n                </div>\n              )}\n            </div>\n          </Col>\n\n          {visibleEditInfo ? (\n            <Col span={18}>\n              <div className='edit-wrapper'>\n                <FormEditInfo\n                  user={user}\n                  handleToggleEditInfo={this._toggleEditInfo}\n                  queryUser={queryInfoUser}\n                />\n              </div>\n            </Col>\n          ) : (\n              <>\n                <Col span={15}>\n                  <span className='profile-name'>{user ? `${user.firstname} ${user.lastname}` : ''}</span>\n                </Col>\n                <Col span={3} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                  {isAllowEditUser && (\n                    <button type='button' className='btn-edit' onClick={this._toggleEditInfo}>\n                      {i18n.t('common.edit')}\n                    </button>\n                  )}\n                </Col>\n              </>\n            )}\n        </Row>\n        <Row>\n          <Col span={6} className='title'>\n            {i18n.t('user.personalMeetingId')}:\n          </Col>\n\n          {visibleEditPMI ? (\n            <Col span={18} className='content'>\n              <FormChangePMI\n                user={user}\n                handleToggleEditPMI={this._handleToggleEditPMI}\n                refetch={queryInfoUser}\n              />\n            </Col>\n          ) : (\n              <>\n                <Col span={14} className='content'>\n                  <div>\n                    <span\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'column'\n                      }}\n                    >\n                      {user.personalMeetingCode}\n                    </span>\n                    <Tooltip placement='right' title={i18n.t('common.copyLink')}>\n                      <span onClick={e => this._handleCopyLink(window.location.origin)} className='clickableSpan'>\n                        {this._generatePMILink(window.location.origin)}\n                      </span>\n                    </Tooltip>\n                  </div>\n                </Col>\n                <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                  {isAllowEditUser && (\n                    <button type='button' className='btn-edit' onClick={this._handleToggleEditPMI}>\n                      {i18n.t('common.edit')}\n                    </button>\n                  )}\n                </Col>\n              </>\n            )}\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            Email:\n          </Col>\n          <Col span={18} className='content'>\n            {user.email}\n          </Col>\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            {i18n.t('user.account')}:\n          </Col>\n          <Col span={18} className='content'>\n            {user.username}\n          </Col>\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            <span>{i18n.t('common.password')}:</span>\n          </Col>\n          {visibleEditPassword ? (\n            <Col span={18}>\n              <FormUpdatePassword\n                {...user}\n                handleToggleEditPassword={this._handleToggleEditPassword}\n                queryMyInfo={queryInfoUser}\n              />\n            </Col>\n          ) : (\n              <>\n                <Col span={15} className='content'>\n                  <span>***********</span>\n                </Col>\n                <Col span={3} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                  {isAllowEditUser && (\n                    <button type='button' className='btn-edit' onClick={this._handleToggleEditPassword}>\n                      {i18n.t('user.reset')}\n                    </button>\n                  )}\n                </Col>\n              </>\n            )}\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            {i18n.t('user.phoneNumber')}:\n          </Col>\n          <Col span={18} className='content'>\n            {user.phoneNumber}\n          </Col>\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            {i18n.t('user.role')}:\n          </Col>\n          <Col span={18} className='content'>\n            {user?.profiles?.length ? user.profiles.find(profile => !profile.node)?.role?.name : ''}\n          </Col>\n        </Row>\n\n        <Row>\n          <Col span={6} className='title'>\n            {i18n.t('user.allNodes')}:\n          </Col>\n          <Col span={18} className='content'>\n            <ButtonMoreNodes profiles={user?.profiles} />\n          </Col>\n        </Row>\n\n        {isAllowDeleteUser && (\n          <Row>\n            <Col onClick={() => this.setState({ visible: true })} className='deleteThisMeeting' span={6}>\n              <ModalDelete\n                itemToDelete={user}\n                handleDeleteItem={mutationDeleteUsers}\n                title={i18n.t('user.deleteUser')}\n                textButtonDelete={i18n.t('user.deleteUser')}\n              />\n            </Col>\n          </Row>\n        )}\n\n        {isAllowEditUser && (\n          <>\n            <ModalChangeAvatar\n              {...user}\n              visible={visibleChangeAvatar}\n              handleClose={this._handleCloseChangeAvatar}\n              queryMyInfo={queryInfoUser}\n            />\n\n            <ModalDeleteAvatar\n              {...user}\n              visible={visibleDeleteAvatar}\n              handleClose={this._handleCloseDeleteAvatar}\n              queryMyInfo={queryInfoUser}\n            />\n          </>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default withTranslation()(UserInfo)\n"]},"metadata":{},"sourceType":"module"}