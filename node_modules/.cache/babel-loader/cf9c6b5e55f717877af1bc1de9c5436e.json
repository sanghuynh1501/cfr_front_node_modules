{"ast":null,"code":"import \"antd/es/carousel/style\";\nimport _Carousel from \"antd/es/carousel\";\nimport \"antd/es/dropdown/style\";\nimport _Dropdown from \"antd/es/dropdown\";\nimport \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sang/js/cfr-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/home/sang/js/cfr-frontend/src/pages/conference2/jitsi/layouts/Share.jsx\";\n\nimport React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport Cursur from \"@misc/images/ngocly/cursor.svg\";\nimport Undo from \"@misc/images/ngocly/undo.svg\";\nimport Rectangle from \"@misc/images/ngocly/rectangle.svg\";\nimport Circle from \"@misc/images/ngocly/circle.svg\";\nimport Pencil from \"@misc/images/ngocly/pencil.svg\";\nimport Arrow from \"@misc/images/ngocly/arrow.svg\";\nimport BGColor from \"@misc/images/ngocly/paint.svg\";\nimport Clear from \"@misc/images/ngocly/clear.svg\";\nimport Brush from \"@misc/images/ngocly/brush.svg\";\nimport { _SLIDE, _drawType } from '@constants';\nimport client, { M_SLIDE_SHOW, M_DRAW_SCREEN } from '@graphql';\nimport ModalContentResource from '@pages/conference2/modals/ModalContentResource';\nimport Canvas from '../components/Canvas';\npdfjs.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version, \"/pdf.worker.js\");\nvar listColor = ['F44235', 'EA1E63', '9C27B1', '673AB6', '3E50B5', '2196F3', '02A9F5', '00BCD5', '009788', '4BB050', '8BC24A', 'CDDC39', 'FEEB3C', 'FEC107', 'FF9700', 'FE5722', '785546', '9E9E9E', '697D8A'];\nvar listHeight = [1, 2, 3, 4, 5];\nvar ShareResourceScreen = (_dec = inject(function (_ref) {\n  var stores = _ref.stores;\n  return stores;\n}), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inherits(ShareResourceScreen, _React$Component);\n\n  var _super = _createSuper(ShareResourceScreen);\n\n  function ShareResourceScreen(props) {\n    var _this;\n\n    _classCallCheck(this, ShareResourceScreen);\n\n    _this = _super.call(this, props);\n\n    _this._renderResource = function (imageURL) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: imageURL,\n        id: imageURL,\n        src: imageURL,\n        alt: \"img\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this._visibleRotate = function () {\n      var _this$props$conferenc = _this.props.conferenceState,\n          fileOpen = _this$props$conferenc.fileOpen,\n          activeDraw = _this$props$conferenc.activeDraw;\n      if (!fileOpen) return false;\n      if (fileOpen.isSlide) return false;\n      if (fileOpen.isImage && activeDraw) return false;\n      return true;\n    };\n\n    _this._canNext = function () {\n      return _this.props.conferenceState.positionSlide < _this.props.conferenceState.fileOpen.resources.length - 1;\n    };\n\n    _this._canPrevious = function () {\n      return _this.props.conferenceState.positionSlide > 0;\n    };\n\n    _this._handleControl = function (type) {\n      if (type === _SLIDE._actionSlide.NEXT) {\n        // this.carousel.slick.slickNext()\n        _this._mutateSlide(type);\n      }\n\n      if (type === _SLIDE._actionSlide.PREVIOUS) {\n        // this.carousel.slick.slickPrev()\n        _this._mutateSlide(type);\n      }\n    };\n\n    _this._mutateSlide = function (type) {\n      client.mutate({\n        mutation: M_SLIDE_SHOW,\n        variables: {\n          _id: _this.props.conferenceState.fileOpen._id,\n          type: type\n        }\n      });\n    };\n\n    _this._onDocumentLoadSuccess = function (_ref2) {\n      var numPages = _ref2.numPages;\n\n      _this.setState({\n        numPages: numPages,\n        pageNumber: 1\n      });\n    };\n\n    _this._nextPage = function () {\n      return _this.setState(function (prev) {\n        return {\n          pageNumber: prev.pageNumber + 1\n        };\n      });\n    };\n\n    _this._prevPage = function () {\n      return _this.setState(function (prev) {\n        return {\n          pageNumber: prev.pageNumber - 1\n        };\n      });\n    };\n\n    _this._getCurrentRotationElm = function (elm) {\n      var st = window.getComputedStyle(elm, null);\n      var tm = st.getPropertyValue('-webkit-transform') || st.getPropertyValue('-moz-transform') || st.getPropertyValue('-ms-transform') || st.getPropertyValue('-o-transform') || st.getPropertyValue('transform') || 'none';\n\n      if (tm !== 'none') {\n        var values = tm.split('(')[1].split(')')[0].split(',');\n        var angle = Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n        return angle < 0 ? angle + 360 : angle;\n      }\n\n      return 0;\n    };\n\n    _this._rotateLeft = function (type) {\n      if (type === 'image') {\n        var img = document.getElementById(_this.props.conferenceState.fileOpen.resources[0]);\n        var canvasDraw = document.getElementsByClassName('konvajs-content');\n        var rotate = _this._getCurrentRotationElm(img) - 90;\n        img.style = \"transform: rotate(\".concat(rotate < 0 ? rotate + 360 : rotate, \"deg)\");\n        canvasDraw[0].style.transform = \"rotate(\".concat(rotate < 0 ? rotate + 360 : rotate, \"deg)\");\n      }\n\n      if (type === 'pdf') {\n        var pdf = document.getElementsByClassName('react-pdf__Page__canvas');\n\n        var _rotate = _this._getCurrentRotationElm(pdf[0]) - 90;\n\n        pdf[0].style = \"transform: rotate(\".concat(_rotate < 0 ? _rotate + 360 : _rotate, \"deg)\");\n      }\n    };\n\n    _this._rotateRight = function (type) {\n      if (type === 'image') {\n        var img = document.getElementById(_this.props.conferenceState.fileOpen.resources[0]);\n        var canvasDraw = document.getElementsByClassName('konvajs-content');\n        var rotate = _this._getCurrentRotationElm(img) + 90;\n        img.style = \"transform: rotate(\".concat(rotate > 270 ? rotate - 360 : rotate, \"deg)\");\n        canvasDraw[0].style.transform = \"rotate(\".concat(rotate > 270 ? rotate - 360 : rotate, \"deg)\");\n      }\n\n      if (type === 'pdf') {\n        var pdf = document.getElementsByClassName('react-pdf__Page__canvas');\n\n        var _rotate2 = _this._getCurrentRotationElm(pdf[0]) + 90;\n\n        pdf[0].style = \"transform: rotate(\".concat(_rotate2 > 270 ? _rotate2 - 360 : _rotate2, \"deg)\");\n      }\n    };\n\n    _this._changePropLine = function (height, color) {\n      _this.props.conferenceState.setState({\n        heightLine: height,\n        colorLine: color\n      });\n\n      var colorElm = document.getElementById('annotation-line-color');\n\n      if (colorElm) {\n        colorElm.style.backgroundColor = color;\n      }\n    };\n\n    _this._clearDraw = function () {\n      _this._sendDraw([]);\n    };\n\n    _this._undoDraw = function () {\n      var drawables = _this.props.conferenceState.drawables;\n\n      if (drawables.length > 0) {\n        drawables.pop();\n\n        _this._sendDraw(drawables.map(function (draw) {\n          return JSON.stringify(draw);\n        }));\n      }\n    };\n\n    _this._sendDraw = function (line) {\n      var _this$props$conferenc2 = _this.props.conferenceState,\n          fileOpen = _this$props$conferenc2.fileOpen,\n          myUserId = _this$props$conferenc2.myUserId;\n\n      if (fileOpen && fileOpen.isImage && fileOpen.uploadedBy._id === myUserId) {\n        client.mutate({\n          mutation: M_DRAW_SCREEN,\n          variables: {\n            conferenceId: _this.props.conferenceState.conference._id,\n            line: line,\n            imageUrl: _this.props.conferenceState.fileOpen.resources[0]\n          }\n        }).then(function () {}).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.state = {\n      pageNumber: 1,\n      numPages: 0,\n      rotate: 0\n    };\n    return _this;\n  }\n\n  _createClass(ShareResourceScreen, [{\n    key: \"componentDidMount\",\n    //END\n    value: function componentDidMount() {\n      var _this$props$conferenc3 = this.props.conferenceState,\n          fileOpen = _this$props$conferenc3.fileOpen,\n          positionSlide = _this$props$conferenc3.positionSlide,\n          setState = _this$props$conferenc3.setState;\n\n      if (fileOpen && fileOpen.isSlide) {\n        setState({\n          carousel: this.carousel\n        });\n        this.carousel.slick.slickGoTo(positionSlide);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props$conferenc4 = this.props.conferenceState,\n          fileOpen = _this$props$conferenc4.fileOpen,\n          positionSlide = _this$props$conferenc4.positionSlide,\n          carousel = _this$props$conferenc4.carousel,\n          setState = _this$props$conferenc4.setState;\n\n      if (!carousel && fileOpen && fileOpen.isSlide) {\n        setState({\n          carousel: this.carousel\n        });\n        this.carousel.slick.slickGoTo(positionSlide);\n      }\n\n      if (!fileOpen || !fileOpen.isSlide) {\n        setState({\n          carousel: null\n        });\n      }\n\n      if (fileOpen && fileOpen.isImage) {\n        var img = document.getElementById(fileOpen.resources[0]);\n        setState({\n          widthImage: img.clientWidth,\n          heightImage: img.clientHeight\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$conferenc5 = this.props.conferenceState,\n          fileOpen = _this$props$conferenc5.fileOpen,\n          myUserId = _this$props$conferenc5.myUserId,\n          widthImage = _this$props$conferenc5.widthImage,\n          activeDraw = _this$props$conferenc5.activeDraw,\n          heightLine = _this$props$conferenc5.heightLine,\n          colorLine = _this$props$conferenc5.colorLine,\n          newDrawableType = _this$props$conferenc5.newDrawableType,\n          drawables = _this$props$conferenc5.drawables,\n          setState = _this$props$conferenc5.setState;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"resources-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 9\n        }\n      }, this._visibleRotate() ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-undo\",\n        onClick: function onClick() {\n          return _this2._rotateLeft(fileOpen.isImage ? 'image' : 'pdf');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"undo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.openModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }\n      }, fileOpen && fileOpen.filename ? fileOpen.filename : \"Chia s\\u1EBB t\\u1EADp tin\"), /*#__PURE__*/React.createElement(_Icon, {\n        type: \"down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      })), fileOpen && fileOpen.isImage && fileOpen.uploadedBy._id === myUserId && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-draw \".concat(activeDraw ? 'active' : ''),\n        onClick: function onClick() {\n          return setState({\n            activeDraw: !activeDraw\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"draw\",\n        src: Brush,\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }\n      })), this._visibleRotate() ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-redo\",\n        onClick: function onClick() {\n          return _this2._rotateRight(fileOpen.isImage ? 'image' : 'pdf');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"redo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }\n      })), activeDraw && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbar-annotation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbar-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Dropdown, {\n        trigger: ['click'],\n        overlay: /*#__PURE__*/React.createElement(_Menu, {\n          onClick: function onClick(e) {\n            return e.domEvent.preventDefault();\n          },\n          className: \"menu-color-picker\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 19\n          }\n        }, listColor.map(function (item) {\n          return /*#__PURE__*/React.createElement(_Menu.Item, {\n            key: item,\n            id: \"color-\".concat(item),\n            onClick: function onClick() {\n              return _this2._changePropLine(heightLine, \"#\".concat(item));\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 23\n            }\n          }, colorLine === \"#\".concat(item) && /*#__PURE__*/React.createElement(_Icon, {\n            type: \"check\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 54\n            }\n          }));\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"annotation-line-color\",\n        style: {\n          backgroundColor: colorLine\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: BGColor,\n        alt: \"brushcolor\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(_Dropdown, {\n        trigger: ['click'],\n        overlay: /*#__PURE__*/React.createElement(_Menu, {\n          className: \"menu-line-heignt-picker\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 19\n          }\n        }, listHeight.map(function (item) {\n          return /*#__PURE__*/React.createElement(_Menu.Item, {\n            key: item,\n            onClick: function onClick() {\n              return _this2._changePropLine(item, colorLine);\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 25\n            }\n          }, item, \"px\"), /*#__PURE__*/React.createElement(\"svg\", {\n            style: {\n              height: '5px',\n              width: '70px'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"line\", {\n            x1: \"0\",\n            y1: \"0\",\n            x2: \"70\",\n            y2: \"0\",\n            stroke: colorLine,\n            strokeWidth: item * 3,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 27\n            }\n          })));\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        id: \"annotation-line-width\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 19\n        }\n      }, heightLine, \"px\"))), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: this._undoDraw,\n        style: {\n          backgroundColor: drawables.length > 0 ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Undo,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2._sendDraw([]);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Clear,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return setState({\n            newDrawableType: _drawType.ARROW\n          });\n        },\n        style: {\n          backgroundColor: newDrawableType === _drawType.ARROW ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Arrow,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return setState({\n            newDrawableType: _drawType.CIRCLE\n          });\n        },\n        style: {\n          backgroundColor: newDrawableType === _drawType.CIRCLE ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Circle,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return setState({\n            newDrawableType: _drawType.RECT\n          });\n        },\n        style: {\n          backgroundColor: newDrawableType === _drawType.RECT ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Rectangle,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return setState({\n            newDrawableType: _drawType.FREEPATH\n          });\n        },\n        style: {\n          backgroundColor: newDrawableType === _drawType.FREEPATH ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Pencil,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return setState({\n            newDrawableType: _drawType.CURSOR\n          });\n        },\n        style: {\n          backgroundColor: newDrawableType === _drawType.CURSOR ? '#5d9c5a' : '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Cursur,\n        alt: \"eraser\",\n        width: \"15px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(ModalContentResource, {\n        sendDraw: this._sendDraw,\n        openModal: function openModal(cb) {\n          return _this2.openModal = cb;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 9\n        }\n      }), fileOpen ? fileOpen.isImage ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-share-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }\n      }, this._renderResource(fileOpen.resources[0]), widthImage && /*#__PURE__*/React.createElement(Canvas, {\n        sendDraw: this._sendDraw,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 30\n        }\n      })) : fileOpen.isSlide ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slide-share-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(_Carousel, {\n        ref: function ref(cb) {\n          return _this2.carousel = cb;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 15\n        }\n      }, fileOpen.resources.map(function (imageURL) {\n        return _this2._renderResource(imageURL);\n      })), fileOpen.uploadedBy._id === myUserId && this._canPrevious() && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-prev\",\n        onClick: function onClick() {\n          return _this2._handleControl(_SLIDE._actionSlide.PREVIOUS);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 19\n        }\n      })), fileOpen.uploadedBy._id === myUserId && this._canNext() && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-next\",\n        onClick: function onClick() {\n          return _this2._handleControl(_SLIDE._actionSlide.NEXT);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 19\n        }\n      }))) : fileOpen.isPDF ? /*#__PURE__*/React.createElement(Document, {\n        file: fileOpen.resources[0],\n        onLoadSuccess: this._onDocumentLoadSuccess,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Page, {\n        pageNumber: this.state.pageNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }\n      }), this.state.pageNumber > 1 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-prev\",\n        onClick: this._prevPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 19\n        }\n      })), this.state.pageNumber - this.state.numPages < 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-next\",\n        onClick: this._nextPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(_Icon, {\n        type: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"num-pages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 15\n        }\n      }, \"Page \", this.state.pageNumber, \" of \", this.state.numPages)) : /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }\n      }) : /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return ShareResourceScreen;\n}(React.Component), _temp)) || _class) || _class);\nexport default ShareResourceScreen;","map":{"version":3,"sources":["/home/sang/js/cfr-frontend/src/pages/conference2/jitsi/layouts/Share.jsx"],"names":["React","inject","observer","Document","Page","pdfjs","_SLIDE","_drawType","client","M_SLIDE_SHOW","M_DRAW_SCREEN","ModalContentResource","Canvas","GlobalWorkerOptions","workerSrc","version","listColor","listHeight","ShareResourceScreen","stores","props","_renderResource","imageURL","_visibleRotate","conferenceState","fileOpen","activeDraw","isSlide","isImage","_canNext","positionSlide","resources","length","_canPrevious","_handleControl","type","_actionSlide","NEXT","_mutateSlide","PREVIOUS","mutate","mutation","variables","_id","_onDocumentLoadSuccess","numPages","setState","pageNumber","_nextPage","prev","_prevPage","_getCurrentRotationElm","elm","st","window","getComputedStyle","tm","getPropertyValue","values","split","angle","Math","round","atan2","PI","_rotateLeft","img","document","getElementById","canvasDraw","getElementsByClassName","rotate","style","transform","pdf","_rotateRight","_changePropLine","height","color","heightLine","colorLine","colorElm","backgroundColor","_clearDraw","_sendDraw","_undoDraw","drawables","pop","map","draw","JSON","stringify","line","myUserId","uploadedBy","conferenceId","conference","imageUrl","then","catch","err","console","log","state","carousel","slick","slickGoTo","widthImage","clientWidth","heightImage","clientHeight","newDrawableType","openModal","filename","Brush","e","domEvent","preventDefault","item","BGColor","width","Undo","Clear","ARROW","Arrow","CIRCLE","Circle","RECT","Rectangle","FREEPATH","Pencil","CURSOR","Cursur","cb","isPDF","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { inject, observer } from 'mobx-react'\nimport { Document, Page, pdfjs } from 'react-pdf'\nimport { Carousel, Icon, Dropdown, Menu } from 'antd'\n\nimport Cursur from '@misc/images/ngocly/cursor.svg'\nimport Undo from '@misc/images/ngocly/undo.svg'\nimport Rectangle from '@misc/images/ngocly/rectangle.svg'\nimport Circle from '@misc/images/ngocly/circle.svg'\nimport Pencil from '@misc/images/ngocly/pencil.svg'\nimport Arrow from '@misc/images/ngocly/arrow.svg'\nimport BGColor from '@misc/images/ngocly/paint.svg'\nimport Clear from '@misc/images/ngocly/clear.svg'\nimport Brush from '@misc/images/ngocly/brush.svg'\nimport { _SLIDE, _drawType } from '@constants'\nimport client, { M_SLIDE_SHOW, M_DRAW_SCREEN } from '@graphql'\nimport ModalContentResource from '@pages/conference2/modals/ModalContentResource'\nimport Canvas from '../components/Canvas'\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\n\nconst listColor = [\n  'F44235',\n  'EA1E63',\n  '9C27B1',\n  '673AB6',\n  '3E50B5',\n  '2196F3',\n  '02A9F5',\n  '00BCD5',\n  '009788',\n  '4BB050',\n  '8BC24A',\n  'CDDC39',\n  'FEEB3C',\n  'FEC107',\n  'FF9700',\n  'FE5722',\n  '785546',\n  '9E9E9E',\n  '697D8A'\n]\n\nconst listHeight = [1, 2, 3, 4, 5]\n\n@inject(({ stores }) => stores)\n@observer\nclass ShareResourceScreen extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      pageNumber: 1,\n      numPages: 0,\n      rotate: 0\n    }\n  }\n\n  _renderResource = imageURL => {\n    return <img key={imageURL} id={imageURL} src={imageURL} alt='img' />\n  }\n\n  _visibleRotate = () => {\n    const {\n      conferenceState: { fileOpen, activeDraw }\n    } = this.props\n\n    if (!fileOpen) return false\n    if (fileOpen.isSlide) return false\n    if (fileOpen.isImage && activeDraw) return false\n    return true\n  }\n\n  // Slide Share\n  _canNext = () => this.props.conferenceState.positionSlide < this.props.conferenceState.fileOpen.resources.length - 1\n\n  _canPrevious = () => this.props.conferenceState.positionSlide > 0\n\n  _handleControl = type => {\n    if (type === _SLIDE._actionSlide.NEXT) {\n      // this.carousel.slick.slickNext()\n      this._mutateSlide(type)\n    }\n\n    if (type === _SLIDE._actionSlide.PREVIOUS) {\n      // this.carousel.slick.slickPrev()\n      this._mutateSlide(type)\n    }\n  }\n\n  _mutateSlide = type => {\n    client.mutate({\n      mutation: M_SLIDE_SHOW,\n      variables: {\n        _id: this.props.conferenceState.fileOpen._id,\n        type\n      }\n    })\n  }\n\n  //PDF Share\n  _onDocumentLoadSuccess = ({ numPages }) => {\n    this.setState({ numPages, pageNumber: 1 })\n  }\n\n  _nextPage = () => this.setState(prev => ({ pageNumber: prev.pageNumber + 1 }))\n  _prevPage = () => this.setState(prev => ({ pageNumber: prev.pageNumber - 1 }))\n\n  // Image Share\n  _getCurrentRotationElm = elm => {\n    let st = window.getComputedStyle(elm, null)\n    let tm =\n      st.getPropertyValue('-webkit-transform') ||\n      st.getPropertyValue('-moz-transform') ||\n      st.getPropertyValue('-ms-transform') ||\n      st.getPropertyValue('-o-transform') ||\n      st.getPropertyValue('transform') ||\n      'none'\n\n    if (tm !== 'none') {\n      let values = tm\n        .split('(')[1]\n        .split(')')[0]\n        .split(',')\n\n      let angle = Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI))\n      return angle < 0 ? angle + 360 : angle\n    }\n    return 0\n  }\n\n  _rotateLeft = type => {\n    if (type === 'image') {\n      let img = document.getElementById(this.props.conferenceState.fileOpen.resources[0])\n      let canvasDraw = document.getElementsByClassName('konvajs-content')\n      let rotate = this._getCurrentRotationElm(img) - 90\n      img.style = `transform: rotate(${rotate < 0 ? rotate + 360 : rotate}deg)`\n      canvasDraw[0].style.transform = `rotate(${rotate < 0 ? rotate + 360 : rotate}deg)`\n    }\n\n    if (type === 'pdf') {\n      let pdf = document.getElementsByClassName('react-pdf__Page__canvas')\n      let rotate = this._getCurrentRotationElm(pdf[0]) - 90\n      pdf[0].style = `transform: rotate(${rotate < 0 ? rotate + 360 : rotate}deg)`\n    }\n  }\n\n  _rotateRight = type => {\n    if (type === 'image') {\n      let img = document.getElementById(this.props.conferenceState.fileOpen.resources[0])\n      let canvasDraw = document.getElementsByClassName('konvajs-content')\n      let rotate = this._getCurrentRotationElm(img) + 90\n      img.style = `transform: rotate(${rotate > 270 ? rotate - 360 : rotate}deg)`\n      canvasDraw[0].style.transform = `rotate(${rotate > 270 ? rotate - 360 : rotate}deg)`\n    }\n\n    if (type === 'pdf') {\n      let pdf = document.getElementsByClassName('react-pdf__Page__canvas')\n      let rotate = this._getCurrentRotationElm(pdf[0]) + 90\n      pdf[0].style = `transform: rotate(${rotate > 270 ? rotate - 360 : rotate}deg)`\n    }\n  }\n\n  _changePropLine = (height, color) => {\n    this.props.conferenceState.setState({ heightLine: height, colorLine: color })\n\n    let colorElm = document.getElementById('annotation-line-color')\n\n    if (colorElm) {\n      colorElm.style.backgroundColor = color\n    }\n  }\n\n  _clearDraw = () => {\n    this._sendDraw([])\n  }\n\n  _undoDraw = () => {\n    const { drawables } = this.props.conferenceState\n    if (drawables.length > 0) {\n      drawables.pop()\n      this._sendDraw(drawables.map(draw => JSON.stringify(draw)))\n    }\n  }\n\n  _sendDraw = line => {\n    const {\n      conferenceState: { fileOpen, myUserId }\n    } = this.props\n    if (fileOpen && fileOpen.isImage && fileOpen.uploadedBy._id === myUserId) {\n      client\n        .mutate({\n          mutation: M_DRAW_SCREEN,\n          variables: {\n            conferenceId: this.props.conferenceState.conference._id,\n            line,\n            imageUrl: this.props.conferenceState.fileOpen.resources[0]\n          }\n        })\n        .then(() => {})\n        .catch(err => console.log(err))\n    }\n  }\n\n  //END\n\n  componentDidMount() {\n    const { fileOpen, positionSlide, setState } = this.props.conferenceState\n    if (fileOpen && fileOpen.isSlide) {\n      setState({ carousel: this.carousel })\n      this.carousel.slick.slickGoTo(positionSlide)\n    }\n  }\n\n  componentDidUpdate() {\n    const { fileOpen, positionSlide, carousel, setState } = this.props.conferenceState\n    if (!carousel && fileOpen && fileOpen.isSlide) {\n      setState({ carousel: this.carousel })\n      this.carousel.slick.slickGoTo(positionSlide)\n    }\n\n    if (!fileOpen || !fileOpen.isSlide) {\n      setState({ carousel: null })\n    }\n\n    if (fileOpen && fileOpen.isImage) {\n      let img = document.getElementById(fileOpen.resources[0])\n      setState({\n        widthImage: img.clientWidth,\n        heightImage: img.clientHeight\n      })\n    }\n  }\n\n  render() {\n    const {\n      conferenceState: {\n        fileOpen,\n        myUserId,\n        widthImage,\n        activeDraw,\n        heightLine,\n        colorLine,\n        newDrawableType,\n        drawables,\n        setState\n      }\n    } = this.props\n\n    return (\n      <div className='resources-container'>\n        <div className='button-top'>\n          {this._visibleRotate() ? (\n            <div className='button-undo' onClick={() => this._rotateLeft(fileOpen.isImage ? 'image' : 'pdf')}>\n              <Icon type='undo' />\n            </div>\n          ) : (\n            <React.Fragment />\n          )}\n          <button onClick={() => this.openModal()}>\n            <div>{fileOpen && fileOpen.filename ? fileOpen.filename : `Chia sẻ tập tin`}</div>\n            <Icon type='down' />\n          </button>\n\n          {fileOpen && fileOpen.isImage && fileOpen.uploadedBy._id === myUserId && (\n            <div\n              className={`button-draw ${activeDraw ? 'active' : ''}`}\n              onClick={() => setState({ activeDraw: !activeDraw })}\n            >\n              <img alt='draw' src={Brush} width='15px' />\n            </div>\n          )}\n\n          {this._visibleRotate() ? (\n            <div className='button-redo' onClick={() => this._rotateRight(fileOpen.isImage ? 'image' : 'pdf')}>\n              <Icon type='redo' />\n            </div>\n          ) : (\n            <React.Fragment />\n          )}\n        </div>\n\n        {activeDraw && (\n          <div className='toolbar-annotation'>\n            <div className='toolbar-container'>\n              <Dropdown\n                trigger={['click']}\n                overlay={\n                  <Menu onClick={e => e.domEvent.preventDefault()} className='menu-color-picker'>\n                    {listColor.map(item => (\n                      <Menu.Item\n                        key={item}\n                        id={`color-${item}`}\n                        onClick={() => this._changePropLine(heightLine, `#${item}`)}\n                      >\n                        {colorLine === `#${item}` && <Icon type='check' />}\n                      </Menu.Item>\n                    ))}\n                  </Menu>\n                }\n              >\n                <div id='annotation-line-color' style={{ backgroundColor: colorLine }}>\n                  {/* <Icon type='bg-colors' /> */}\n                  <img src={BGColor} alt='brushcolor' width='15px' />\n                </div>\n              </Dropdown>\n\n              <Dropdown\n                trigger={['click']}\n                overlay={\n                  <Menu className='menu-line-heignt-picker'>\n                    {listHeight.map(item => (\n                      <Menu.Item key={item} onClick={() => this._changePropLine(item, colorLine)}>\n                        <div>{item}px</div>\n                        <svg style={{ height: '5px', width: '70px' }}>\n                          <line x1='0' y1='0' x2='70' y2='0' stroke={colorLine} strokeWidth={item * 3} />\n                        </svg>\n                      </Menu.Item>\n                    ))}\n                  </Menu>\n                }\n              >\n                <div>\n                  <p id='annotation-line-width'>{heightLine}px</p>\n                </div>\n              </Dropdown>\n\n              <div onClick={this._undoDraw} style={{ backgroundColor: drawables.length > 0 ? '#5d9c5a' : '#fff' }}>\n                <img src={Undo} alt='eraser' width='15px' />\n              </div>\n\n              <div onClick={() => this._sendDraw([])}>\n                <img src={Clear} alt='eraser' width='15px' />\n              </div>\n\n              <div\n                onClick={() => setState({ newDrawableType: _drawType.ARROW })}\n                style={{ backgroundColor: newDrawableType === _drawType.ARROW ? '#5d9c5a' : '#fff' }}\n              >\n                <img src={Arrow} alt='eraser' width='15px' />\n              </div>\n\n              <div\n                onClick={() => setState({ newDrawableType: _drawType.CIRCLE })}\n                style={{ backgroundColor: newDrawableType === _drawType.CIRCLE ? '#5d9c5a' : '#fff' }}\n              >\n                <img src={Circle} alt='eraser' width='15px' />\n              </div>\n\n              <div\n                onClick={() => setState({ newDrawableType: _drawType.RECT })}\n                style={{ backgroundColor: newDrawableType === _drawType.RECT ? '#5d9c5a' : '#fff' }}\n              >\n                <img src={Rectangle} alt='eraser' width='15px' />\n              </div>\n\n              <div\n                onClick={() => setState({ newDrawableType: _drawType.FREEPATH })}\n                style={{ backgroundColor: newDrawableType === _drawType.FREEPATH ? '#5d9c5a' : '#fff' }}\n              >\n                <img src={Pencil} alt='eraser' width='15px' />\n              </div>\n\n              <div\n                onClick={() => setState({ newDrawableType: _drawType.CURSOR })}\n                style={{ backgroundColor: newDrawableType === _drawType.CURSOR ? '#5d9c5a' : '#fff' }}\n              >\n                <img src={Cursur} alt='eraser' width='15px' />\n              </div>\n            </div>\n          </div>\n        )}\n\n        <ModalContentResource sendDraw={this._sendDraw} openModal={cb => (this.openModal = cb)} />\n\n        {fileOpen ? (\n          fileOpen.isImage ? (\n            <div className='image-share-container'>\n              {this._renderResource(fileOpen.resources[0])}\n              {widthImage && <Canvas sendDraw={this._sendDraw} />}\n            </div>\n          ) : fileOpen.isSlide ? (\n            <div className='slide-share-container'>\n              <Carousel ref={cb => (this.carousel = cb)}>\n                {fileOpen.resources.map(imageURL => {\n                  return this._renderResource(imageURL)\n                })}\n              </Carousel>\n              {fileOpen.uploadedBy._id === myUserId && this._canPrevious() && (\n                <div className='btn-prev' onClick={() => this._handleControl(_SLIDE._actionSlide.PREVIOUS)}>\n                  <Icon type='left' />\n                </div>\n              )}\n\n              {fileOpen.uploadedBy._id === myUserId && this._canNext() && (\n                <div className='btn-next' onClick={() => this._handleControl(_SLIDE._actionSlide.NEXT)}>\n                  <Icon type='right' />\n                </div>\n              )}\n\n              {/* <div className='current-page'>\n                <h2>{position}</h2>\n              </div> */}\n            </div>\n          ) : fileOpen.isPDF ? (\n            <Document file={fileOpen.resources[0]} onLoadSuccess={this._onDocumentLoadSuccess}>\n              <Page pageNumber={this.state.pageNumber} />\n              {this.state.pageNumber > 1 && (\n                <div className='btn-prev' onClick={this._prevPage}>\n                  <Icon type='left' />\n                </div>\n              )}\n              {this.state.pageNumber - this.state.numPages < 0 && (\n                <div className='btn-next' onClick={this._nextPage}>\n                  <Icon type='right' />\n                </div>\n              )}\n              <div className='num-pages'>\n                Page {this.state.pageNumber} of {this.state.numPages}\n              </div>\n            </Document>\n          ) : (\n            <React.Fragment />\n          )\n        ) : (\n          <React.Fragment />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default ShareResourceScreen\n"]},"metadata":{},"sourceType":"module"}